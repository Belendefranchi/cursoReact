function ZS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _y(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yo={},ex={get exports(){return yo},set exports(t){yo=t}},yu={},h={},tx={get exports(){return h},set exports(t){h=t}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ra=Symbol.for("react.element"),nx=Symbol.for("react.portal"),rx=Symbol.for("react.fragment"),ix=Symbol.for("react.strict_mode"),sx=Symbol.for("react.profiler"),ox=Symbol.for("react.provider"),ax=Symbol.for("react.context"),lx=Symbol.for("react.forward_ref"),ux=Symbol.for("react.suspense"),cx=Symbol.for("react.memo"),dx=Symbol.for("react.lazy"),Mm=Symbol.iterator;function fx(t){return t===null||typeof t!="object"?null:(t=Mm&&t[Mm]||t["@@iterator"],typeof t=="function"?t:null)}var $y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dy=Object.assign,Ry={};function fs(t,e,n){this.props=t,this.context=e,this.refs=Ry,this.updater=n||$y}fs.prototype.isReactComponent={};fs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Oy(){}Oy.prototype=fs.prototype;function sh(t,e,n){this.props=t,this.context=e,this.refs=Ry,this.updater=n||$y}var oh=sh.prototype=new Oy;oh.constructor=sh;Dy(oh,fs.prototype);oh.isPureReactComponent=!0;var bm=Array.isArray,Ay=Object.prototype.hasOwnProperty,ah={current:null},Ly={key:!0,ref:!0,__self:!0,__source:!0};function Py(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ay.call(e,r)&&!Ly.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ra,type:t,key:s,ref:o,props:i,_owner:ah.current}}function hx(t,e){return{$$typeof:ra,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ra}function px(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fm=/\/+/g;function Ec(t,e){return typeof t=="object"&&t!==null&&t.key!=null?px(""+t.key):e.toString(36)}function ol(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ra:case nx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ec(o,0):r,bm(i)?(n="",t!=null&&(n=t.replace(Fm,"$&/")+"/"),ol(i,e,n,"",function(u){return u})):i!=null&&(lh(i)&&(i=hx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",bm(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ec(s,a);o+=ol(s,e,n,l,i)}else if(l=fx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ec(s,a++),o+=ol(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oa(t,e,n){if(t==null)return t;var r=[],i=0;return ol(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},al={transition:null},gx={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:al,ReactCurrentOwner:ah};re.Children={map:Oa,forEach:function(t,e,n){Oa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oa(t,function(){e++}),e},toArray:function(t){return Oa(t,function(e){return e})||[]},only:function(t){if(!lh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=fs;re.Fragment=rx;re.Profiler=sx;re.PureComponent=sh;re.StrictMode=ix;re.Suspense=ux;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gx;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Dy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ah.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ay.call(e,l)&&!Ly.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ra,type:t.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:ax,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ox,_context:t},t.Consumer=t};re.createElement=Py;re.createFactory=function(t){var e=Py.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:lx,render:t}};re.isValidElement=lh;re.lazy=function(t){return{$$typeof:dx,_payload:{_status:-1,_result:t},_init:mx}};re.memo=function(t,e){return{$$typeof:cx,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=al.transition;al.transition={};try{t()}finally{al.transition=e}};re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};re.useCallback=function(t,e){return yt.current.useCallback(t,e)};re.useContext=function(t){return yt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};re.useEffect=function(t,e){return yt.current.useEffect(t,e)};re.useId=function(){return yt.current.useId()};re.useImperativeHandle=function(t,e,n){return yt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return yt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return yt.current.useReducer(t,e,n)};re.useRef=function(t){return yt.current.useRef(t)};re.useState=function(t){return yt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return yt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return yt.current.useTransition()};re.version="18.2.0";(function(t){t.exports=re})(tx);const Ue=_y(h),pd=ZS({__proto__:null,default:Ue},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx=h,yx=Symbol.for("react.element"),wx=Symbol.for("react.fragment"),Ex=Object.prototype.hasOwnProperty,Cx=vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sx={key:!0,ref:!0,__self:!0,__source:!0};function My(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ex.call(e,r)&&!Sx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yx,type:t,key:s,ref:o,props:i,_owner:Cx.current}}yu.Fragment=wx;yu.jsx=My;yu.jsxs=My;(function(t){t.exports=yu})(ex);const un=yo.Fragment,v=yo.jsx,M=yo.jsxs;/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wo.apply(this,arguments)}var ar;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ar||(ar={}));const Bm="popstate";function xx(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return md("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xl(i)}return Nx(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kx(){return Math.random().toString(36).substr(2,8)}function Um(t,e){return{usr:t.state,key:t.key,idx:e}}function md(t,e,n,r){return n===void 0&&(n=null),wo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hs(e):e,{state:n,key:e&&e.key||r||kx()})}function xl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Nx(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ar.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(wo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){let S=ar.Pop,m=c();if(m!=null){let p=m-u;a=S,u=m,l&&l({action:a,location:E.location,delta:p})}else Tx(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function f(S,m){a=ar.Push;let p=md(E.location,S,m);n&&n(p,S),u=c()+1;let y=Um(p,u),C=E.createHref(p);try{o.pushState(y,"",C)}catch{i.location.assign(C)}s&&l&&l({action:a,location:E.location,delta:1})}function g(S,m){a=ar.Replace;let p=md(E.location,S,m);n&&n(p,S),u=c();let y=Um(p,u),C=E.createHref(p);o.replaceState(y,"",C),s&&l&&l({action:a,location:E.location,delta:0})}function w(S){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof S=="string"?S:xl(S);return be(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let E={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Bm,d),l=S,()=>{i.removeEventListener(Bm,d),l=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let m=w(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(S){return o.go(S)}};return E}var jm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jm||(jm={}));function Ix(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?hs(e):e,i=By(r.pathname||"/",n);if(i==null)return null;let s=by(t);_x(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=bx(s[a],Ux(i));return o}function by(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=dr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),by(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Px(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Fy(s.path))i(s,o,l)}),e}function Fy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Fy(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _x(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Mx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $x=/^:\w+$/,Dx=3,Rx=2,Ox=1,Ax=10,Lx=-2,Vm=t=>t==="*";function Px(t,e){let n=t.split("/"),r=n.length;return n.some(Vm)&&(r+=Lx),e&&(r+=Rx),n.filter(i=>!Vm(i)).reduce((i,s)=>i+($x.test(s)?Dx:s===""?Ox:Ax),r)}function Mx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bx(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Fx({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:dr([i,c.pathname]),pathnameBase:Hx(dr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=dr([i,c.pathnameBase]))}return s}function Fx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Bx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=jx(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Bx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ux(t){try{return decodeURI(t)}catch(e){return uh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jx(t,e){try{return decodeURIComponent(t)}catch(n){return uh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function By(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?hs(t):t;return{pathname:n?n.startsWith("/")?n:zx(n,e):e,search:Wx(r),hash:qx(i)}}function zx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=hs(t):(i=wo({},t),be(!i.pathname||!i.pathname.includes("?"),Cc("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),Cc("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),Cc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Vx(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const dr=t=>t.join("/").replace(/\/\/+/g,"/"),Hx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Wx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Kx{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Gx(t){return t instanceof Kx}const Qx=["post","put","patch","delete"];[...Qx];/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}function Xx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const Yx=typeof Object.is=="function"?Object.is:Xx,{useState:Jx,useEffect:Zx,useLayoutEffect:eT,useDebugValue:tT}=pd;function nT(t,e,n){const r=e(),[{inst:i},s]=Jx({inst:{value:r,getSnapshot:e}});return eT(()=>{i.value=r,i.getSnapshot=e,Sc(i)&&s({inst:i})},[t,r,e]),Zx(()=>(Sc(i)&&s({inst:i}),t(()=>{Sc(i)&&s({inst:i})})),[t]),tT(r),r}function Sc(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!Yx(n,r)}catch{return!0}}function rT(t,e,n){return e()}const iT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sT=!iT,oT=sT?rT:nT;"useSyncExternalStore"in pd&&(t=>t.useSyncExternalStore)(pd);const Vy=h.createContext(null),ch=h.createContext(null),wu=h.createContext(null),Eu=h.createContext(null),ci=h.createContext({outlet:null,matches:[]}),zy=h.createContext(null);function aT(t,e){let{relative:n}=e===void 0?{}:e;ps()||be(!1);let{basename:r,navigator:i}=h.useContext(wu),{hash:s,pathname:o,search:a}=Wy(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:dr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ps(){return h.useContext(Eu)!=null}function ia(){return ps()||be(!1),h.useContext(Eu).location}function Hy(){ps()||be(!1);let{basename:t,navigator:e}=h.useContext(wu),{matches:n}=h.useContext(ci),{pathname:r}=ia(),i=JSON.stringify(Uy(n).map(a=>a.pathnameBase)),s=h.useRef(!1);return h.useEffect(()=>{s.current=!0}),h.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=jy(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:dr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function vd(){let{matches:t}=h.useContext(ci),e=t[t.length-1];return e?e.params:{}}function Wy(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=h.useContext(ci),{pathname:i}=ia(),s=JSON.stringify(Uy(r).map(o=>o.pathnameBase));return h.useMemo(()=>jy(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function lT(t,e){ps()||be(!1);let{navigator:n}=h.useContext(wu),r=h.useContext(ch),{matches:i}=h.useContext(ci),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=ia(),u;if(e){var c;let E=typeof e=="string"?hs(e):e;a==="/"||(c=E.pathname)!=null&&c.startsWith(a)||be(!1),u=E}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",g=Ix(t,{pathname:f}),w=fT(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:dr([a,n.encodeLocation?n.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?a:dr([a,n.encodeLocation?n.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,r||void 0);return e&&w?h.createElement(Eu.Provider,{value:{location:gd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ar.Pop}},w):w}function uT(){let t=gT(),e=Gx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unhandled Thrown Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,h.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your ownÂ ",h.createElement("code",{style:s},"errorElement")," props onÂ ",h.createElement("code",{style:s},"<Route>")))}class cT extends h.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?h.createElement(ci.Provider,{value:this.props.routeContext},h.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dT(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(Vy);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(ci.Provider,{value:e},r)}function fT(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||be(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=n?o.route.errorElement||h.createElement(uT,null):null,c=e.concat(r.slice(0,a+1)),d=()=>h.createElement(dT,{match:o,routeContext:{outlet:s,matches:c}},l?u:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?h.createElement(cT,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var zm;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(zm||(zm={}));var Tl;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Tl||(Tl={}));function hT(t){let e=h.useContext(ch);return e||be(!1),e}function pT(t){let e=h.useContext(ci);return e||be(!1),e}function mT(t){let e=pT(),n=e.matches[e.matches.length-1];return n.route.id||be(!1),n.route.id}function gT(){var t;let e=h.useContext(zy),n=hT(Tl.UseRouteError),r=mT(Tl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function vT(t){let{to:e,replace:n,state:r,relative:i}=t;ps()||be(!1);let s=h.useContext(ch),o=Hy();return h.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function Fr(t){be(!1)}function yT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ar.Pop,navigator:s,static:o=!1}=t;ps()&&be(!1);let a=e.replace(/^\/*/,"/"),l=h.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=hs(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:g="default"}=r,w=h.useMemo(()=>{let E=By(u,a);return E==null?null:{pathname:E,search:c,hash:d,state:f,key:g}},[a,u,c,d,f,g]);return w==null?null:h.createElement(wu.Provider,{value:l},h.createElement(Eu.Provider,{children:n,value:{location:w,navigationType:i}}))}function wT(t){let{children:e,location:n}=t,r=h.useContext(Vy),i=r&&!e?r.router.routes:yd(e);return lT(i,n)}var Hm;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Hm||(Hm={}));new Promise(()=>{});function yd(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,i)=>{if(!h.isValidElement(r))return;if(r.type===h.Fragment){n.push.apply(n,yd(r.props.children,e));return}r.type!==Fr&&be(!1),!r.props.index||!r.props.children||be(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=yd(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(this,arguments)}function ET(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ST(t,e){return t.button===0&&(!e||e==="_self")&&!CT(t)}const xT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function TT(t){let{basename:e,children:n,window:r}=t,i=h.useRef();i.current==null&&(i.current=xx({window:r,v5Compat:!0}));let s=i.current,[o,a]=h.useState({action:s.action,location:s.location});return h.useLayoutEffect(()=>s.listen(a),[s]),h.createElement(yT,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const tr=h.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=ET(e,xT),f=aT(u,{relative:i}),g=kT(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function w(E){r&&r(E),E.defaultPrevented||g(E)}return h.createElement("a",wd({},d,{href:f,onClick:s?r:w,ref:n,target:l}))});var Wm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Wm||(Wm={}));var qm;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qm||(qm={}));function kT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Hy(),l=ia(),u=Wy(t,{relative:o});return h.useCallback(c=>{if(ST(c,n)){c.preventDefault();let d=r!==void 0?r:xl(l)===xl(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ky={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(n[c],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const f=s<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const w=u<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},IT=function(t){const e=qy(t);return Ky.encodeByteArray(e,!0)},kl=function(t){return IT(t).replace(/\./g,"")},_T=function(t){try{return Ky.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=()=>$T().__FIREBASE_DEFAULTS__,RT=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_T(t[1]);return e&&JSON.parse(e)},Gy=()=>{try{return DT()||RT()||OT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AT=t=>{var e,n;return(n=(e=Gy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LT=t=>{const e=AT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PT=()=>{var t;return(t=Gy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[kl(JSON.stringify(n)),kl(JSON.stringify(o)),a].join(".")}function FT(){try{return typeof indexedDB=="object"}catch{return!1}}function BT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="FirebaseError";class ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UT,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qy.prototype.create)}}class Qy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jT(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ms(i,a,r)}}function jT(t,e){return t.replace(VT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VT=/\{\$([^}]+)}/g;function Ed(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Km(s)&&Km(o)){if(!Ed(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Km(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WT(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HT(t){return t===Br?void 0:t}function WT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const KT={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},GT=ce.INFO,QT={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},XT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xy{constructor(e){this.name=e,this._logLevel=GT,this._logHandler=XT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const YT=(t,e)=>e.some(n=>t instanceof n);let Gm,Qm;function JT(){return Gm||(Gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZT(){return Qm||(Qm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yy=new WeakMap,Cd=new WeakMap,Jy=new WeakMap,xc=new WeakMap,dh=new WeakMap;function ek(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Yy.set(n,t)}).catch(()=>{}),dh.set(e,t),e}function tk(t){if(Cd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cd.set(t,e)}let Sd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nk(t){Sd=t(Sd)}function rk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tc(this),e,...n);return Jy.set(r,e.sort?e.sort():[e]),fr(r)}:ZT().includes(t)?function(...e){return t.apply(Tc(this),e),fr(Yy.get(this))}:function(...e){return fr(t.apply(Tc(this),e))}}function ik(t){return typeof t=="function"?rk(t):(t instanceof IDBTransaction&&tk(t),YT(t,JT())?new Proxy(t,Sd):t)}function fr(t){if(t instanceof IDBRequest)return ek(t);if(xc.has(t))return xc.get(t);const e=ik(t);return e!==t&&(xc.set(t,e),dh.set(e,t)),e}const Tc=t=>dh.get(t);function sk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fr(o.result),l.oldVersion,l.newVersion,fr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const ok=["get","getKey","getAll","getAllKeys","count"],ak=["put","add","delete","clear"],kc=new Map;function Xm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kc.get(e))return kc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ak.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ok.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return kc.set(e,s),s}nk(t=>({...t,get:(e,n,r)=>Xm(e,n)||t.get(e,n,r),has:(e,n)=>!!Xm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xd="@firebase/app",Ym="0.9.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Xy("@firebase/app"),ck="@firebase/app-compat",dk="@firebase/analytics-compat",fk="@firebase/analytics",hk="@firebase/app-check-compat",pk="@firebase/app-check",mk="@firebase/auth",gk="@firebase/auth-compat",vk="@firebase/database",yk="@firebase/database-compat",wk="@firebase/functions",Ek="@firebase/functions-compat",Ck="@firebase/installations",Sk="@firebase/installations-compat",xk="@firebase/messaging",Tk="@firebase/messaging-compat",kk="@firebase/performance",Nk="@firebase/performance-compat",Ik="@firebase/remote-config",_k="@firebase/remote-config-compat",$k="@firebase/storage",Dk="@firebase/storage-compat",Rk="@firebase/firestore",Ok="@firebase/firestore-compat",Ak="firebase",Lk="9.17.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",Pk={[xd]:"fire-core",[ck]:"fire-core-compat",[fk]:"fire-analytics",[dk]:"fire-analytics-compat",[pk]:"fire-app-check",[hk]:"fire-app-check-compat",[mk]:"fire-auth",[gk]:"fire-auth-compat",[vk]:"fire-rtdb",[yk]:"fire-rtdb-compat",[wk]:"fire-fn",[Ek]:"fire-fn-compat",[Ck]:"fire-iid",[Sk]:"fire-iid-compat",[xk]:"fire-fcm",[Tk]:"fire-fcm-compat",[kk]:"fire-perf",[Nk]:"fire-perf-compat",[Ik]:"fire-rc",[_k]:"fire-rc-compat",[$k]:"fire-gcs",[Dk]:"fire-gcs-compat",[Rk]:"fire-fst",[Ok]:"fire-fst-compat","fire-js":"fire-js",[Ak]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new Map,kd=new Map;function Mk(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Il(t){const e=t.name;if(kd.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;kd.set(e,t);for(const n of Nl.values())Mk(n,t);return!0}function bk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},hr=new Qy("app","Firebase",Fk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=Lk;function Zy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Td,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hr.create("bad-app-name",{appName:String(i)});if(n||(n=PT()),!n)throw hr.create("no-options");const s=Nl.get(i);if(s){if(Ed(n,s.options)&&Ed(r,s.config))return s;throw hr.create("duplicate-app",{appName:i})}const o=new qT(i);for(const l of kd.values())o.addComponent(l);const a=new Bk(n,r,o);return Nl.set(i,a),a}function jk(t=Td){const e=Nl.get(t);if(!e&&t===Td)return Zy();if(!e)throw hr.create("no-app",{appName:t});return e}function Ui(t,e,n){var r;let i=(r=Pk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}Il(new Eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="firebase-heartbeat-database",zk=1,Co="firebase-heartbeat-store";let Nc=null;function e0(){return Nc||(Nc=sk(Vk,zk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Co)}}}).catch(t=>{throw hr.create("idb-open",{originalErrorMessage:t.message})})),Nc}async function Hk(t){try{return(await e0()).transaction(Co).objectStore(Co).get(t0(t))}catch(e){if(e instanceof ms)ei.warn(e.message);else{const n=hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function Jm(t,e){try{const r=(await e0()).transaction(Co,"readwrite");return await r.objectStore(Co).put(e,t0(t)),r.done}catch(n){if(n instanceof ms)ei.warn(n.message);else{const r=hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(r.message)}}}function t0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=1024,qk=30*24*60*60*1e3;class Kk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Zm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=qk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zm(),{heartbeatsToSend:n,unsentEntries:r}=Gk(this._heartbeatsCache.heartbeats),i=kl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Zm(){return new Date().toISOString().substring(0,10)}function Gk(t,e=Wk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),eg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Qk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FT()?BT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Hk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eg(t){return kl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){Il(new Eo("platform-logger",e=>new lk(e),"PRIVATE")),Il(new Eo("heartbeat",e=>new Kk(e),"PRIVATE")),Ui(xd,Ym,t),Ui(xd,Ym,"esm2017"),Ui("fire-js","")}Xk("");var Yk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,fh=fh||{},q=Yk||self;function _l(){}function Cu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function sa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Jk(t){return Object.prototype.hasOwnProperty.call(t,Ic)&&t[Ic]||(t[Ic]=++Zk)}var Ic="closure_uid_"+(1e9*Math.random()>>>0),Zk=0;function eN(t,e,n){return t.call.apply(t.bind,arguments)}function tN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ut=eN:ut=tN,ut.apply(null,arguments)}function Aa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function nt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function $r(){this.s=this.s,this.o=this.o}var nN=0;$r.prototype.s=!1;$r.prototype.na=function(){!this.s&&(this.s=!0,this.M(),nN!=0)&&Jk(this)};$r.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const n0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function hh(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function tg(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Cu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var rN=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{q.addEventListener("test",_l,e),q.removeEventListener("test",_l,e)}catch{}return t}();function $l(t){return/^[\s\xa0]*$/.test(t)}var ng=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function _c(t,e){return t<e?-1:t>e?1:0}function Su(){var t=q.navigator;return t&&(t=t.userAgent)?t:""}function mn(t){return Su().indexOf(t)!=-1}function ph(t){return ph[" "](t),t}ph[" "]=_l;function iN(t){var e=aN;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var sN=mn("Opera"),Qi=mn("Trident")||mn("MSIE"),r0=mn("Edge"),Nd=r0||Qi,i0=mn("Gecko")&&!(Su().toLowerCase().indexOf("webkit")!=-1&&!mn("Edge"))&&!(mn("Trident")||mn("MSIE"))&&!mn("Edge"),oN=Su().toLowerCase().indexOf("webkit")!=-1&&!mn("Edge");function s0(){var t=q.document;return t?t.documentMode:void 0}var Dl;e:{var $c="",Dc=function(){var t=Su();if(i0)return/rv:([^\);]+)(\)|;)/.exec(t);if(r0)return/Edge\/([\d\.]+)/.exec(t);if(Qi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(oN)return/WebKit\/(\S+)/.exec(t);if(sN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Dc&&($c=Dc?Dc[1]:""),Qi){var Rc=s0();if(Rc!=null&&Rc>parseFloat($c)){Dl=String(Rc);break e}}Dl=$c}var aN={};function lN(){return iN(function(){let t=0;const e=ng(String(Dl)).split("."),n=ng("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=_c(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||_c(i[2].length==0,s[2].length==0)||_c(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Id;if(q.document&&Qi){var rg=s0();Id=rg||parseInt(Dl,10)||void 0}else Id=void 0;var uN=Id;function So(t,e){if(ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(i0){e:{try{ph(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:cN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&So.X.h.call(this)}}nt(So,ct);var cN={2:"touch",3:"pen",4:"mouse"};So.prototype.h=function(){So.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oa="closure_listenable_"+(1e6*Math.random()|0),dN=0;function fN(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++dN,this.ba=this.ea=!1}function xu(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function mh(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function o0(t){const e={};for(const n in t)e[n]=t[n];return e}const ig="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function a0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ig.length;s++)n=ig[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tu(t){this.src=t,this.g={},this.h=0}Tu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=$d(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new fN(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function _d(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=n0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function $d(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var gh="closure_lm_"+(1e6*Math.random()|0),Oc={};function l0(t,e,n,r,i){if(r&&r.once)return c0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)l0(t,e[s],n,r,i);return null}return n=wh(n),t&&t[oa]?t.N(e,n,sa(r)?!!r.capture:!!r,i):u0(t,e,n,!1,r,i)}function u0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=sa(i)?!!i.capture:!!i,a=yh(t);if(a||(t[gh]=a=new Tu(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=hN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rN||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(f0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hN(){function t(n){return e.call(t.src,t.listener,n)}const e=pN;return t}function c0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)c0(t,e[s],n,r,i);return null}return n=wh(n),t&&t[oa]?t.O(e,n,sa(r)?!!r.capture:!!r,i):u0(t,e,n,!0,r,i)}function d0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)d0(t,e[s],n,r,i);else r=sa(r)?!!r.capture:!!r,n=wh(n),t&&t[oa]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=$d(s,n,r,i),-1<n&&(xu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=yh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$d(e,n,r,i)),(n=-1<t?e[t]:null)&&vh(n))}function vh(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[oa])_d(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(f0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yh(e))?(_d(n,t),n.h==0&&(n.src=null,e[gh]=null)):xu(t)}}}function f0(t){return t in Oc?Oc[t]:Oc[t]="on"+t}function pN(t,e){if(t.ba)t=!0;else{e=new So(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&vh(t),t=n.call(r,e)}return t}function yh(t){return t=t[gh],t instanceof Tu?t:null}var Ac="__closure_events_fn_"+(1e9*Math.random()>>>0);function wh(t){return typeof t=="function"?t:(t[Ac]||(t[Ac]=function(e){return t.handleEvent(e)}),t[Ac])}function Qe(){$r.call(this),this.i=new Tu(this),this.P=this,this.I=null}nt(Qe,$r);Qe.prototype[oa]=!0;Qe.prototype.removeEventListener=function(t,e,n,r){d0(this,t,e,n,r)};function Ze(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new ct(e,t);else if(e instanceof ct)e.target=e.target||t;else{var i=e;e=new ct(r,t),a0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=La(o,r,!0,e)&&i}if(o=e.g=t,i=La(o,r,!0,e)&&i,i=La(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=La(o,r,!1,e)&&i}Qe.prototype.M=function(){if(Qe.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xu(n[r]);delete t.g[e],t.h--}}this.I=null};Qe.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Qe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function La(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&_d(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Eh=q.JSON.stringify;function mN(){var t=m0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}let gN=class{constructor(){this.h=this.g=null}add(e,n){const r=h0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};var h0=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new vN,t=>t.reset());let vN=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function yN(t){q.setTimeout(()=>{throw t},0)}function p0(t,e){Dd||wN(),Rd||(Dd(),Rd=!0),m0.add(t,e)}var Dd;function wN(){var t=q.Promise.resolve(void 0);Dd=function(){t.then(EN)}}var Rd=!1,m0=new gN;function EN(){for(var t;t=mN();){try{t.h.call(t.g)}catch(n){yN(n)}var e=h0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rd=!1}function ku(t,e){Qe.call(this),this.h=t||1,this.g=e||q,this.j=ut(this.lb,this),this.l=Date.now()}nt(ku,Qe);B=ku.prototype;B.ca=!1;B.R=null;B.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ze(this,"tick"),this.ca&&(Ch(this),this.start()))}};B.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ch(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}B.M=function(){ku.X.M.call(this),Ch(this),delete this.g};function Sh(t,e,n){if(typeof t=="function")n&&(t=ut(t,n));else if(t&&typeof t.handleEvent=="function")t=ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:q.setTimeout(t,e||0)}function g0(t){t.g=Sh(()=>{t.g=null,t.i&&(t.i=!1,g0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}let CN=class extends $r{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g0(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function xo(t){$r.call(this),this.h=t,this.g={}}nt(xo,$r);var sg=[];function v0(t,e,n,r){Array.isArray(n)||(n&&(sg[0]=n.toString()),n=sg);for(var i=0;i<n.length;i++){var s=l0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function y0(t){mh(t.g,function(e,n){this.g.hasOwnProperty(n)&&vh(e)},t),t.g={}}xo.prototype.M=function(){xo.X.M.call(this),y0(this)};xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Nu(){this.g=!0}Nu.prototype.Aa=function(){this.g=!1};function SN(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function xN(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ki(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+kN(t,n)+(r?" "+r:"")})}function TN(t,e){t.info(function(){return"TIMEOUT: "+e})}Nu.prototype.info=function(){};function kN(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Eh(n)}catch{return e}}var di={},og=null;function Iu(){return og=og||new Qe}di.Pa="serverreachability";function w0(t){ct.call(this,di.Pa,t)}nt(w0,ct);function To(t){const e=Iu();Ze(e,new w0(e))}di.STAT_EVENT="statevent";function E0(t,e){ct.call(this,di.STAT_EVENT,t),this.stat=e}nt(E0,ct);function mt(t){const e=Iu();Ze(e,new E0(e,t))}di.Qa="timingevent";function C0(t,e){ct.call(this,di.Qa,t),this.size=e}nt(C0,ct);function aa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){t()},e)}var _u={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},S0={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function xh(){}xh.prototype.h=null;function ag(t){return t.h||(t.h=t.i())}function x0(){}var la={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Th(){ct.call(this,"d")}nt(Th,ct);function kh(){ct.call(this,"c")}nt(kh,ct);var Od;function $u(){}nt($u,xh);$u.prototype.g=function(){return new XMLHttpRequest};$u.prototype.i=function(){return{}};Od=new $u;function ua(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new xo(this),this.O=NN,t=Nd?125:void 0,this.T=new ku(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new T0}function T0(){this.i=null,this.g="",this.h=!1}var NN=45e3,Ad={},Rl={};B=ua.prototype;B.setTimeout=function(t){this.O=t};function Ld(t,e,n){t.K=1,t.v=Ru(Bn(e)),t.s=n,t.P=!0,k0(t,null)}function k0(t,e){t.F=Date.now(),ca(t),t.A=Bn(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),A0(n.i,"t",r),t.C=0,n=t.l.H,t.h=new T0,t.g=ew(t.l,n?e:null,!t.s),0<t.N&&(t.L=new CN(ut(t.La,t,t.g),t.N)),v0(t.S,t.g,"readystatechange",t.ib),e=t.H?o0(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),To(),SN(t.j,t.u,t.A,t.m,t.U,t.s)}B.ib=function(t){t=t.target;const e=this.L;e&&On(t)==3?e.l():this.La(t)};B.La=function(t){try{if(t==this.g)e:{const c=On(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||Nd||this.g&&(this.h.h||this.g.fa()||dg(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?To(3):To(2)),Du(this);var n=this.g.aa();this.Y=n;t:if(N0(this)){var r=dg(this.g);t="";var i=r.length,s=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),Ys(this);var o="";break t}this.h.i=new q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,xN(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$l(a)){var u=a;break t}}u=null}if(n=u)ki(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pd(this,n);else{this.i=!1,this.o=3,mt(12),Vr(this),Ys(this);break e}}this.P?(I0(this,c,o),Nd&&this.i&&c==3&&(v0(this.S,this.T,"tick",this.hb),this.T.start())):(ki(this.j,this.m,o,null),Pd(this,o)),c==4&&Vr(this),this.i&&!this.I&&(c==4?X0(this.l,this):(this.i=!1,ca(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,mt(12)):(this.o=0,mt(13)),Vr(this),Ys(this)}}}catch{}finally{}};function N0(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function I0(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=IN(t,n),i==Rl){e==4&&(t.o=4,mt(14),r=!1),ki(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ad){t.o=4,mt(15),ki(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ki(t.j,t.m,i,null),Pd(t,i);N0(t)&&i!=Rl&&i!=Ad&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,mt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Oh(e),e.K=!0,mt(11))):(ki(t.j,t.m,n,"[Invalid Chunked Response]"),Vr(t),Ys(t))}B.hb=function(){if(this.g){var t=On(this.g),e=this.g.fa();this.C<e.length&&(Du(this),I0(this,t,e),this.i&&t!=4&&ca(this))}};function IN(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Rl:(n=Number(e.substring(n,r)),isNaN(n)?Ad:(r+=1,r+n>e.length?Rl:(e=e.substr(r,n),t.C=r+n,e)))}B.cancel=function(){this.I=!0,Vr(this)};function ca(t){t.V=Date.now()+t.O,_0(t,t.O)}function _0(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=aa(ut(t.gb,t),e)}function Du(t){t.B&&(q.clearTimeout(t.B),t.B=null)}B.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(TN(this.j,this.A),this.K!=2&&(To(),mt(17)),Vr(this),this.o=2,Ys(this)):_0(this,this.V-t)};function Ys(t){t.l.G==0||t.I||X0(t.l,t)}function Vr(t){Du(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Ch(t.T),y0(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Pd(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Md(n.h,t))){if(!t.J&&Md(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Ll(n),Lu(n);else break e;Rh(n),mt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=aa(ut(n.cb,n),6e3));if(1>=M0(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else zr(n,11)}else if((t.J||n.g==t)&&Ll(n),!$l(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.h;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Nh(s,s.h),s.h=null))}if(r.D){const E=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.za=E,xe(r.F,r.D,E))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=Z0(r,r.H?r.ka:null,r.V),o.J){b0(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Du(a),ca(a)),r.g=o}else G0(r);0<n.i.length&&Pu(n)}else u[0]!="stop"&&u[0]!="close"||zr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?zr(n,7):Dh(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}To(4)}catch{}}function _N(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Cu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function $N(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Cu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function $0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Cu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=$N(t),r=_N(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var D0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DN(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qr){this.h=e!==void 0?e:t.h,Ol(this,t.j),this.s=t.s,this.g=t.g,Al(this,t.m),this.l=t.l,e=t.i;var n=new ko;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),lg(this,n),this.o=t.o}else t&&(n=String(t).match(D0))?(this.h=!!e,Ol(this,n[1]||"",!0),this.s=Vs(n[2]||""),this.g=Vs(n[3]||"",!0),Al(this,n[4]),this.l=Vs(n[5]||"",!0),lg(this,n[6]||"",!0),this.o=Vs(n[7]||"")):(this.h=!!e,this.i=new ko(null,this.h))}Qr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zs(e,ug,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zs(e,ug,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(zs(n,n.charAt(0)=="/"?AN:ON,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zs(n,PN)),t.join("")};function Bn(t){return new Qr(t)}function Ol(t,e,n){t.j=n?Vs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Al(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function lg(t,e,n){e instanceof ko?(t.i=e,MN(t.i,t.h)):(n||(e=zs(e,LN)),t.i=new ko(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function Ru(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,RN),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function RN(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ug=/[#\/\?@]/g,ON=/[#\?:]/g,AN=/[#\?]/g,LN=/[#\?@]/g,PN=/#/g;function ko(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Dr(t){t.g||(t.g=new Map,t.h=0,t.i&&DN(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=ko.prototype;B.add=function(t,e){Dr(this),this.i=null,t=gs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function R0(t,e){Dr(t),e=gs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function O0(t,e){return Dr(t),e=gs(t,e),t.g.has(e)}B.forEach=function(t,e){Dr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};B.oa=function(){Dr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};B.W=function(t){Dr(this);let e=[];if(typeof t=="string")O0(this,t)&&(e=e.concat(this.g.get(gs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return Dr(this),this.i=null,t=gs(this,t),O0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function A0(t,e,n){R0(t,e),0<n.length&&(t.i=null,t.g.set(gs(t,e),hh(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function gs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function MN(t,e){e&&!t.j&&(Dr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(R0(this,r),A0(this,i,n))},t)),t.j=e}var bN=class{constructor(e,n){this.h=e,this.g=n}};function L0(t){this.l=t||FN,q.PerformanceNavigationTiming?(t=q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(q.g&&q.g.Ga&&q.g.Ga()&&q.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var FN=10;function P0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function M0(t){return t.h?1:t.g?t.g.size:0}function Md(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Nh(t,e){t.g?t.g.add(e):t.h=e}function b0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}L0.prototype.cancel=function(){if(this.i=F0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function F0(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return hh(t.i)}function Ih(){}Ih.prototype.stringify=function(t){return q.JSON.stringify(t,void 0)};Ih.prototype.parse=function(t){return q.JSON.parse(t,void 0)};function BN(){this.g=new Ih}function UN(t,e,n){const r=n||"";try{$0(t,function(i,s){let o=i;sa(i)&&(o=Eh(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jN(t,e){const n=new Nu;if(q.Image){const r=new Image;r.onload=Aa(Pa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Aa(Pa,n,r,"TestLoadImage: error",!1,e),r.onabort=Aa(Pa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Aa(Pa,n,r,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Pa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function da(t){this.l=t.ac||null,this.j=t.jb||!1}nt(da,xh);da.prototype.g=function(){return new Ou(this.l,this.j)};da.prototype.i=function(t){return function(){return t}}({});function Ou(t,e){Qe.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=_h,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nt(Ou,Qe);var _h=0;B=Ou.prototype;B.open=function(t,e){if(this.readyState!=_h)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,No(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=_h};B.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,No(this)),this.g&&(this.readyState=3,No(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;B0(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function B0(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}B.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fa(this):No(this),this.readyState==3&&B0(this)}};B.Va=function(t){this.g&&(this.response=this.responseText=t,fa(this))};B.Ua=function(t){this.g&&(this.response=t,fa(this))};B.ga=function(){this.g&&fa(this)};function fa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,No(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function No(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var VN=q.JSON.parse;function Oe(t){Qe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=U0,this.K=this.L=!1}nt(Oe,Qe);var U0="",zN=/^https?$/i,HN=["POST","PUT"];B=Oe.prototype;B.Ka=function(t){this.L=t};B.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Od.g(),this.C=this.u?ag(this.u):ag(Od),this.g.onreadystatechange=ut(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){cg(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=q.FormData&&t instanceof q.FormData,!(0<=n0(HN,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{z0(this),0<this.B&&((this.K=WN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.qa,this)):this.A=Sh(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){cg(this,s)}};function WN(t){return Qi&&lN()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.qa=function(){typeof fh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ze(this,"timeout"),this.abort(8))};function cg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,j0(t),Au(t)}function j0(t){t.D||(t.D=!0,Ze(t,"complete"),Ze(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ze(this,"complete"),Ze(this,"abort"),Au(this))};B.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Au(this,!0)),Oe.X.M.call(this)};B.Ha=function(){this.s||(this.F||this.v||this.l?V0(this):this.fb())};B.fb=function(){V0(this)};function V0(t){if(t.h&&typeof fh<"u"&&(!t.C[1]||On(t)!=4||t.aa()!=2)){if(t.v&&On(t)==4)Sh(t.Ha,0,t);else if(Ze(t,"readystatechange"),On(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(D0)[1]||null;if(!i&&q.self&&q.self.location){var s=q.self.location.protocol;i=s.substr(0,s.length-1)}r=!zN.test(i?i.toLowerCase():"")}n=r}if(n)Ze(t,"complete"),Ze(t,"success");else{t.m=6;try{var o=2<On(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",j0(t)}}finally{Au(t)}}}}function Au(t,e){if(t.g){z0(t);const n=t.g,r=t.C[0]?_l:null;t.g=null,t.C=null,e||Ze(t,"ready");try{n.onreadystatechange=r}catch{}}}function z0(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(q.clearTimeout(t.A),t.A=null)}function On(t){return t.g?t.g.readyState:0}B.aa=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}};B.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),VN(e)}};function dg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case U0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}B.Ea=function(){return this.m};B.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function H0(t){let e="";return mh(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $h(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=H0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function Rs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function W0(t){this.Ca=0,this.i=[],this.j=new Nu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Rs("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Rs("baseRetryDelayMs",5e3,t),this.bb=Rs("retryDelaySeedMs",1e4,t),this.$a=Rs("forwardChannelMaxRetries",2,t),this.ta=Rs("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new L0(t&&t.concurrentRequestLimit),this.Fa=new BN,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}B=W0.prototype;B.ma=8;B.G=1;function Dh(t){if(q0(t),t.G==3){var e=t.U++,n=Bn(t.F);xe(n,"SID",t.I),xe(n,"RID",e),xe(n,"TYPE","terminate"),ha(t,n),e=new ua(t,t.j,e,void 0),e.K=2,e.v=Ru(Bn(n)),n=!1,q.navigator&&q.navigator.sendBeacon&&(n=q.navigator.sendBeacon(e.v.toString(),"")),!n&&q.Image&&(new Image().src=e.v,n=!0),n||(e.g=ew(e.l,null),e.g.da(e.v)),e.F=Date.now(),ca(e)}J0(t)}function Lu(t){t.g&&(Oh(t),t.g.cancel(),t.g=null)}function q0(t){Lu(t),t.u&&(q.clearTimeout(t.u),t.u=null),Ll(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&q.clearTimeout(t.m),t.m=null)}function Pu(t){P0(t.h)||t.m||(t.m=!0,p0(t.Ja,t),t.C=0)}function qN(t,e){return M0(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=aa(ut(t.Ja,t,e),Y0(t,t.C)),t.C++,!0)}B.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new ua(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=o0(s),a0(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=K0(this,i,e),n=Bn(this.F),xe(n,"RID",t),xe(n,"CVER",22),this.D&&xe(n,"X-HTTP-Session-Id",this.D),ha(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(H0(s)))+"&"+e:this.o&&$h(n,this.o,s)),Nh(this.h,i),this.Ya&&xe(n,"TYPE","init"),this.O?(xe(n,"$req",e),xe(n,"SID","null"),i.Z=!0,Ld(i,n,null)):Ld(i,n,e),this.G=2}}else this.G==3&&(t?fg(this,t):this.i.length==0||P0(this.h)||fg(this))};function fg(t,e){var n;e?n=e.m:n=t.U++;const r=Bn(t.F);xe(r,"SID",t.I),xe(r,"RID",n),xe(r,"AID",t.T),ha(t,r),t.o&&t.s&&$h(r,t.o,t.s),n=new ua(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=K0(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Nh(t.h,n),Ld(n,r,e)}function ha(t,e){t.ia&&mh(t.ia,function(n,r){xe(e,r,n)}),t.l&&$0({},function(n,r){xe(e,r,n)})}function K0(t,e,n){n=Math.min(t.i.length,n);var r=t.l?ut(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{UN(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function G0(t){t.g||t.u||(t.Z=1,p0(t.Ia,t),t.A=0)}function Rh(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=aa(ut(t.Ia,t),Y0(t,t.A)),t.A++,!0)}B.Ia=function(){if(this.u=null,Q0(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=aa(ut(this.eb,this),t)}};B.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mt(10),Lu(this),Q0(this))};function Oh(t){t.B!=null&&(q.clearTimeout(t.B),t.B=null)}function Q0(t){t.g=new ua(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Bn(t.sa);xe(e,"RID","rpc"),xe(e,"SID",t.I),xe(e,"CI",t.L?"0":"1"),xe(e,"AID",t.T),xe(e,"TYPE","xmlhttp"),ha(t,e),t.o&&t.s&&$h(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ru(Bn(e)),n.s=null,n.P=!0,k0(n,t)}B.cb=function(){this.v!=null&&(this.v=null,Lu(this),Rh(this),mt(19))};function Ll(t){t.v!=null&&(q.clearTimeout(t.v),t.v=null)}function X0(t,e){var n=null;if(t.g==e){Ll(t),Oh(t),t.g=null;var r=2}else if(Md(t.h,e))n=e.D,b0(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Iu(),Ze(r,new C0(r,n)),Pu(t)}else G0(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&qN(t,e)||r==2&&Rh(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:zr(t,5);break;case 4:zr(t,10);break;case 3:zr(t,6);break;default:zr(t,2)}}}function Y0(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function zr(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=ut(t.kb,t);n||(n=new Qr("//www.google.com/images/cleardot.gif"),q.location&&q.location.protocol=="http"||Ol(n,"https"),Ru(n)),jN(n.toString(),r)}else mt(2);t.G=0,t.l&&t.l.va(e),J0(t),q0(t)}B.kb=function(t){t?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function J0(t){if(t.G=0,t.la=[],t.l){const e=F0(t.h);(e.length!=0||t.i.length!=0)&&(tg(t.la,e),tg(t.la,t.i),t.h.i.length=0,hh(t.i),t.i.length=0),t.l.ua()}}function Z0(t,e,n){var r=n instanceof Qr?Bn(n):new Qr(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Al(r,r.m);else{var i=q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qr(null,void 0);r&&Ol(s,r),e&&(s.g=e),i&&Al(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&xe(r,n,e),xe(r,"VER",t.ma),ha(t,r),r}function ew(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Oe(new da({jb:!0})):new Oe(t.ra),e.Ka(t.H),e}function tw(){}B=tw.prototype;B.xa=function(){};B.wa=function(){};B.va=function(){};B.ua=function(){};B.Ra=function(){};function Pl(){if(Qi&&!(10<=Number(uN)))throw Error("Environmental error: no available transport.")}Pl.prototype.g=function(t,e){return new Lt(t,e)};function Lt(t,e){Qe.call(this),this.g=new W0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!$l(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$l(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new vs(this)}nt(Lt,Qe);Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;mt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Z0(t,null,t.V),Pu(t)};Lt.prototype.close=function(){Dh(this.g)};Lt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Eh(t),t=n);e.i.push(new bN(e.ab++,t)),e.G==3&&Pu(e)};Lt.prototype.M=function(){this.g.l=null,delete this.j,Dh(this.g),delete this.g,Lt.X.M.call(this)};function nw(t){Th.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}nt(nw,Th);function rw(){kh.call(this),this.status=1}nt(rw,kh);function vs(t){this.g=t}nt(vs,tw);vs.prototype.xa=function(){Ze(this.g,"a")};vs.prototype.wa=function(t){Ze(this.g,new nw(t))};vs.prototype.va=function(t){Ze(this.g,new rw)};vs.prototype.ua=function(){Ze(this.g,"b")};Pl.prototype.createWebChannel=Pl.prototype.g;Lt.prototype.send=Lt.prototype.u;Lt.prototype.open=Lt.prototype.m;Lt.prototype.close=Lt.prototype.close;_u.NO_ERROR=0;_u.TIMEOUT=8;_u.HTTP_ERROR=6;S0.COMPLETE="complete";x0.EventType=la;la.OPEN="a";la.CLOSE="b";la.ERROR="c";la.MESSAGE="d";Qe.prototype.listen=Qe.prototype.N;Oe.prototype.listenOnce=Oe.prototype.O;Oe.prototype.getLastError=Oe.prototype.Oa;Oe.prototype.getLastErrorCode=Oe.prototype.Ea;Oe.prototype.getStatus=Oe.prototype.aa;Oe.prototype.getResponseJson=Oe.prototype.Sa;Oe.prototype.getResponseText=Oe.prototype.fa;Oe.prototype.send=Oe.prototype.da;Oe.prototype.setWithCredentials=Oe.prototype.Ka;var KN=function(){return new Pl},GN=function(){return Iu()},Lc=_u,QN=S0,XN=di,hg={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},YN=da,Ma=x0,JN=Oe;const pg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let st=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ys="9.17.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Xy("@firebase/firestore");function mg(){return ti.logLevel}function U(t,...e){if(ti.logLevel<=ce.DEBUG){const n=e.map(Ah);ti.debug(`Firestore (${ys}): ${t}`,...n)}}function Un(t,...e){if(ti.logLevel<=ce.ERROR){const n=e.map(Ah);ti.error(`Firestore (${ys}): ${t}`,...n)}}function bd(t,...e){if(ti.logLevel<=ce.WARN){const n=e.map(Ah);ti.warn(`Firestore (${ys}): ${t}`,...n)}}function Ah(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t="Unexpected state"){const e=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: `+t;throw Un(e),new Error(e)}function ye(t,e){t||W()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let b=class extends ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iw=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ZN=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}},eI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},tI=class{constructor(e){this.t=e,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new iw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new st(e)}};class nI{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=st.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ye(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}let rI=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new nI(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}},iI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},sI=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.A=n.token,new iI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sw=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function de(t,e){return t<e?-1:t>e?1:0}function Xi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ve(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new Ve(0,0))}static max(){return new Q(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Io.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Io?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends Io{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const aI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends Io{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return aI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.path=e}static fromPath(e){return new j(Ee.fromString(e))}static fromName(e){return new j(Ee.fromString(e).popFirst(5))}static empty(){return new j(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new j(new Ee(e.slice()))}}function lI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new xr(i,j.empty(),e)}function uI(t){return new xr(t.readTime,t.key,-1)}class xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xr(Q.min(),j.empty(),-1)}static max(){return new xr(Q.max(),j.empty(),-1)}}function cI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==dI)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ma(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Lh.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class _o{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ow(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){return t==null}function Ml(t){return t===0&&1/t==-1/0}function pI(t){return typeof t=="number"&&Number.isInteger(t)&&!Ml(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const mI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(ye(!!t),typeof t=="string"){let e=0;const n=mI.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yi(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lw(t){const e=t.mapValue.fields.__previous_value__;return aw(e)?lw(e):e}function $o(t){const e=Tr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aw(t)?4:gI(t)?9007199254740991:10:W()}function Sn(t,e){if(t===e)return!0;const n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $o(t).isEqual($o(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Tr(r.timestampValue),o=Tr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Yi(r.bytesValue).isEqual(Yi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Pe(r.geoPointValue.latitude)===Pe(i.geoPointValue.latitude)&&Pe(r.geoPointValue.longitude)===Pe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pe(r.integerValue)===Pe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Pe(r.doubleValue),o=Pe(i.doubleValue);return s===o?Ml(s)===Ml(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Xi(t.arrayValue.values||[],e.arrayValue.values||[],Sn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(gg(s)!==gg(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Sn(s[a],o[a])))return!1;return!0}(t,e);default:return W()}}function Do(t,e){return(t.values||[]).find(n=>Sn(n,e))!==void 0}function Ji(t,e){if(t===e)return 0;const n=ni(t),r=ni(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Pe(i.integerValue||i.doubleValue),a=Pe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return vg(t.timestampValue,e.timestampValue);case 4:return vg($o(t),$o(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Yi(i),a=Yi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=de(o[l],a[l]);if(u!==0)return u}return de(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=de(Pe(i.latitude),Pe(s.latitude));return o!==0?o:de(Pe(i.longitude),Pe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Ji(o[l],a[l]);if(u)return u}return de(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ba.mapValue&&s===ba.mapValue)return 0;if(i===ba.mapValue)return 1;if(s===ba.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=de(a[c],u[c]);if(d!==0)return d;const f=Ji(o[a[c]],l[u[c]]);if(f!==0)return f}return de(a.length,u.length)}(t.mapValue,e.mapValue);default:throw W()}}function vg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=Tr(t),r=Tr(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function Zi(t){return Fd(t)}function Fd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Tr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Yi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,j.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Fd(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Fd(r.fields[a])}`;return s+"}"}(t.mapValue):W();var e,n}function yg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bd(t){return!!t&&"integerValue"in t}function Ph(t){return!!t&&"arrayValue"in t}function wg(t){return!!t&&"nullValue"in t}function Eg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ll(t){return!!t&&"mapValue"in t}function Js(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Js(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Js(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl=class{constructor(e,n){this.position=e,this.inclusive=n}};function Cg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),n.key):r=Ji(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uw=class{},Be=class extends uw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yI(e,n,r):n==="array-contains"?new CI(e,r):n==="in"?new SI(e,r):n==="not-in"?new xI(e,r):n==="array-contains-any"?new TI(e,r):new Be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wI(e,r):new EI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ji(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(Ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},xn=class extends uw{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new xn(e,n)}matches(e){return cw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function cw(t){return t.op==="and"}function dw(t){return vI(t)&&cw(t)}function vI(t){for(const e of t.filters)if(e instanceof xn)return!1;return!0}function Ud(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+Zi(t.value);if(dw(t))return t.filters.map(e=>Ud(e)).join(",");{const e=t.filters.map(n=>Ud(n)).join(",");return`${t.op}(${e})`}}function fw(t,e){return t instanceof Be?function(n,r){return r instanceof Be&&n.op===r.op&&n.field.isEqual(r.field)&&Sn(n.value,r.value)}(t,e):t instanceof xn?function(n,r){return r instanceof xn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&fw(s,r.filters[o]),!0):!1}(t,e):void W()}function hw(t){return t instanceof Be?function(e){return`${e.field.canonicalString()} ${e.op} ${Zi(e.value)}`}(t):t instanceof xn?function(e){return e.op.toString()+" {"+e.getFilters().map(hw).join(" ,")+"}"}(t):"Filter"}let yI=class extends Be{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){const n=j.comparator(e.key,this.key);return this.matchesComparison(n)}},wI=class extends Be{constructor(e,n){super(e,"in",n),this.keys=pw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},EI=class extends Be{constructor(e,n){super(e,"not-in",n),this.keys=pw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function pw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}let CI=class extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ph(n)&&Do(n.arrayValue,this.value)}},SI=class extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Do(this.value.arrayValue,n)}},xI=class extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Do(this.value.arrayValue,n)}},TI=class extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ph(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Do(this.value.arrayValue,r))}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function kI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xe=class{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fa(this.root,e,this.comparator,!0)}},Fa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ot=class{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ot.RED,this.left=i??ot.EMPTY,this.right=s??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ot(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ke=class{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xg(this.data.getIterator())}getIteratorFrom(e){return new xg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}},xg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vt=class{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Vt([])}unionWith(e){let n=new Ke(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dt=class{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ll(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Js(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Js(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ll(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ll(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Dt(Js(this.value))}};function mw(t){const e=[];return fi(t.fields,(n,r)=>{const i=new lt([n]);if(ll(r)){const s=mw(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Vt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pt=class{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,Q.min(),Q.min(),Q.min(),Dt.empty(),0)}static newFoundDocument(e,n,r,i){return new pt(e,1,n,Q.min(),r,i,0)}static newNoDocument(e,n){return new pt(e,2,n,Q.min(),Q.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,Q.min(),Q.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Tg(t,e=null,n=[],r=[],i=null,s=null,o=null){return new NI(t,e,n,r,i,s,o)}function Mh(t){const e=X(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ud(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Mu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zi(r)).join(",")),e.ft=n}return e.ft}function bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sg(t.startAt,e.startAt)&&Sg(t.endAt,e.endAt)}function jd(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function II(t,e,n,r,i,s,o,a){return new ga(t,e,n,r,i,s,o,a)}function Fh(t){return new ga(t)}function kg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Bh(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function vw(t){return t.collectionGroup!==null}function ji(t){const e=X(t);if(e.dt===null){e.dt=[];const n=Bh(e),r=gw(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Zs(n)),e.dt.push(new Zs(lt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Zs(lt.keyField(),s))}}}return e.dt}function jn(t){const e=X(t);if(!e._t)if(e.limitType==="F")e._t=Tg(e.path,e.collectionGroup,ji(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ji(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Zs(s.field,o))}const r=e.endAt?new bl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new bl(e.startAt.position,e.startAt.inclusive):null;e._t=Tg(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Vd(t,e){e.getFirstInequalityField(),Bh(t);const n=t.filters.concat([e]);return new ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zd(t,e,n){return new ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bu(t,e){return bh(jn(t),jn(e))&&t.limitType===e.limitType}function yw(t){return`${Mh(jn(t))}|lt:${t.limitType}`}function Hd(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>hw(r)).join(", ")}]`),Mu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zi(r)).join(",")),`Target(${n})`}(jn(t))}; limitType=${t.limitType})`}function Fu(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):j.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ji(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Cg(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ji(n),r)||n.endAt&&!function(i,s,o){const a=Cg(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ji(n),r))}(t,e)}function _I(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ww(t){return(e,n)=>{let r=!1;for(const i of ji(t)){const s=$I(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $I(t,e,n){const r=t.field.isKeyField()?j.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Ji(a,l):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ml(e)?"-0":e}}function Cw(t){return{integerValue:""+t}}function DI(t,e){return pI(e)?Cw(e):Ew(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this._=void 0}}function RI(t,e,n){return t instanceof Fl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ro?xw(t,e):t instanceof Oo?Tw(t,e):function(r,i){const s=Sw(r,i),o=Ng(s)+Ng(r.gt);return Bd(s)&&Bd(r.gt)?Cw(o):Ew(r.yt,o)}(t,e)}function OI(t,e,n){return t instanceof Ro?xw(t,e):t instanceof Oo?Tw(t,e):n}function Sw(t,e){return t instanceof Bl?Bd(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Fl extends Bu{}class Ro extends Bu{constructor(e){super(),this.elements=e}}function xw(t,e){const n=kw(e);for(const r of t.elements)n.some(i=>Sn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Oo extends Bu{constructor(e){super(),this.elements=e}}function Tw(t,e){let n=kw(e);for(const r of t.elements)n=n.filter(i=>!Sn(i,r));return{arrayValue:{values:n}}}class Bl extends Bu{constructor(e,n){super(),this.yt=e,this.gt=n}}function Ng(t){return Pe(t.integerValue||t.doubleValue)}function kw(t){return Ph(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AI(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ro&&r instanceof Ro||n instanceof Oo&&r instanceof Oo?Xi(n.elements,r.elements,Sn):n instanceof Bl&&r instanceof Bl?Sn(n.gt,r.gt):n instanceof Fl&&r instanceof Fl}(t.transform,e.transform)}class LI{constructor(e,n){this.version=e,this.transformResults=n}}class sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ul(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uu{}function Nw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uh(t.key,sn.none()):new va(t.key,t.data,sn.none());{const n=t.data,r=Dt.empty();let i=new Ke(lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Rr(t.key,r,new Vt(i.toArray()),sn.none())}}function PI(t,e,n){t instanceof va?function(r,i,s){const o=r.value.clone(),a=_g(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Rr?function(r,i,s){if(!ul(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=_g(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Iw(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function eo(t,e,n,r){return t instanceof va?function(i,s,o,a){if(!ul(i.precondition,s))return o;const l=i.value.clone(),u=$g(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rr?function(i,s,o,a){if(!ul(i.precondition,s))return o;const l=$g(i.fieldTransforms,a,s),u=s.data;return u.setAll(Iw(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return ul(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function MI(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Sw(r.transform,i||null);s!=null&&(n===null&&(n=Dt.empty()),n.set(r.field,s))}return n||null}function Ig(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Xi(n,r,(i,s)=>AI(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class va extends Uu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Rr extends Uu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Iw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _g(t,e,n){const r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,OI(o,a,n[i]))}return r}function $g(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,RI(s,o,e))}return r}class Uh extends Uu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bI extends Uu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,oe;function BI(t){switch(t){default:return W();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function _w(t){if(t===void 0)return Un("GRPC error has no .code"),I.UNKNOWN;switch(t){case Le.OK:return I.OK;case Le.CANCELLED:return I.CANCELLED;case Le.UNKNOWN:return I.UNKNOWN;case Le.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Le.INTERNAL:return I.INTERNAL;case Le.UNAVAILABLE:return I.UNAVAILABLE;case Le.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Le.NOT_FOUND:return I.NOT_FOUND;case Le.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Le.ABORTED:return I.ABORTED;case Le.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Le.DATA_LOSS:return I.DATA_LOSS;default:return W()}}(oe=Le||(Le={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ow(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new Xe(j.comparator);function Vn(){return UI}const $w=new Xe(j.comparator);function Hs(...t){let e=$w;for(const n of t)e=e.insert(n.key,n);return e}function Dw(t){let e=$w;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hr(){return to()}function Rw(){return to()}function to(){return new ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const jI=new Xe(j.comparator),VI=new Ke(j.comparator);function ne(...t){let e=VI;for(const n of t)e=e.add(n);return e}const zI=new Ke(de);function Ow(){return zI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ya.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ju(Q.min(),i,Ow(),Vn(),ne())}}class ya{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ya(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class Aw{constructor(e,n){this.targetId=e,this.Et=n}}class Lw{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Dg{constructor(){this.At=0,this.Rt=Og(),this.bt=dt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ne(),n=ne(),r=ne();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new ya(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=Og()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class HI{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Vn(),this.qt=Rg(),this.Ut=new Ke(de)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(jd(s))if(r===0){const o=new j(s.path);this.Qt(n,o,pt.newNoDocument(o,Q.min()))}else ye(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&jd(a.target)){const l=new j(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,pt.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ne();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new ju(e,n,this.Ut,this.Lt,r);return this.Lt=Vn(),this.qt=Rg(),this.Ut=new Ke(de),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new Dg,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Ke(de),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Dg),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function Rg(){return new Xe(j.comparator)}function Og(){return new Xe(j.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),qI=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),KI=(()=>({and:"AND",or:"OR"}))();class GI{constructor(e,n){this.databaseId=e,this.wt=n}}function Ul(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pw(t,e){return t.wt?e.toBase64():e.toUint8Array()}function QI(t,e){return Ul(t,e.toTimestamp())}function vn(t){return ye(!!t),Q.fromTimestamp(function(e){const n=Tr(e);return new Ve(n.seconds,n.nanos)}(t))}function jh(t,e){return function(n){return new Ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Mw(t){const e=Ee.fromString(t);return ye(Uw(e)),e}function Wd(t,e){return jh(t.databaseId,e.path)}function Pc(t,e){const n=Mw(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(bw(n))}function qd(t,e){return jh(t.databaseId,e)}function XI(t){const e=Mw(t);return e.length===4?Ee.emptyPath():bw(e)}function Kd(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bw(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ag(t,e,n){return{name:Wd(t,e),fields:n.value.mapValue.fields}}function YI(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.wt?(ye(u===void 0||typeof u=="string"),dt.fromBase64String(u||"")):(ye(u===void 0||u instanceof Uint8Array),dt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?I.UNKNOWN:_w(l.code);return new b(u,l.message||"")}(o);n=new Lw(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pc(t,r.document.name),s=vn(r.document.updateTime),o=r.document.createTime?vn(r.document.createTime):Q.min(),a=new Dt({mapValue:{fields:r.document.fields}}),l=pt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new cl(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pc(t,r.document),s=r.readTime?vn(r.readTime):Q.min(),o=pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new cl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pc(t,r.document),s=r.removedTargetIds||[];n=new cl([],s,i,null)}else{if(!("filter"in e))return W();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new FI(i),o=r.targetId;n=new Aw(o,s)}}return n}function JI(t,e){let n;if(e instanceof va)n={update:Ag(t,e.key,e.value)};else if(e instanceof Uh)n={delete:Wd(t,e.key)};else if(e instanceof Rr)n={update:Ag(t,e.key,e.data),updateMask:a_(e.fieldMask)};else{if(!(e instanceof bI))return W();n={verify:Wd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Fl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Bl)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:QI(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:W()}(t,e.precondition)),n}function ZI(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?vn(r.updateTime):vn(i);return s.isEqual(Q.min())&&(s=vn(i)),new LI(s,r.transformResults||[])}(n,e))):[]}function e_(t,e){return{documents:[qd(t,e.path)]}}function t_(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=qd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Bw(xn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:xi(c.field),direction:i_(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||Mu(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function n_(t){let e=XI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=Fw(c);return d instanceof xn&&dw(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Zs(Ti(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Mu(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new bl(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new bl(f,d)}(n.endAt)),II(e,i,o,s,a,"F",l,u)}function r_(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return W()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fw(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ti(e.unaryFilter.field);return Be.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ti(e.unaryFilter.field);return Be.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ti(e.unaryFilter.field);return Be.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ti(e.unaryFilter.field);return Be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(e){return Be.create(Ti(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return xn.create(e.compositeFilter.filters.map(n=>Fw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return W()}}(e.compositeFilter.op))}(t):W()}function i_(t){return WI[t]}function s_(t){return qI[t]}function o_(t){return KI[t]}function xi(t){return{fieldPath:t.canonicalString()}}function Ti(t){return lt.fromServerFormat(t.fieldPath)}function Bw(t){return t instanceof Be?function(e){if(e.op==="=="){if(Eg(e.value))return{unaryFilter:{field:xi(e.field),op:"IS_NAN"}};if(wg(e.value))return{unaryFilter:{field:xi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Eg(e.value))return{unaryFilter:{field:xi(e.field),op:"IS_NOT_NAN"}};if(wg(e.value))return{unaryFilter:{field:xi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xi(e.field),op:s_(e.op),value:e.value}}}(t):t instanceof xn?function(e){const n=e.getFilters().map(r=>Bw(r));return n.length===1?n[0]:{compositeFilter:{op:o_(e.op),filters:n}}}(t):W()}function a_(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Uw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&PI(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Rw();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Nw(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Xi(this.mutations,e.mutations,(n,r)=>Ig(n,r))&&Xi(this.baseMutations,e.baseMutations,(n,r)=>Ig(n,r))}},jw=class{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=jI;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jw(e,n,r,i)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vi=class{constructor(e,n,r,i,s=Q.min(),o=Q.min(),a=dt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_=class{constructor(e){this.ie=e}};function d_(t){const e=n_({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.Je=new h_}addToCollectionParentIndex(e,n){return this.Je.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(xr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class h_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new es(0)}static vn(){return new es(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.changes=new ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&eo(r.mutation,i,Vt.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=Hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Hs();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Vn();const o=to(),a=to();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Rr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),eo(c.mutation,u,c.mutation.getFieldMask(),Ve.now())):o.set(u.key,Vt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new m_(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=to();let i=new Xe((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Vt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ne()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Rw();c.forEach(f=>{if(!s.has(f)){const g=Nw(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return j.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(Hr());let a=-1,l=s;return o.next(u=>$.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?$.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ne())).next(c=>({batchId:a,changes:Dw(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=Hs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Hs();return this.indexManager.getCollectionParents(e,i).next(o=>$.forEach(o,a=>{const l=function(u,c){return new ga(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,pt.newInvalidDocument(u)))});let o=Hs();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&eo(u.mutation,l,Vt.empty(),Ve.now()),Fu(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return $.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:vn(r.createTime)}),$.resolve()}getNamedQuery(e,n){return $.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:d_(r.bundledQuery),readTime:vn(r.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.overlays=new Xe(j.comparator),this.es=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hr();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Hr(),s=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Hr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Hr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return $.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new u_(n,r));let s=this.es.get(n);s===void 0&&(s=ne(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this.ns=new Ke(We.ss),this.rs=new Ke(We.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new We(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new We(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new j(new Ee([])),r=new We(n,e),i=new We(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new j(new Ee([])),r=new We(n,e),i=new We(n,e+1);let s=ne();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new We(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class We{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return j.comparator(e.key,n.key)||de(e._s,n._s)}static os(e,n){return de(e._s,n._s)||j.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Ke(We.ss)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new l_(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new We(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(de);return n.forEach(i=>{const s=new We(i,0),o=new We(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),$.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;j.isDocumentKey(s)||(s=s.child(""));const o=new We(new j(s),0);let a=new Ke(de);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),$.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return $.forEach(n.mutations,i=>{const s=new We(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new We(n,0),i=this.gs.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this.Es=e,this.docs=new Xe(j.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=Vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vn();const o=n.path,a=new j(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||cI(uI(c),r)<=0||(i.has(c.key)||Fu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){W()}As(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C_(this)}getSize(e){return $.resolve(this.size)}}class C_ extends p_{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){this.persistence=e,this.Rs=new ws(n=>Mh(n),bh),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Vh,this.targetCount=0,this.vs=es.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),$.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new es(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Dn(n),$.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Lh(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new S_(this),this.indexManager=new f_,this.remoteDocumentCache=function(r){return new E_(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new c_(n),this.Ns=new v_(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new w_(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new T_(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return $.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class T_ extends fI{constructor(e){super(),this.currentSequenceNumber=e}}class zh{constructor(e){this.persistence=e,this.Fs=new Vh,this.$s=null}static Bs(e){return new zh(e)}get Ls(){if(this.$s)return this.$s;throw W()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),$.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Ls,r=>{const i=j.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,Q.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return $.or([()=>$.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(kg(n))return $.resolve(null);let r=jn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zd(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,zd(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return kg(n)||i.isEqual(Q.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(mg()<=ce.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hd(n)),this.Bi(e,o,n,lI(i,-1)))})}Fi(e,n){let r=new Ke(ww(e));return n.forEach((i,s)=>{Fu(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return mg()<=ce.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Hd(n)),this.Ni.getDocumentsMatchingQuery(e,n,xr.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new Xe(de),this.Ui=new ws(s=>Mh(s),bh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function I_(t,e,n,r){return new N_(t,e,n,r)}async function Vw(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ne();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function __(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=$.resolve();return d.forEach(g=>{f=f.next(()=>u.getEntry(a,g)).next(w=>{const E=l.docVersions.get(g);ye(E!==null),w.version.compareTo(E)<0&&(c.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),u.addEntry(w)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ne();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zw(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function $_(t,e){const n=X(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?g=g.withResumeToken(dt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(d,g),function(w,E,S){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,g,c)&&a.push(n.Cs.updateTargetData(s,g))});let l=Vn(),u=ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(D_(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(Q.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=i,s))}function D_(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function R_(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O_(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Vi(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function Gd(t,e,n){const r=X(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ma(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function Lg(t,e,n){const r=X(t);let i=Q.min(),s=ne();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=X(a),d=c.Ui.get(u);return d!==void 0?$.resolve(c.qi.get(d)):c.Cs.getTargetData(l,u)}(r,o,jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:Q.min(),n?s:ne())).next(a=>(A_(r,_I(e),a),{documents:a,Hi:s})))}function A_(t,e,n){let r=t.Ki.get(e)||Q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class Pg{constructor(){this.activeTargetIds=Ow()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L_{constructor(){this.Lr=new Pg,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Pg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);U("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(U("RestConnection","Received: ",l),l),l=>{throw bd("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ys,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=M_[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new JN;a.setWithCredentials(!0),a.listenOnce(QN.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Lc.NO_ERROR:const u=a.getResponseJson();U("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Lc.TIMEOUT:U("Connection",'RPC "'+e+'" timed out'),o(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const c=a.getStatus();if(U("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const g=function(w){const E=w.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(E)>=0?E:I.UNKNOWN}(f.status);o(new b(g,f.message))}else o(new b(I.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new b(I.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{U("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=KN(),o=GN(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new YN({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");U("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const f=new b_({Hr:w=>{d?U("Connection","Not sending because WebChannel is closed:",w):(c||(U("Connection","Opening WebChannel transport."),u.open(),c=!0),U("Connection","WebChannel sending:",w),u.send(w))},Jr:()=>u.close()}),g=(w,E,S)=>{w.listen(E,m=>{try{S(m)}catch(p){setTimeout(()=>{throw p},0)}})};return g(u,Ma.EventType.OPEN,()=>{d||U("Connection","WebChannel transport opened.")}),g(u,Ma.EventType.CLOSE,()=>{d||(d=!0,U("Connection","WebChannel transport closed"),f.io())}),g(u,Ma.EventType.ERROR,w=>{d||(d=!0,bd("Connection","WebChannel transport errored:",w),f.io(new b(I.UNAVAILABLE,"The operation could not be completed")))}),g(u,Ma.EventType.MESSAGE,w=>{var E;if(!d){const S=w.data[0];ye(!!S);const m=S,p=m.error||((E=m[0])===null||E===void 0?void 0:E.error);if(p){U("Connection","WebChannel received error:",p);const y=p.status;let C=function(k){const N=Le[k];if(N!==void 0)return _w(N)}(y),x=p.message;C===void 0&&(C=I.INTERNAL,x="Unknown error status: "+y+" with message "+p.message),d=!0,f.io(new b(C,x)),u.close()}else U("Connection","WebChannel received:",S),f.ro(S)}}),g(o,XN.STAT_EVENT,w=>{w.stat===hg.PROXY?U("Connection","Detected buffering proxy"):w.stat===hg.NOPROXY&&U("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function Mc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){return new GI(t,!0)}class Hw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Hw(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Un(n.toString()),Un("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B_ extends Ww{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=YI(this.yt,e),r=function(i){if(!("targetChange"in i))return Q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?vn(s.readTime):Q.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Kd(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=jd(a)?{documents:e_(i,a)}:{query:t_(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Pw(i,s.resumeToken):s.snapshotVersion.compareTo(Q.min())>0&&(o.readTime=Ul(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=r_(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Kd(this.yt),n.removeTarget=e,this.Bo(n)}}class U_ extends Ww{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=ZI(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.Zo(r,n)}return ye(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Kd(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JI(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(I.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class V_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Un(n),this.ou=!1):U("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{hi(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=X(a);l._u.add(4),await wa(l),l.gu.set("Unknown"),l._u.delete(4),await zu(l)}(this))})}),this.gu=new V_(r,i)}}async function zu(t){if(hi(t))for(const e of t.wu)await e(!0)}async function wa(t){for(const e of t.wu)await e(!1)}function qw(t,e){const n=X(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Kh(n)?qh(n):Es(n).ko()&&Wh(n,e))}function Kw(t,e){const n=X(t),r=Es(n);n.du.delete(e),r.ko()&&Gw(n,e),n.du.size===0&&(r.ko()?r.Fo():hi(n)&&n.gu.set("Unknown"))}function Wh(t,e){t.yu.Ot(e.targetId),Es(t).zo(e)}function Gw(t,e){t.yu.Ot(e),Es(t).Ho(e)}function qh(t){t.yu=new HI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Es(t).start(),t.gu.uu()}function Kh(t){return hi(t)&&!Es(t).No()&&t.du.size>0}function hi(t){return X(t)._u.size===0}function Qw(t){t.yu=void 0}async function H_(t){t.du.forEach((e,n)=>{Wh(t,e)})}async function W_(t,e){Qw(t),Kh(t)?(t.gu.hu(e),qh(t)):t.gu.set("Unknown")}async function q_(t,e,n){if(t.gu.set("Online"),e instanceof Lw&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jl(t,r)}else if(e instanceof cl?t.yu.Kt(e):e instanceof Aw?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(Q.min()))try{const r=await zw(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(dt.EMPTY_BYTE_STRING,l.snapshotVersion)),Gw(i,a);const u=new Vi(l.target,a,1,l.sequenceNumber);Wh(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await jl(t,r)}}async function jl(t,e,n){if(!ma(e))throw e;t._u.add(1),await wa(t),t.gu.set("Offline"),n||(n=()=>zw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await zu(t)})}function Xw(t,e){return e().catch(n=>jl(t,n,e))}async function Hu(t){const e=X(t),n=kr(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;K_(e);)try{const i=await R_(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,G_(e,i)}catch(i){await jl(e,i)}Yw(e)&&Jw(e)}function K_(t){return hi(t)&&t.fu.length<10}function G_(t,e){t.fu.push(e);const n=kr(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Yw(t){return hi(t)&&!kr(t).No()&&t.fu.length>0}function Jw(t){kr(t).start()}async function Q_(t){kr(t).eu()}async function X_(t){const e=kr(t);for(const n of t.fu)e.Xo(n.mutations)}async function Y_(t,e,n){const r=t.fu.shift(),i=jw.from(r,e,n);await Xw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hu(t)}async function J_(t,e){e&&kr(t).Yo&&await async function(n,r){if(i=r.code,BI(i)&&i!==I.ABORTED){const s=n.fu.shift();kr(n).Mo(),await Xw(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Hu(n)}var i}(t,e),Yw(t)&&Jw(t)}async function bg(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=hi(n);n._u.add(3),await wa(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await zu(n)}async function Z_(t,e){const n=X(t);e?(n._u.delete(2),await zu(n)):e||(n._u.add(2),await wa(n),n.gu.set("Unknown"))}function Es(t){return t.pu||(t.pu=function(e,n,r){const i=X(e);return i.su(),new B_(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:H_.bind(null,t),Zr:W_.bind(null,t),Wo:q_.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),Kh(t)?qh(t):t.gu.set("Unknown")):(await t.pu.stop(),Qw(t))})),t.pu}function kr(t){return t.Iu||(t.Iu=function(e,n,r){const i=X(e);return i.su(),new U_(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Q_.bind(null,t),Zr:J_.bind(null,t),tu:X_.bind(null,t),Zo:Y_.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Hu(t)):(await t.Iu.stop(),t.fu.length>0&&(U("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zw=class{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Zw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Gh(t,e){if(Un("AsyncQueue",`${e}: ${t}`),ma(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no=class{constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=Hs(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new no(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new no;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg=class{constructor(){this.Tu=new Xe(j.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):W():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}},Ao=class{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ao(e,n,no.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e$=class{constructor(){this.Au=void 0,this.listeners=[]}},t$=class{constructor(){this.queries=new ws(e=>yw(e),bu),this.onlineState="Unknown",this.Ru=new Set}};async function e1(t,e){const n=X(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new e$),i)try{s.Au=await n.onListen(r)}catch(o){const a=Gh(o,`Initialization of query '${Hd(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&Qh(n)}async function t1(t,e){const n=X(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function n$(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&Qh(n)}function r$(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Qh(t){t.Ru.forEach(e=>{e.next()})}class n1{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r1=class{constructor(e){this.key=e}},i1=class{constructor(e){this.key=e}},i$=class{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ne(),this.mutatedKeys=ne(),this.Gu=ww(e),this.Qu=new no(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new Fg,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),g=Fu(this.query,d)?d:null,w=!!f&&this.mutatedKeys.has(f.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;f&&g?f.data.isEqual(g.data)?w!==E&&(r.track({type:3,doc:g}),S=!0):this.Hu(f,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Gu(g,l)>0||u&&this.Gu(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),S=!0):f&&!g&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(g?(o=o.add(g),s=E?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,c)=>function(d,f){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return g(d)-g(f)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new Ao(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Fg,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ne(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new i1(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new r1(r))}),n}tc(e){this.qu=e.Hi,this.Ku=ne();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Ao.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}},s$=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},o$=class{constructor(e){this.key=e,this.nc=!1}},a$=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ws(a=>yw(a),bu),this.rc=new Map,this.oc=new Set,this.uc=new Xe(j.comparator),this.cc=new Map,this.ac=new Vh,this.hc={},this.lc=new Map,this.fc=es.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}};async function l$(t,e){const n=y$(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await O_(n.localStore,jn(e));n.isPrimaryClient&&qw(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await u$(n,e,r,a==="current",o.resumeToken)}return i}async function u$(t,e,n,r,i){t._c=(d,f,g)=>async function(w,E,S,m){let p=E.view.Wu(S);p.$i&&(p=await Lg(w.localStore,E.query,!1).then(({documents:x})=>E.view.Wu(x,p)));const y=m&&m.targetChanges.get(E.targetId),C=E.view.applyChanges(p,w.isPrimaryClient,y);return Ug(w,E.targetId,C.Xu),C.snapshot}(t,d,f,g);const s=await Lg(t.localStore,e,!0),o=new i$(e,s.Hi),a=o.Wu(s.documents),l=ya.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Ug(t,n,u.Xu);const c=new s$(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function c$(t,e){const n=X(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!bu(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Gd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Kw(n.remoteStore,r.targetId),Qd(n,r.targetId)}).catch(pa)):(Qd(n,r.targetId),await Gd(n.localStore,r.targetId,!0))}async function d$(t,e,n){const r=w$(t);try{const i=await function(s,o){const a=X(s),l=Ve.now(),u=o.reduce((f,g)=>f.add(g.key),ne());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Vn(),w=ne();return a.Gi.getEntries(f,u).next(E=>{g=E,g.forEach((S,m)=>{m.isValidDocument()||(w=w.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,g)).next(E=>{c=E;const S=[];for(const m of o){const p=MI(m,c.get(m.key).overlayedDocument);p!=null&&S.push(new Rr(m.key,p,mw(p.value.mapValue),sn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,S,o)}).next(E=>{d=E;const S=E.applyToLocalDocumentSet(c,w);return a.documentOverlayCache.saveOverlays(f,E.batchId,S)})}).then(()=>({batchId:d.batchId,changes:Dw(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Xe(de)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Ea(r,i.changes),await Hu(r.remoteStore)}catch(i){const s=Gh(i,"Failed to persist write");n.reject(s)}}async function s1(t,e){const n=X(t);try{const r=await $_(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?ye(o.nc):i.removedDocuments.size>0&&(ye(o.nc),o.nc=!1))}),await Ea(n,r,e)}catch(r){await pa(r)}}function Bg(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=X(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&Qh(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f$(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Xe(j.comparator);o=o.insert(s,pt.newNoDocument(s,Q.min()));const a=ne().add(s),l=new ju(Q.min(),new Map,new Ke(de),o,a);await s1(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),Xh(r)}else await Gd(r.localStore,e,!1).then(()=>Qd(r,e,n)).catch(pa)}async function h$(t,e){const n=X(t),r=e.batch.batchId;try{const i=await __(n.localStore,e);a1(n,r,null),o1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ea(n,i)}catch(i){await pa(i)}}async function p$(t,e,n){const r=X(t);try{const i=await function(s,o){const a=X(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(ye(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);a1(r,e,n),o1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ea(r,i)}catch(i){await pa(i)}}function o1(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function a1(t,e,n){const r=X(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Qd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||l1(t,r)})}function l1(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(Kw(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),Xh(t))}function Ug(t,e,n){for(const r of n)r instanceof r1?(t.ac.addReference(r.key,e),m$(t,r)):r instanceof i1?(U("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||l1(t,r.key)):W()}function m$(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(U("SyncEngine","New document in limbo: "+n),t.oc.add(r),Xh(t))}function Xh(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new j(Ee.fromString(e)),r=t.fc.next();t.cc.set(r,new o$(n)),t.uc=t.uc.insert(n,r),qw(t.remoteStore,new Vi(jn(Fh(n.path)),r,2,Lh.at))}}async function Ea(t,e,n){const r=X(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Hh.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=X(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>$.forEach(l,d=>$.forEach(d.Si,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>$.forEach(d.Di,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!ma(c))throw c;U("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.qi.get(d),g=f.snapshotVersion,w=f.withLastLimboFreeSnapshotVersion(g);u.qi=u.qi.insert(d,w)}}}(r.localStore,s))}async function g$(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=await Vw(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new b(I.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ea(n,r.ji)}}function v$(t,e){const n=X(t),r=n.cc.get(e);if(r&&r.nc)return ne().add(r.key);{let i=ne();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function y$(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f$.bind(null,e),e.sc.Wo=n$.bind(null,e.eventManager),e.sc.wc=r$.bind(null,e.eventManager),e}function w$(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p$.bind(null,e),e}let E$=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=Vu(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return I_(this.persistence,new k_,e.initialUser,this.yt)}yc(e){return new x_(zh.Bs,this.yt)}gc(e){return new L_}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},C$=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g$.bind(null,this.syncEngine),await Z_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new t$}createDatastore(e){const n=Vu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new F_(i));var i;return function(s,o,a,l){return new j_(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Bg(this.syncEngine,a,0),o=Mg.C()?new Mg:new P_,new z_(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new a$(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=X(e);U("RemoteStore","RemoteStore shutting down."),n._u.add(5),await wa(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S$(t,e,n,r){if(e===!0&&r===!0)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jg(t){if(!j.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vg(t){if(j.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wu(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=new Map;let Hg=class{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,S$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hg(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ZN;switch(n.type){case"gapi":const r=n.client;return new rI(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=zg.get(e);n&&(U("ComponentProvider","Removing Datastore"),zg.delete(e),n.terminate())}(this),Promise.resolve()}};function x$(t,e,n,r={}){var i;const s=(t=zn(t,qu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&bd("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=st.MOCK_USER;else{o=bT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new st(l)}t._authCredentials=new eI(new iw(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ot=class{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}},Ca=class{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ca(this.firestore,e,this._query)}},Xr=class extends Ca{constructor(e,n,r){super(e,n,Fh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new j(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}};function ro(t,e,...n){if(t=Fn(t),u1("collection","path",e),t instanceof qu){const r=Ee.fromString(e,...n);return Vg(r),new Xr(t,null,r)}{if(!(t instanceof Ot||t instanceof Xr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return Vg(r),new Xr(t.firestore,null,r)}}function io(t,e,...n){if(t=Fn(t),arguments.length===1&&(e=sw.R()),u1("doc","path",e),t instanceof qu){const r=Ee.fromString(e,...n);return jg(r),new Ot(t,null,new j(r))}{if(!(t instanceof Ot||t instanceof Xr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return jg(r),new Ot(t.firestore,t instanceof Xr?t.converter:null,new j(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Un("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T$=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=st.UNAUTHENTICATED,this.clientId=sw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{U("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function k$(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Vw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function N$(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I$(t);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>bg(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>bg(e.remoteStore,s)),t.onlineComponents=e}async function I$(t){return t.offlineComponents||(U("FirestoreClient","Using default OfflineComponentProvider"),await k$(t,new E$)),t.offlineComponents}async function d1(t){return t.onlineComponents||(U("FirestoreClient","Using default OnlineComponentProvider"),await N$(t,new C$)),t.onlineComponents}function _$(t){return d1(t).then(e=>e.syncEngine)}async function f1(t){const e=await d1(t),n=e.eventManager;return n.onListen=l$.bind(null,e.syncEngine),n.onUnlisten=c$.bind(null,e.syncEngine),n}function $$(t,e,n={}){const r=new Pn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new c1({next:d=>{s.enqueueAndForget(()=>t1(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new b(I.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new b(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new n1(Fh(o.path),u,{includeMetadataChanges:!0,Nu:!0});return e1(i,c)}(await f1(t),t.asyncQueue,e,n,r)),r.promise}function D$(t,e,n={}){const r=new Pn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new c1({next:d=>{s.enqueueAndForget(()=>t1(i,c)),d.fromCache&&a.source==="server"?l.reject(new b(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new n1(o,u,{includeMetadataChanges:!0,Nu:!0});return e1(i,c)}(await f1(t),t.asyncQueue,e,n,r)),r.promise}let R$=class{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Hw(this,"async_queue_retry"),this.Wc=()=>{const n=Mc();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Mc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Mc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Pn;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!ma(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Un("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=Zw.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&W()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}},Cs=class extends qu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new R$,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||h1(this),this._firestoreClient.terminate()}};function O$(t,e){const n=typeof t=="object"?t:jk(),r=typeof t=="string"?t:e||"(default)",i=bk(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=LT("firestore");s&&x$(i,...s)}return i}function Yh(t){return t._firestoreClient||h1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function h1(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new hI(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new T$(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo=class{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(dt.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lo(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=/^__.*__$/;let L$=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms):new va(e,this.data,n,this.fieldTransforms)}},p1=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function m1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}let g1=class{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new g1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Vl(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(m1(this.sa)&&A$.test(e))throw this.ha('Document fields cannot begin and end with "__"')}},P$=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||Vu(e)}da(e,n,r,i=!1){return new g1({sa:e,methodName:n,fa:r,path:lt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}};function ep(t){const e=t._freezeSettings(),n=Vu(t._databaseId);return new P$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M$(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);np("Data must be an object, but it was:",o,r);const a=v1(r,o);let l,u;if(s.merge)l=new Vt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=Xd(e,d,n);if(!o.contains(f))throw new b(I.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);w1(c,f)||c.push(f)}l=new Vt(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new L$(new Dt(a),l,u)}let tp=class extends Jh{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}};function b$(t,e,n,r){const i=t.da(1,e,n);np("Data must be an object, but it was:",i,r);const s=[],o=Dt.empty();fi(r,(l,u)=>{const c=rp(e,l,n);u=Fn(u);const d=i.ca(c);if(u instanceof tp)s.push(c);else{const f=Sa(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new Vt(s);return new p1(o,a,i.fieldTransforms)}function F$(t,e,n,r,i,s){const o=t.da(1,e,n),a=[Xd(e,r,n)],l=[i];if(s.length%2!=0)throw new b(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Xd(e,s[f])),l.push(s[f+1]);const u=[],c=Dt.empty();for(let f=a.length-1;f>=0;--f)if(!w1(u,a[f])){const g=a[f];let w=l[f];w=Fn(w);const E=o.ca(g);if(w instanceof tp)u.push(g);else{const S=Sa(w,E);S!=null&&(u.push(g),c.set(g,S))}}const d=new Vt(u);return new p1(c,d,o.fieldTransforms)}function B$(t,e,n,r=!1){return Sa(n,t.da(r?4:3,e))}function Sa(t,e){if(y1(t=Fn(t)))return np("Unsupported field value:",e,t),v1(t,e);if(t instanceof Jh)return function(n,r){if(!m1(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Sa(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Fn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return DI(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ve.fromDate(n);return{timestampValue:Ul(r.yt,i)}}if(n instanceof Ve){const i=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ul(r.yt,i)}}if(n instanceof Zh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Lo)return{bytesValue:Pw(r.yt,n._byteString)};if(n instanceof Ot){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jh(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Wu(n)}`)}(t,e)}function v1(t,e){const n={};return ow(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(t,(r,i)=>{const s=Sa(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function y1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof Zh||t instanceof Lo||t instanceof Ot||t instanceof Jh)}function np(t,e,n){if(!y1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Wu(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function Xd(t,e,n){if((e=Fn(e))instanceof Ku)return e._internalPath;if(typeof e=="string")return rp(t,e);throw Vl("Field path arguments must be of type string or ",t,!1,void 0,n)}const U$=new RegExp("[~\\*/\\[\\]]");function rp(t,e,n){if(e.search(U$)>=0)throw Vl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ku(...e.split("."))._internalPath}catch{throw Vl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new b(I.INVALID_ARGUMENT,a+t+l)}function w1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E1=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ip("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},j$=class extends E1{data(){return super.data()}};function ip(t,e){return typeof e=="string"?rp(t,e):e instanceof Ku?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let sp=class{},z$=class extends sp{};function H$(t,e,...n){let r=[];e instanceof sp&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof C1).length,o=i.filter(a=>a instanceof op).length;if(s>1||s>0&&o>0)throw new b(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}let op=class extends z${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new op(e,n,r)}_apply(e){const n=this._parse(e);return S1(e._query,n),new Ca(e.firestore,e.converter,Vd(e._query,n))}_parse(e){const n=ep(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new b(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){qg(c,u);const f=[];for(const g of c)f.push(Wg(a,i,g));d={arrayValue:{values:f}}}else d=Wg(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||qg(c,u),d=B$(o,s,c,u==="in"||u==="not-in");return Be.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function W$(t,e,n){const r=e,i=ip("where",t);return op._create(i,r,n)}let C1=class extends sp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)S1(s,a),s=Vd(s,a)}(e._query,n),new Ca(e.firestore,e.converter,Vd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Wg(t,e,n){if(typeof(n=Fn(n))=="string"){if(n==="")throw new b(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vw(e)&&n.indexOf("/")!==-1)throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!j.isDocumentKey(r))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yg(t,new j(r))}if(n instanceof Ot)return yg(t,n._key);throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wu(n)}.`)}function qg(t,e){if(!Array.isArray(t)||t.length===0)throw new b(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new b(I.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function S1(t,e){if(e.isInequality()){const r=Bh(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new b(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=gw(t);s!==null&&q$(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new b(I.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new b(I.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function q$(t,e,n){if(!n.isEqual(e))throw new b(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class K${convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){const r={};return fi(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Zh(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($o(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);ye(Uw(r));const i=new _o(r.get(1),r.get(3)),s=new j(r.popFirst(5));return i.isEqual(n)||Un(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class x1 extends E1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ip("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dl extends x1{data(e={}){return super.data(e)}}class Q${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ws(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dl(this._firestore,this._userDataWriter,r.key,r,new Ws(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new dl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ws(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new dl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ws(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:X$(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function X$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(t){t=zn(t,Ot);const e=zn(t.firestore,Cs);return $$(Yh(e),t._key).then(n=>Z$(e,t,n))}class T1 extends K${constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function Yd(t){t=zn(t,Ca);const e=zn(t.firestore,Cs),n=Yh(e),r=new T1(e);return V$(t._query),D$(n,t._query).then(i=>new Q$(e,r,t,i))}function J$(t,e,n,...r){t=zn(t,Ot);const i=zn(t.firestore,Cs),s=ep(i);let o;return o=typeof(e=Fn(e))=="string"||e instanceof Ku?F$(s,"updateDoc",t._key,e,n,r):b$(s,"updateDoc",t._key,e),ap(i,[o.toMutation(t._key,sn.exists(!0))])}function Kg(t){return ap(zn(t.firestore,Cs),[new Uh(t._key,sn.none())])}function k1(t,e){const n=zn(t.firestore,Cs),r=io(t),i=G$(t.converter,e);return ap(n,[M$(ep(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,sn.exists(!1))]).then(()=>r)}function ap(t,e){return function(n,r){const i=new Pn;return n.asyncQueue.enqueueAndForget(async()=>d$(await _$(n),r,i)),i.promise}(Yh(t),e)}function Z$(t,e,n){const r=n.docs.get(e._key),i=new T1(t);return new x1(t,i,e._key,r,new Ws(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ys=n})(Uk),Il(new Eo("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Cs(new tI(n.getProvider("auth-internal")),new sI(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ui(pg,"3.8.2",t),Ui(pg,"3.8.2","esm2017")})();var eD="firebase",tD="9.17.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(eD,tD,"app");const nD={apiKey:"AIzaSyDqqq7hzT7b3WAni-mgX3WF6K1WTzUEr1Y",authDomain:"yummy-helados.firebaseapp.com",projectId:"yummy-helados",storageBucket:"yummy-helados.appspot.com",messagingSenderId:"657891710978",appId:"1:657891710978:web:d8933d35fc16e1ea1d6f1b"},rD=Zy(nD),In=O$(rD);var Jd={},iD={get exports(){return Jd},set exports(t){Jd=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(iD);const z=Jd,sD=["xxl","xl","lg","md","sm","xs"],oD="xs",Gu=h.createContext({prefixes:{},breakpoints:sD,minBreakpoint:oD});function ee(t,e){const{prefixes:n}=h.useContext(Gu);return t||n[e]||e}function N1(){const{breakpoints:t}=h.useContext(Gu);return t}function I1(){const{minBreakpoint:t}=h.useContext(Gu);return t}function lp(){const{dir:t}=h.useContext(Gu);return t==="rtl"}const aD={fluid:!1},Qu=h.forwardRef(({bsPrefix:t,fluid:e,as:n="div",className:r,...i},s)=>{const o=ee(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return v(n,{ref:s,...i,className:z(r,e?`${o}${a}`:o)})});Qu.displayName="Container";Qu.defaultProps=aD;var Zd={},lD={get exports(){return Zd},set exports(t){Zd=t}},zl={},uD={get exports(){return zl},set exports(t){zl=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,u,c,d){var f=u||"<<anonymous>>",g=d||l;if(a[l]==null)return o?new Error("Required "+c+" `"+g+"` was not specified "+("in `"+f+"`.")):null;for(var w=arguments.length,E=Array(w>6?w-6:0),S=6;S<w;S++)E[S-6]=arguments[S];return r.apply(void 0,[a,l,f,c,g].concat(E))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(uD,zl);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=zl,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function u(){for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var g=null;return a.forEach(function(w){if(g==null){var E=w.apply(void 0,d);E!=null&&(g=E)}}),g}return(0,r.default)(u)}t.exports=e.default})(lD,Zd);function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ef.apply(this,arguments)}function _1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gg(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function cD(t){var e=dD(t,"string");return typeof e=="symbol"?e:String(e)}function dD(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $1(t,e,n){var r=h.useRef(t!==void 0),i=h.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,h.useCallback(function(u){for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(d)),o(u)},[n])]}function Xu(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[Gg(r)],a=s[r],l=_1(s,[Gg(r),r].map(cD)),u=e[r],c=$1(a,o,t[u]),d=c[0],f=c[1];return ef({},l,(i={},i[r]=d,i[u]=f,i))},t)}function tf(t,e){return tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tf(t,e)}function fD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tf(t,e)}var hD=Function.prototype.bind.call(Function.prototype.call,[].slice);function _n(t,e){return hD(t.querySelectorAll(e))}function D1(){var t=h.useReducer(function(n){return!n},!1),e=t[1];return e}var Qg=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function pD(t,e){var n=Qg(t),r=Qg(e);return function(i){n&&n(i),r&&r(i)}}function xa(t,e){return h.useMemo(function(){return pD(t,e)},[t,e])}const Yu=h.createContext(null);Yu.displayName="NavContext";const ri=h.createContext(null),Po=(t,e=null)=>t!=null?String(t):e||null,R1=h.createContext(null),mD="data-rr-ui-",gD="rrUi";function Ss(t){return`${mD}${t}`}function vD(t){return`${gD}${t}`}function O1(t){var e=h.useRef(t);return h.useEffect(function(){e.current=t},[t]),e}function Re(t){var e=O1(t);return h.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}const yD=["as","disabled"];function wD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ED(t){return!t||t.trim()==="#"}function up({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=f=>{if((e||t==="a"&&ED(n))&&f.preventDefault(),e){f.stopPropagation();return}o==null||o(f)},d=f=>{f.key===" "&&(f.preventDefault(),c(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:d},u]}const cp=h.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=wD(t,yD);const[s,{tagName:o}]=up(Object.assign({tagName:n,disabled:r},i));return v(o,Object.assign({},i,s,{ref:e}))});cp.displayName="Button";const CD=["as","active","eventKey"];function SD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function A1({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=h.useContext(ri),a=h.useContext(Yu),l=h.useContext(R1);let u=n;const c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");const d=a.getControllerId(t??null),f=a.getControlledId(t??null);c[Ss("event-key")]=t,c.id=d||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=f)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),s&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=Re(d=>{s||(e==null||e(d),t!=null&&o&&!d.isPropagationStopped()&&o(t,d))}),[c,{isActive:u}]}const L1=h.forwardRef((t,e)=>{let{as:n=cp,active:r,eventKey:i}=t,s=SD(t,CD);const[o,a]=A1(Object.assign({key:Po(i,s.href),active:r},s));return o[Ss("active")]=a.isActive,v(n,Object.assign({},s,o,{ref:e}))});L1.displayName="NavItem";const xD=["as","onSelect","activeKey","role","onKeyDown"];function TD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Xg=()=>{},Yg=Ss("event-key"),P1=h.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=TD(t,xD);const l=D1(),u=h.useRef(!1),c=h.useContext(ri),d=h.useContext(R1);let f,g;d&&(s=s||"tablist",i=d.activeKey,f=d.getControlledId,g=d.getControllerId);const w=h.useRef(null),E=y=>{const C=w.current;if(!C)return null;const x=_n(C,`[${Yg}]:not([aria-disabled=true])`),k=C.querySelector("[aria-selected=true]");if(!k||k!==document.activeElement)return null;const N=x.indexOf(k);if(N===-1)return null;let T=N+y;return T>=x.length&&(T=0),T<0&&(T=x.length-1),x[T]},S=(y,C)=>{y!=null&&(r==null||r(y,C),c==null||c(y,C))},m=y=>{if(o==null||o(y),!d)return;let C;switch(y.key){case"ArrowLeft":case"ArrowUp":C=E(-1);break;case"ArrowRight":case"ArrowDown":C=E(1);break;default:return}C&&(y.preventDefault(),S(C.dataset[vD("EventKey")]||null,y),u.current=!0,l())};h.useEffect(()=>{if(w.current&&u.current){const y=w.current.querySelector(`[${Yg}][aria-selected=true]`);y==null||y.focus()}u.current=!1});const p=xa(e,w);return v(ri.Provider,{value:S,children:v(Yu.Provider,{value:{role:s,activeKey:Po(i),getControlledId:f||Xg,getControllerId:g||Xg},children:v(n,Object.assign({},a,{onKeyDown:m,ref:p,role:s}))})})});P1.displayName="Nav";const kD=Object.assign(P1,{Item:L1}),M1=h.createContext(null);M1.displayName="NavbarContext";const pi=M1,b1=h.createContext(null);b1.displayName="CardHeaderContext";const F1=b1;var ND=/-(.)/g;function ID(t){return t.replace(ND,function(e,n){return n.toUpperCase()})}const _D=t=>t[0].toUpperCase()+ID(t).slice(1);function ze(t,{displayName:e=_D(t),Component:n,defaultProps:r}={}){const i=h.forwardRef(({className:s,bsPrefix:o,as:a=n||"div",...l},u)=>{const c=ee(o,t);return v(a,{ref:u,className:z(s,c),...l})});return i.defaultProps=r,i.displayName=e,i}const $D=ze("nav-item");function B1(){return h.useState(null)}function DD(t,e,n,r){r===void 0&&(r=!1);var i=Re(n);h.useEffect(function(){var s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),function(){return s.removeEventListener(e,i,r)}},[t])}function dp(){var t=h.useRef(!0),e=h.useRef(function(){return t.current});return h.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function U1(t){var e=h.useRef(null);return h.useEffect(function(){e.current=t}),e.current}var RD=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",OD=typeof document<"u";const j1=OD||RD?h.useLayoutEffect:h.useEffect,AD=["onKeyDown"];function LD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PD(t){return!t||t.trim()==="#"}const Mo=h.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=LD(t,AD);const[i]=up(Object.assign({tagName:"a"},r)),s=Re(o=>{i.onKeyDown(o),n==null||n(o)});return PD(r.href)||r.role==="button"?v("a",Object.assign({ref:e},r,i,{onKeyDown:s})):v("a",Object.assign({ref:e},r,{onKeyDown:n}))});Mo.displayName="Anchor";const MD={disabled:!1},fp=h.forwardRef(({bsPrefix:t,className:e,as:n=Mo,active:r,eventKey:i,...s},o)=>{t=ee(t,"nav-link");const[a,l]=A1({key:Po(i,s.href),active:r,...s});return v(n,{...s,...a,ref:o,className:z(e,t,s.disabled&&"disabled",l.isActive&&"active")})});fp.displayName="NavLink";fp.defaultProps=MD;const V1=fp,bD={justify:!1,fill:!1},hp=h.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s,justify:o,navbar:a,navbarScroll:l,className:u,activeKey:c,...d}=Xu(t,{activeKey:"onSelect"}),f=ee(r,"nav");let g,w,E=!1;const S=h.useContext(pi),m=h.useContext(F1);return S?(g=S.bsPrefix,E=a??!0):m&&({cardHeaderBsPrefix:w}=m),v(kD,{as:n,ref:e,activeKey:c,className:z(u,{[f]:!E,[`${g}-nav`]:E,[`${g}-nav-scroll`]:E&&l,[`${w}-${i}`]:!!w,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:o}),...d})});hp.displayName="Nav";hp.defaultProps=bD;const Ba=Object.assign(hp,{Item:$D,Link:V1}),z1=h.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ee(t,"navbar-brand");const s=n||(r.href?"a":"span");return v(s,{...r,ref:i,className:z(e,t)})});z1.displayName="NavbarBrand";const FD=z1;function Ta(t){return t&&t.ownerDocument||document}function BD(t){var e=Ta(t);return e&&e.defaultView||window}function UD(t,e){return BD(t).getComputedStyle(t,e)}var jD=/([A-Z])/g;function VD(t){return t.replace(jD,"-$1").toLowerCase()}var zD=/^ms-/;function Ua(t){return VD(t).replace(zD,"-ms-")}var HD=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function WD(t){return!!(t&&HD.test(t))}function Mn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Ua(e))||UD(t).getPropertyValue(Ua(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Ua(i)):WD(i)?r+=i+"("+s+") ":n+=Ua(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var on={},qD={get exports(){return on},set exports(t){on=t}},KD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GD=KD,QD=GD;function H1(){}function W1(){}W1.resetWarningCache=H1;var XD=function(){function t(r,i,s,o,a,l){if(l!==QD){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:W1,resetWarningCache:H1};return n.PropTypes=n,n};qD.exports=XD();var Hl={},YD={get exports(){return Hl},set exports(t){Hl=t}},Mt={},nf={},JD={get exports(){return nf},set exports(t){nf=t}},q1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,P){var O=D.length;D.push(P);e:for(;0<O;){var Z=O-1>>>1,Y=D[Z];if(0<i(Y,P))D[Z]=P,D[O]=Y,O=Z;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var P=D[0],O=D.pop();if(O!==P){D[0]=O;e:for(var Z=0,Y=D.length,he=Y>>>1;Z<he;){var Se=2*(Z+1)-1,K=D[Se],pe=Se+1,ke=D[pe];if(0>i(K,O))pe<Y&&0>i(ke,K)?(D[Z]=ke,D[pe]=O,Z=pe):(D[Z]=K,D[Se]=O,Z=Se);else if(pe<Y&&0>i(ke,O))D[Z]=ke,D[pe]=O,Z=pe;else break e}}return P}function i(D,P){var O=D.sortIndex-P.sortIndex;return O!==0?O:D.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,g=!1,w=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=D)r(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(u)}}function C(D){if(E=!1,y(D),!w)if(n(l)!==null)w=!0,te(x);else{var P=n(u);P!==null&&ue(C,P.startTime-D)}}function x(D,P){w=!1,E&&(E=!1,m(T),T=-1),g=!0;var O=f;try{for(y(P),d=n(l);d!==null&&(!(d.expirationTime>P)||D&&!F());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,f=d.priorityLevel;var Y=Z(d.expirationTime<=P);P=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(l)&&r(l),y(P)}else r(l);d=n(l)}if(d!==null)var he=!0;else{var Se=n(u);Se!==null&&ue(C,Se.startTime-P),he=!1}return he}finally{d=null,f=O,g=!1}}var k=!1,N=null,T=-1,A=5,R=-1;function F(){return!(t.unstable_now()-R<A)}function V(){if(N!==null){var D=t.unstable_now();R=D;var P=!0;try{P=N(!0,D)}finally{P?H():(k=!1,N=null)}}else k=!1}var H;if(typeof p=="function")H=function(){p(V)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,J=ie.port2;ie.port1.onmessage=V,H=function(){J.postMessage(null)}}else H=function(){S(V,0)};function te(D){N=D,k||(k=!0,H())}function ue(D,P){T=S(function(){D(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,te(x))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var O=f;f=P;try{return D()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,P){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var O=f;f=D;try{return P()}finally{f=O}},t.unstable_scheduleCallback=function(D,P,O){var Z=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Z+O:Z):O=Z,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=O+Y,D={id:c++,callback:P,priorityLevel:D,startTime:O,expirationTime:Y,sortIndex:-1},O>Z?(D.sortIndex=O,e(u,D),n(l)===null&&D===n(u)&&(E?(m(T),T=-1):E=!0,ue(C,O-Z))):(D.sortIndex=Y,e(l,D),w||g||(w=!0,te(x))),D},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(D){var P=f;return function(){var O=f;f=P;try{return D.apply(this,arguments)}finally{f=O}}}})(q1);(function(t){t.exports=q1})(JD);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1=h,Pt=nf;function _(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G1=new Set,bo={};function mi(t,e){ts(t,e),ts(t+"Capture",e)}function ts(t,e){for(bo[t]=e,t=0;t<e.length;t++)G1.add(e[t])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rf=Object.prototype.hasOwnProperty,ZD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jg={},Zg={};function eR(t){return rf.call(Zg,t)?!0:rf.call(Jg,t)?!1:ZD.test(t)?Zg[t]=!0:(Jg[t]=!0,!1)}function tR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nR(t,e,n,r){if(e===null||typeof e>"u"||tR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var pp=/[\-:]([a-z])/g;function mp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pp,mp);tt[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pp,mp);tt[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pp,mp);tt[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function gp(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nR(e,n,i,r)&&(n=null),r||i===null?eR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xn=K1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),Ii=Symbol.for("react.fragment"),vp=Symbol.for("react.strict_mode"),sf=Symbol.for("react.profiler"),Q1=Symbol.for("react.provider"),X1=Symbol.for("react.context"),yp=Symbol.for("react.forward_ref"),of=Symbol.for("react.suspense"),af=Symbol.for("react.suspense_list"),wp=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),Y1=Symbol.for("react.offscreen"),ev=Symbol.iterator;function Os(t){return t===null||typeof t!="object"?null:(t=ev&&t[ev]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,bc;function qs(t){if(bc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bc=e&&e[1]||""}return`
`+bc+t}var Fc=!1;function Bc(t,e){if(!t||Fc)return"";Fc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qs(t):""}function rR(t){switch(t.tag){case 5:return qs(t.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 2:case 15:return t=Bc(t.type,!1),t;case 11:return t=Bc(t.type.render,!1),t;case 1:return t=Bc(t.type,!0),t;default:return""}}function lf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ii:return"Fragment";case Ni:return"Portal";case sf:return"Profiler";case vp:return"StrictMode";case of:return"Suspense";case af:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X1:return(t.displayName||"Context")+".Consumer";case Q1:return(t._context.displayName||"Context")+".Provider";case yp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wp:return e=t.displayName||null,e!==null?e:lf(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return lf(t(e))}catch{}}return null}function iR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lf(e);case 8:return e===vp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sR(t){var e=J1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Va(t){t._valueTracker||(t._valueTracker=sR(t))}function Z1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=J1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uf(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eE(t,e){e=e.checked,e!=null&&gp(t,"checked",e,!1)}function cf(t,e){eE(t,e);var n=Nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?df(t,e.type,n):e.hasOwnProperty("defaultValue")&&df(t,e.type,Nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function df(t,e,n){(e!=="number"||Wl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ks=Array.isArray;function zi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ff(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_(92));if(Ks(n)){if(1<n.length)throw Error(_(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nr(n)}}function tE(t,e){var n=Nr(e.value),r=Nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var za,rE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=za.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oR=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(t){oR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),so[e]=so[t]})});function iE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||so.hasOwnProperty(t)&&so[t]?(""+e).trim():e+"px"}function sE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var aR=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pf(t,e){if(e){if(aR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_(62))}}function mf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=null;function Ep(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vf=null,Hi=null,Wi=null;function sv(t){if(t=Ia(t)){if(typeof vf!="function")throw Error(_(280));var e=t.stateNode;e&&(e=nc(e),vf(t.stateNode,t.type,e))}}function oE(t){Hi?Wi?Wi.push(t):Wi=[t]:Hi=t}function aE(){if(Hi){var t=Hi,e=Wi;if(Wi=Hi=null,sv(t),e)for(t=0;t<e.length;t++)sv(e[t])}}function lE(t,e){return t(e)}function uE(){}var Uc=!1;function cE(t,e,n){if(Uc)return t(e,n);Uc=!0;try{return lE(t,e,n)}finally{Uc=!1,(Hi!==null||Wi!==null)&&(uE(),aE())}}function Bo(t,e){var n=t.stateNode;if(n===null)return null;var r=nc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_(231,e,typeof n));return n}var yf=!1;if(Hn)try{var As={};Object.defineProperty(As,"passive",{get:function(){yf=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{yf=!1}function lR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var oo=!1,ql=null,Kl=!1,wf=null,uR={onError:function(t){oo=!0,ql=t}};function cR(t,e,n,r,i,s,o,a,l){oo=!1,ql=null,lR.apply(uR,arguments)}function dR(t,e,n,r,i,s,o,a,l){if(cR.apply(this,arguments),oo){if(oo){var u=ql;oo=!1,ql=null}else throw Error(_(198));Kl||(Kl=!0,wf=u)}}function gi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ov(t){if(gi(t)!==t)throw Error(_(188))}function fR(t){var e=t.alternate;if(!e){if(e=gi(t),e===null)throw Error(_(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ov(i),t;if(s===r)return ov(i),e;s=s.sibling}throw Error(_(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?t:e}function fE(t){return t=fR(t),t!==null?hE(t):null}function hE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hE(t);if(e!==null)return e;t=t.sibling}return null}var pE=Pt.unstable_scheduleCallback,av=Pt.unstable_cancelCallback,hR=Pt.unstable_shouldYield,pR=Pt.unstable_requestPaint,Ae=Pt.unstable_now,mR=Pt.unstable_getCurrentPriorityLevel,Cp=Pt.unstable_ImmediatePriority,mE=Pt.unstable_UserBlockingPriority,Gl=Pt.unstable_NormalPriority,gR=Pt.unstable_LowPriority,gE=Pt.unstable_IdlePriority,Ju=null,yn=null;function vR(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Ju,t,void 0,(t.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:ER,yR=Math.log,wR=Math.LN2;function ER(t){return t>>>=0,t===0?32:31-(yR(t)/wR|0)|0}var Ha=64,Wa=4194304;function Gs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ql(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Gs(a):(s&=o,s!==0&&(r=Gs(s)))}else o=n&~i,o!==0?r=Gs(o):s!==0&&(r=Gs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-an(e),i=1<<n,r|=t[n],e&=~i;return r}function CR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-an(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=CR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ef(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vE(){var t=Ha;return Ha<<=1,!(Ha&4194240)&&(Ha=64),t}function jc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ka(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-an(e),t[e]=n}function xR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-an(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Sp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-an(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fe=0;function yE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wE,xp,EE,CE,SE,Cf=!1,qa=[],pr=null,mr=null,gr=null,Uo=new Map,jo=new Map,sr=[],TR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lv(t,e){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Uo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(e.pointerId)}}function Ls(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ia(e),e!==null&&xp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kR(t,e,n,r,i){switch(e){case"focusin":return pr=Ls(pr,t,e,n,r,i),!0;case"dragenter":return mr=Ls(mr,t,e,n,r,i),!0;case"mouseover":return gr=Ls(gr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Uo.set(s,Ls(Uo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jo.set(s,Ls(jo.get(s)||null,t,e,n,r,i)),!0}return!1}function xE(t){var e=Wr(t.target);if(e!==null){var n=gi(e);if(n!==null){if(e=n.tag,e===13){if(e=dE(n),e!==null){t.blockedOn=e,SE(t.priority,function(){EE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gf=r,n.target.dispatchEvent(r),gf=null}else return e=Ia(n),e!==null&&xp(e),t.blockedOn=n,!1;e.shift()}return!0}function uv(t,e,n){fl(t)&&n.delete(e)}function NR(){Cf=!1,pr!==null&&fl(pr)&&(pr=null),mr!==null&&fl(mr)&&(mr=null),gr!==null&&fl(gr)&&(gr=null),Uo.forEach(uv),jo.forEach(uv)}function Ps(t,e){t.blockedOn===e&&(t.blockedOn=null,Cf||(Cf=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,NR)))}function Vo(t){function e(i){return Ps(i,t)}if(0<qa.length){Ps(qa[0],t);for(var n=1;n<qa.length;n++){var r=qa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pr!==null&&Ps(pr,t),mr!==null&&Ps(mr,t),gr!==null&&Ps(gr,t),Uo.forEach(e),jo.forEach(e),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)xE(n),n.blockedOn===null&&sr.shift()}var qi=Xn.ReactCurrentBatchConfig,Xl=!0;function IR(t,e,n,r){var i=fe,s=qi.transition;qi.transition=null;try{fe=1,Tp(t,e,n,r)}finally{fe=i,qi.transition=s}}function _R(t,e,n,r){var i=fe,s=qi.transition;qi.transition=null;try{fe=4,Tp(t,e,n,r)}finally{fe=i,qi.transition=s}}function Tp(t,e,n,r){if(Xl){var i=Sf(t,e,n,r);if(i===null)Yc(t,e,r,Yl,n),lv(t,r);else if(kR(i,t,e,n,r))r.stopPropagation();else if(lv(t,r),e&4&&-1<TR.indexOf(t)){for(;i!==null;){var s=Ia(i);if(s!==null&&wE(s),s=Sf(t,e,n,r),s===null&&Yc(t,e,r,Yl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yc(t,e,r,null,n)}}var Yl=null;function Sf(t,e,n,r){if(Yl=null,t=Ep(r),t=Wr(t),t!==null)if(e=gi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yl=t,null}function TE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mR()){case Cp:return 1;case mE:return 4;case Gl:case gR:return 16;case gE:return 536870912;default:return 16}default:return 16}}var lr=null,kp=null,hl=null;function kE(){if(hl)return hl;var t,e=kp,n=e.length,r,i="value"in lr?lr.value:lr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hl=i.slice(t,1<r?1-r:void 0)}function pl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ka(){return!0}function cv(){return!1}function bt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ka:cv,this.isPropagationStopped=cv,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),e}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Np=bt(xs),Na=_e({},xs,{view:0,detail:0}),$R=bt(Na),Vc,zc,Ms,Zu=_e({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ip,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(Vc=t.screenX-Ms.screenX,zc=t.screenY-Ms.screenY):zc=Vc=0,Ms=t),Vc)},movementY:function(t){return"movementY"in t?t.movementY:zc}}),dv=bt(Zu),DR=_e({},Zu,{dataTransfer:0}),RR=bt(DR),OR=_e({},Na,{relatedTarget:0}),Hc=bt(OR),AR=_e({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),LR=bt(AR),PR=_e({},xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MR=bt(PR),bR=_e({},xs,{data:0}),fv=bt(bR),FR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UR[t])?!!e[t]:!1}function Ip(){return jR}var VR=_e({},Na,{key:function(t){if(t.key){var e=FR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ip,charCode:function(t){return t.type==="keypress"?pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zR=bt(VR),HR=_e({},Zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hv=bt(HR),WR=_e({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ip}),qR=bt(WR),KR=_e({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),GR=bt(KR),QR=_e({},Zu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XR=bt(QR),YR=[9,13,27,32],_p=Hn&&"CompositionEvent"in window,ao=null;Hn&&"documentMode"in document&&(ao=document.documentMode);var JR=Hn&&"TextEvent"in window&&!ao,NE=Hn&&(!_p||ao&&8<ao&&11>=ao),pv=String.fromCharCode(32),mv=!1;function IE(t,e){switch(t){case"keyup":return YR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _E(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _i=!1;function ZR(t,e){switch(t){case"compositionend":return _E(e);case"keypress":return e.which!==32?null:(mv=!0,pv);case"textInput":return t=e.data,t===pv&&mv?null:t;default:return null}}function eO(t,e){if(_i)return t==="compositionend"||!_p&&IE(t,e)?(t=kE(),hl=kp=lr=null,_i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NE&&e.locale!=="ko"?null:e.data;default:return null}}var tO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tO[t.type]:e==="textarea"}function $E(t,e,n,r){oE(r),e=Jl(e,"onChange"),0<e.length&&(n=new Np("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lo=null,zo=null;function nO(t){UE(t,0)}function ec(t){var e=Ri(t);if(Z1(e))return t}function rO(t,e){if(t==="change")return e}var DE=!1;if(Hn){var Wc;if(Hn){var qc="oninput"in document;if(!qc){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),qc=typeof vv.oninput=="function"}Wc=qc}else Wc=!1;DE=Wc&&(!document.documentMode||9<document.documentMode)}function yv(){lo&&(lo.detachEvent("onpropertychange",RE),zo=lo=null)}function RE(t){if(t.propertyName==="value"&&ec(zo)){var e=[];$E(e,zo,t,Ep(t)),cE(nO,e)}}function iO(t,e,n){t==="focusin"?(yv(),lo=e,zo=n,lo.attachEvent("onpropertychange",RE)):t==="focusout"&&yv()}function sO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ec(zo)}function oO(t,e){if(t==="click")return ec(e)}function aO(t,e){if(t==="input"||t==="change")return ec(e)}function lO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:lO;function Ho(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rf.call(e,i)||!cn(t[i],e[i]))return!1}return!0}function wv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ev(t,e){var n=wv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wv(n)}}function OE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AE(){for(var t=window,e=Wl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wl(t.document)}return e}function $p(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uO(t){var e=AE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OE(n.ownerDocument.documentElement,n)){if(r!==null&&$p(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ev(n,s);var o=Ev(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cO=Hn&&"documentMode"in document&&11>=document.documentMode,$i=null,xf=null,uo=null,Tf=!1;function Cv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tf||$i==null||$i!==Wl(r)||(r=$i,"selectionStart"in r&&$p(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uo&&Ho(uo,r)||(uo=r,r=Jl(xf,"onSelect"),0<r.length&&(e=new Np("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$i)))}function Ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Di={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},Kc={},LE={};Hn&&(LE=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function tc(t){if(Kc[t])return Kc[t];if(!Di[t])return t;var e=Di[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LE)return Kc[t]=e[n];return t}var PE=tc("animationend"),ME=tc("animationiteration"),bE=tc("animationstart"),FE=tc("transitionend"),BE=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(t,e){BE.set(t,e),mi(e,[t])}for(var Gc=0;Gc<Sv.length;Gc++){var Qc=Sv[Gc],dO=Qc.toLowerCase(),fO=Qc[0].toUpperCase()+Qc.slice(1);Or(dO,"on"+fO)}Or(PE,"onAnimationEnd");Or(ME,"onAnimationIteration");Or(bE,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(FE,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function xv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dR(r,e,void 0,t),t.currentTarget=null}function UE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;xv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;xv(i,a,u),s=l}}}if(Kl)throw t=wf,Kl=!1,wf=null,t}function we(t,e){var n=e[$f];n===void 0&&(n=e[$f]=new Set);var r=t+"__bubble";n.has(r)||(jE(e,t,2,!1),n.add(r))}function Xc(t,e,n){var r=0;e&&(r|=4),jE(n,t,r,e)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function Wo(t){if(!t[Qa]){t[Qa]=!0,G1.forEach(function(n){n!=="selectionchange"&&(hO.has(n)||Xc(n,!1,t),Xc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qa]||(e[Qa]=!0,Xc("selectionchange",!1,e))}}function jE(t,e,n,r){switch(TE(e)){case 1:var i=IR;break;case 4:i=_R;break;default:i=Tp}n=i.bind(null,e,n,t),i=void 0,!yf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cE(function(){var u=s,c=Ep(n),d=[];e:{var f=BE.get(t);if(f!==void 0){var g=Np,w=t;switch(t){case"keypress":if(pl(n)===0)break e;case"keydown":case"keyup":g=zR;break;case"focusin":w="focus",g=Hc;break;case"focusout":w="blur",g=Hc;break;case"beforeblur":case"afterblur":g=Hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=RR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=qR;break;case PE:case ME:case bE:g=LR;break;case FE:g=GR;break;case"scroll":g=$R;break;case"wheel":g=XR;break;case"copy":case"cut":case"paste":g=MR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=hv}var E=(e&4)!==0,S=!E&&t==="scroll",m=E?f!==null?f+"Capture":null:f;E=[];for(var p=u,y;p!==null;){y=p;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,m!==null&&(C=Bo(p,m),C!=null&&E.push(qo(p,C,y)))),S)break;p=p.return}0<E.length&&(f=new g(f,w,null,n,c),d.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==gf&&(w=n.relatedTarget||n.fromElement)&&(Wr(w)||w[Wn]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?Wr(w):null,w!==null&&(S=gi(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(E=dv,C="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(E=hv,C="onPointerLeave",m="onPointerEnter",p="pointer"),S=g==null?f:Ri(g),y=w==null?f:Ri(w),f=new E(C,p+"leave",g,n,c),f.target=S,f.relatedTarget=y,C=null,Wr(c)===u&&(E=new E(m,p+"enter",w,n,c),E.target=y,E.relatedTarget=S,C=E),S=C,g&&w)t:{for(E=g,m=w,p=0,y=E;y;y=wi(y))p++;for(y=0,C=m;C;C=wi(C))y++;for(;0<p-y;)E=wi(E),p--;for(;0<y-p;)m=wi(m),y--;for(;p--;){if(E===m||m!==null&&E===m.alternate)break t;E=wi(E),m=wi(m)}E=null}else E=null;g!==null&&Tv(d,f,g,E,!1),w!==null&&S!==null&&Tv(d,S,w,E,!0)}}e:{if(f=u?Ri(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var x=rO;else if(gv(f))if(DE)x=aO;else{x=sO;var k=iO}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=oO);if(x&&(x=x(t,u))){$E(d,x,n,c);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&df(f,"number",f.value)}switch(k=u?Ri(u):window,t){case"focusin":(gv(k)||k.contentEditable==="true")&&($i=k,xf=u,uo=null);break;case"focusout":uo=xf=$i=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Cv(d,n,c);break;case"selectionchange":if(cO)break;case"keydown":case"keyup":Cv(d,n,c)}var N;if(_p)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else _i?IE(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(NE&&n.locale!=="ko"&&(_i||T!=="onCompositionStart"?T==="onCompositionEnd"&&_i&&(N=kE()):(lr=c,kp="value"in lr?lr.value:lr.textContent,_i=!0)),k=Jl(u,T),0<k.length&&(T=new fv(T,t,null,n,c),d.push({event:T,listeners:k}),N?T.data=N:(N=_E(n),N!==null&&(T.data=N)))),(N=JR?ZR(t,n):eO(t,n))&&(u=Jl(u,"onBeforeInput"),0<u.length&&(c=new fv("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=N))}UE(d,e)})}function qo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bo(t,n),s!=null&&r.unshift(qo(t,s,i)),s=Bo(t,e),s!=null&&r.push(qo(t,s,i))),t=t.return}return r}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Bo(n,s),l!=null&&o.unshift(qo(n,l,a))):i||(l=Bo(n,s),l!=null&&o.push(qo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pO=/\r\n?/g,mO=/\u0000|\uFFFD/g;function kv(t){return(typeof t=="string"?t:""+t).replace(pO,`
`).replace(mO,"")}function Xa(t,e,n){if(e=kv(e),kv(t)!==e&&n)throw Error(_(425))}function Zl(){}var kf=null,Nf=null;function If(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,gO=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,vO=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(t){return Nv.resolve(null).then(t).catch(yO)}:_f;function yO(t){setTimeout(function(){throw t})}function Jc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vo(e)}function vr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Iv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),gn="__reactFiber$"+Ts,Ko="__reactProps$"+Ts,Wn="__reactContainer$"+Ts,$f="__reactEvents$"+Ts,wO="__reactListeners$"+Ts,EO="__reactHandles$"+Ts;function Wr(t){var e=t[gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wn]||n[gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Iv(t);t!==null;){if(n=t[gn])return n;t=Iv(t)}return e}t=n,n=t.parentNode}return null}function Ia(t){return t=t[gn]||t[Wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_(33))}function nc(t){return t[Ko]||null}var Df=[],Oi=-1;function Ar(t){return{current:t}}function Ce(t){0>Oi||(t.current=Df[Oi],Df[Oi]=null,Oi--)}function ve(t,e){Oi++,Df[Oi]=t.current,t.current=e}var Ir={},ft=Ar(Ir),xt=Ar(!1),ii=Ir;function ns(t,e){var n=t.type.contextTypes;if(!n)return Ir;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tt(t){return t=t.childContextTypes,t!=null}function eu(){Ce(xt),Ce(ft)}function _v(t,e,n){if(ft.current!==Ir)throw Error(_(168));ve(ft,e),ve(xt,n)}function VE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_(108,iR(t)||"Unknown",i));return _e({},n,r)}function tu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ir,ii=ft.current,ve(ft,t),ve(xt,xt.current),!0}function $v(t,e,n){var r=t.stateNode;if(!r)throw Error(_(169));n?(t=VE(t,e,ii),r.__reactInternalMemoizedMergedChildContext=t,Ce(xt),Ce(ft),ve(ft,t)):Ce(xt),ve(xt,n)}var $n=null,rc=!1,Zc=!1;function zE(t){$n===null?$n=[t]:$n.push(t)}function CO(t){rc=!0,zE(t)}function Lr(){if(!Zc&&$n!==null){Zc=!0;var t=0,e=fe;try{var n=$n;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$n=null,rc=!1}catch(i){throw $n!==null&&($n=$n.slice(t+1)),pE(Cp,Lr),i}finally{fe=e,Zc=!1}}return null}var Ai=[],Li=0,nu=null,ru=0,Ut=[],jt=0,si=null,An=1,Ln="";function Ur(t,e){Ai[Li++]=ru,Ai[Li++]=nu,nu=t,ru=e}function HE(t,e,n){Ut[jt++]=An,Ut[jt++]=Ln,Ut[jt++]=si,si=t;var r=An;t=Ln;var i=32-an(r)-1;r&=~(1<<i),n+=1;var s=32-an(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,An=1<<32-an(e)+i|n<<i|r,Ln=s+t}else An=1<<s|n<<i|r,Ln=t}function Dp(t){t.return!==null&&(Ur(t,1),HE(t,1,0))}function Rp(t){for(;t===nu;)nu=Ai[--Li],Ai[Li]=null,ru=Ai[--Li],Ai[Li]=null;for(;t===si;)si=Ut[--jt],Ut[jt]=null,Ln=Ut[--jt],Ut[jt]=null,An=Ut[--jt],Ut[jt]=null}var At=null,Rt=null,Te=!1,tn=null;function WE(t,e){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,At=t,Rt=vr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,At=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:An,overflow:Ln}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,At=t,Rt=null,!0):!1;default:return!1}}function Rf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Of(t){if(Te){var e=Rt;if(e){var n=e;if(!Dv(t,e)){if(Rf(t))throw Error(_(418));e=vr(n.nextSibling);var r=At;e&&Dv(t,e)?WE(r,n):(t.flags=t.flags&-4097|2,Te=!1,At=t)}}else{if(Rf(t))throw Error(_(418));t.flags=t.flags&-4097|2,Te=!1,At=t}}}function Rv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;At=t}function Ya(t){if(t!==At)return!1;if(!Te)return Rv(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!If(t.type,t.memoizedProps)),e&&(e=Rt)){if(Rf(t))throw qE(),Error(_(418));for(;e;)WE(t,e),e=vr(e.nextSibling)}if(Rv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rt=vr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=At?vr(t.stateNode.nextSibling):null;return!0}function qE(){for(var t=Rt;t;)t=vr(t.nextSibling)}function rs(){Rt=At=null,Te=!1}function Op(t){tn===null?tn=[t]:tn.push(t)}var SO=Xn.ReactCurrentBatchConfig;function Zt(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var iu=Ar(null),su=null,Pi=null,Ap=null;function Lp(){Ap=Pi=su=null}function Pp(t){var e=iu.current;Ce(iu),t._currentValue=e}function Af(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ki(t,e){su=t,Ap=Pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(St=!0),t.firstContext=null)}function Wt(t){var e=t._currentValue;if(Ap!==t)if(t={context:t,memoizedValue:e,next:null},Pi===null){if(su===null)throw Error(_(308));Pi=t,su.dependencies={lanes:0,firstContext:t}}else Pi=Pi.next=t;return e}var qr=null;function Mp(t){qr===null?qr=[t]:qr.push(t)}function KE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Mp(e)):(n.next=i.next,i.next=n),e.interleaved=n,qn(t,r)}function qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function bp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qn(t,n)}return i=r.interleaved,i===null?(e.next=e,Mp(r)):(e.next=i.next,i.next=e),r.interleaved=e,qn(t,n)}function ml(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sp(t,n)}}function Ov(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ou(t,e,n,r){var i=t.updateQueue;rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,E=a;switch(f=e,g=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){d=w.call(g,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,f=typeof w=="function"?w.call(g,d,f):w,f==null)break e;d=_e({},d,f);break e;case 2:rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ai|=o,t.lanes=o,t.memoizedState=d}}function Av(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_(191,i));i.call(r)}}}var QE=new K1.Component().refs;function Lf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ic={isMounted:function(t){return(t=t._reactInternals)?gi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),i=Er(t),s=bn(r,i);s.payload=e,n!=null&&(s.callback=n),e=yr(t,s,i),e!==null&&(ln(e,t,i,r),ml(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),i=Er(t),s=bn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=yr(t,s,i),e!==null&&(ln(e,t,i,r),ml(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=Er(t),i=bn(n,r);i.tag=2,e!=null&&(i.callback=e),e=yr(t,i,r),e!==null&&(ln(e,t,r,n),ml(e,t,r))}};function Lv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ho(n,r)||!Ho(i,s):!0}function XE(t,e,n){var r=!1,i=Ir,s=e.contextType;return typeof s=="object"&&s!==null?s=Wt(s):(i=Tt(e)?ii:ft.current,r=e.contextTypes,s=(r=r!=null)?ns(t,i):Ir),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ic,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Pv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ic.enqueueReplaceState(e,e.state,null)}function Pf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=QE,bp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wt(s):(s=Tt(e)?ii:ft.current,i.context=ns(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Lf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ic.enqueueReplaceState(i,i.state,null),ou(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===QE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,t))}return t}function Ja(t,e){throw t=Object.prototype.toString.call(e),Error(_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mv(t){var e=t._init;return e(t._payload)}function YE(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Cr(m,p),m.index=0,m.sibling=null,m}function s(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,C){return p===null||p.tag!==6?(p=od(y,m.mode,C),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,C){var x=y.type;return x===Ii?c(m,p,y.props.children,C,y.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nr&&Mv(x)===p.type)?(C=i(p,y.props),C.ref=bs(m,p,y),C.return=m,C):(C=Cl(y.type,y.key,y.props,null,m.mode,C),C.ref=bs(m,p,y),C.return=m,C)}function u(m,p,y,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=ad(y,m.mode,C),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function c(m,p,y,C,x){return p===null||p.tag!==7?(p=Jr(y,m.mode,C,x),p.return=m,p):(p=i(p,y),p.return=m,p)}function d(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=od(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ja:return y=Cl(p.type,p.key,p.props,null,m.mode,y),y.ref=bs(m,null,p),y.return=m,y;case Ni:return p=ad(p,m.mode,y),p.return=m,p;case nr:var C=p._init;return d(m,C(p._payload),y)}if(Ks(p)||Os(p))return p=Jr(p,m.mode,y,null),p.return=m,p;Ja(m,p)}return null}function f(m,p,y,C){var x=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:a(m,p,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ja:return y.key===x?l(m,p,y,C):null;case Ni:return y.key===x?u(m,p,y,C):null;case nr:return x=y._init,f(m,p,x(y._payload),C)}if(Ks(y)||Os(y))return x!==null?null:c(m,p,y,C,null);Ja(m,y)}return null}function g(m,p,y,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return m=m.get(y)||null,a(p,m,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ja:return m=m.get(C.key===null?y:C.key)||null,l(p,m,C,x);case Ni:return m=m.get(C.key===null?y:C.key)||null,u(p,m,C,x);case nr:var k=C._init;return g(m,p,y,k(C._payload),x)}if(Ks(C)||Os(C))return m=m.get(y)||null,c(p,m,C,x,null);Ja(p,C)}return null}function w(m,p,y,C){for(var x=null,k=null,N=p,T=p=0,A=null;N!==null&&T<y.length;T++){N.index>T?(A=N,N=null):A=N.sibling;var R=f(m,N,y[T],C);if(R===null){N===null&&(N=A);break}t&&N&&R.alternate===null&&e(m,N),p=s(R,p,T),k===null?x=R:k.sibling=R,k=R,N=A}if(T===y.length)return n(m,N),Te&&Ur(m,T),x;if(N===null){for(;T<y.length;T++)N=d(m,y[T],C),N!==null&&(p=s(N,p,T),k===null?x=N:k.sibling=N,k=N);return Te&&Ur(m,T),x}for(N=r(m,N);T<y.length;T++)A=g(N,m,T,y[T],C),A!==null&&(t&&A.alternate!==null&&N.delete(A.key===null?T:A.key),p=s(A,p,T),k===null?x=A:k.sibling=A,k=A);return t&&N.forEach(function(F){return e(m,F)}),Te&&Ur(m,T),x}function E(m,p,y,C){var x=Os(y);if(typeof x!="function")throw Error(_(150));if(y=x.call(y),y==null)throw Error(_(151));for(var k=x=null,N=p,T=p=0,A=null,R=y.next();N!==null&&!R.done;T++,R=y.next()){N.index>T?(A=N,N=null):A=N.sibling;var F=f(m,N,R.value,C);if(F===null){N===null&&(N=A);break}t&&N&&F.alternate===null&&e(m,N),p=s(F,p,T),k===null?x=F:k.sibling=F,k=F,N=A}if(R.done)return n(m,N),Te&&Ur(m,T),x;if(N===null){for(;!R.done;T++,R=y.next())R=d(m,R.value,C),R!==null&&(p=s(R,p,T),k===null?x=R:k.sibling=R,k=R);return Te&&Ur(m,T),x}for(N=r(m,N);!R.done;T++,R=y.next())R=g(N,m,T,R.value,C),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?T:R.key),p=s(R,p,T),k===null?x=R:k.sibling=R,k=R);return t&&N.forEach(function(V){return e(m,V)}),Te&&Ur(m,T),x}function S(m,p,y,C){if(typeof y=="object"&&y!==null&&y.type===Ii&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ja:e:{for(var x=y.key,k=p;k!==null;){if(k.key===x){if(x=y.type,x===Ii){if(k.tag===7){n(m,k.sibling),p=i(k,y.props.children),p.return=m,m=p;break e}}else if(k.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nr&&Mv(x)===k.type){n(m,k.sibling),p=i(k,y.props),p.ref=bs(m,k,y),p.return=m,m=p;break e}n(m,k);break}else e(m,k);k=k.sibling}y.type===Ii?(p=Jr(y.props.children,m.mode,C,y.key),p.return=m,m=p):(C=Cl(y.type,y.key,y.props,null,m.mode,C),C.ref=bs(m,p,y),C.return=m,m=C)}return o(m);case Ni:e:{for(k=y.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=ad(y,m.mode,C),p.return=m,m=p}return o(m);case nr:return k=y._init,S(m,p,k(y._payload),C)}if(Ks(y))return w(m,p,y,C);if(Os(y))return E(m,p,y,C);Ja(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=od(y,m.mode,C),p.return=m,m=p),o(m)):n(m,p)}return S}var is=YE(!0),JE=YE(!1),_a={},wn=Ar(_a),Go=Ar(_a),Qo=Ar(_a);function Kr(t){if(t===_a)throw Error(_(174));return t}function Fp(t,e){switch(ve(Qo,e),ve(Go,t),ve(wn,_a),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hf(e,t)}Ce(wn),ve(wn,e)}function ss(){Ce(wn),Ce(Go),Ce(Qo)}function ZE(t){Kr(Qo.current);var e=Kr(wn.current),n=hf(e,t.type);e!==n&&(ve(Go,t),ve(wn,n))}function Bp(t){Go.current===t&&(Ce(wn),Ce(Go))}var Ne=Ar(0);function au(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ed=[];function Up(){for(var t=0;t<ed.length;t++)ed[t]._workInProgressVersionPrimary=null;ed.length=0}var gl=Xn.ReactCurrentDispatcher,td=Xn.ReactCurrentBatchConfig,oi=0,Ie=null,Fe=null,qe=null,lu=!1,co=!1,Xo=0,xO=0;function rt(){throw Error(_(321))}function jp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cn(t[n],e[n]))return!1;return!0}function Vp(t,e,n,r,i,s){if(oi=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gl.current=t===null||t.memoizedState===null?IO:_O,t=n(r,i),co){s=0;do{if(co=!1,Xo=0,25<=s)throw Error(_(301));s+=1,qe=Fe=null,e.updateQueue=null,gl.current=$O,t=n(r,i)}while(co)}if(gl.current=uu,e=Fe!==null&&Fe.next!==null,oi=0,qe=Fe=Ie=null,lu=!1,e)throw Error(_(300));return t}function zp(){var t=Xo!==0;return Xo=0,t}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ie.memoizedState=qe=t:qe=qe.next=t,qe}function qt(){if(Fe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=qe===null?Ie.memoizedState:qe.next;if(e!==null)qe=e,Fe=t;else{if(t===null)throw Error(_(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},qe===null?Ie.memoizedState=qe=t:qe=qe.next=t}return qe}function Yo(t,e){return typeof e=="function"?e(t):e}function nd(t){var e=qt(),n=e.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=t;var r=Fe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((oi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ie.lanes|=c,ai|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,cn(r,e.memoizedState)||(St=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ie.lanes|=s,ai|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rd(t){var e=qt(),n=e.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);cn(s,e.memoizedState)||(St=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eC(){}function tC(t,e){var n=Ie,r=qt(),i=e(),s=!cn(r.memoizedState,i);if(s&&(r.memoizedState=i,St=!0),r=r.queue,Hp(iC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Jo(9,rC.bind(null,n,r,i,e),void 0,null),Ge===null)throw Error(_(349));oi&30||nC(n,e,i)}return i}function nC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rC(t,e,n,r){e.value=n,e.getSnapshot=r,sC(e)&&oC(t)}function iC(t,e,n){return n(function(){sC(e)&&oC(t)})}function sC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cn(t,n)}catch{return!0}}function oC(t){var e=qn(t,1);e!==null&&ln(e,t,1,-1)}function bv(t){var e=hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:t},e.queue=t,t=t.dispatch=NO.bind(null,Ie,t),[e.memoizedState,t]}function Jo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aC(){return qt().memoizedState}function vl(t,e,n,r){var i=hn();Ie.flags|=t,i.memoizedState=Jo(1|e,n,void 0,r===void 0?null:r)}function sc(t,e,n,r){var i=qt();r=r===void 0?null:r;var s=void 0;if(Fe!==null){var o=Fe.memoizedState;if(s=o.destroy,r!==null&&jp(r,o.deps)){i.memoizedState=Jo(e,n,s,r);return}}Ie.flags|=t,i.memoizedState=Jo(1|e,n,s,r)}function Fv(t,e){return vl(8390656,8,t,e)}function Hp(t,e){return sc(2048,8,t,e)}function lC(t,e){return sc(4,2,t,e)}function uC(t,e){return sc(4,4,t,e)}function cC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dC(t,e,n){return n=n!=null?n.concat([t]):null,sc(4,4,cC.bind(null,e,t),n)}function Wp(){}function fC(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hC(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pC(t,e,n){return oi&21?(cn(n,e)||(n=vE(),Ie.lanes|=n,ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=n)}function TO(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=td.transition;td.transition={};try{t(!1),e()}finally{fe=n,td.transition=r}}function mC(){return qt().memoizedState}function kO(t,e,n){var r=Er(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gC(t))vC(e,n);else if(n=KE(t,e,n,r),n!==null){var i=vt();ln(n,t,r,i),yC(n,e,r)}}function NO(t,e,n){var r=Er(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gC(t))vC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,cn(a,o)){var l=e.interleaved;l===null?(i.next=i,Mp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KE(t,e,i,r),n!==null&&(i=vt(),ln(n,t,r,i),yC(n,e,r))}}function gC(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function vC(t,e){co=lu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sp(t,n)}}var uu={readContext:Wt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},IO={readContext:Wt,useCallback:function(t,e){return hn().memoizedState=[t,e===void 0?null:e],t},useContext:Wt,useEffect:Fv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vl(4194308,4,cC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vl(4194308,4,t,e)},useInsertionEffect:function(t,e){return vl(4,2,t,e)},useMemo:function(t,e){var n=hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kO.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=hn();return t={current:t},e.memoizedState=t},useState:bv,useDebugValue:Wp,useDeferredValue:function(t){return hn().memoizedState=t},useTransition:function(){var t=bv(!1),e=t[0];return t=TO.bind(null,t[1]),hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,i=hn();if(Te){if(n===void 0)throw Error(_(407));n=n()}else{if(n=e(),Ge===null)throw Error(_(349));oi&30||nC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Fv(iC.bind(null,r,s,t),[t]),r.flags|=2048,Jo(9,rC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=hn(),e=Ge.identifierPrefix;if(Te){var n=Ln,r=An;n=(r&~(1<<32-an(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_O={readContext:Wt,useCallback:fC,useContext:Wt,useEffect:Hp,useImperativeHandle:dC,useInsertionEffect:lC,useLayoutEffect:uC,useMemo:hC,useReducer:nd,useRef:aC,useState:function(){return nd(Yo)},useDebugValue:Wp,useDeferredValue:function(t){var e=qt();return pC(e,Fe.memoizedState,t)},useTransition:function(){var t=nd(Yo)[0],e=qt().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:mC,unstable_isNewReconciler:!1},$O={readContext:Wt,useCallback:fC,useContext:Wt,useEffect:Hp,useImperativeHandle:dC,useInsertionEffect:lC,useLayoutEffect:uC,useMemo:hC,useReducer:rd,useRef:aC,useState:function(){return rd(Yo)},useDebugValue:Wp,useDeferredValue:function(t){var e=qt();return Fe===null?e.memoizedState=t:pC(e,Fe.memoizedState,t)},useTransition:function(){var t=rd(Yo)[0],e=qt().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:mC,unstable_isNewReconciler:!1};function os(t,e){try{var n="",r=e;do n+=rR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function id(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DO=typeof WeakMap=="function"?WeakMap:Map;function wC(t,e,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){du||(du=!0,qf=r),Mf(t,e)},n}function EC(t,e,n){n=bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mf(t,e),typeof r!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Bv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HO.bind(null,t,e,n),e.then(t,t))}function Uv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bn(-1,1),e.tag=2,yr(n,e,1))),n.lanes|=1),t)}var RO=Xn.ReactCurrentOwner,St=!1;function ht(t,e,n,r){e.child=t===null?JE(e,null,n,r):is(e,t.child,n,r)}function Vv(t,e,n,r,i){n=n.render;var s=e.ref;return Ki(e,i),r=Vp(t,e,n,r,s,i),n=zp(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(Te&&n&&Dp(e),e.flags|=1,ht(t,e,r,i),e.child)}function zv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Zp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CC(t,e,s,r,i)):(t=Cl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(o,r)&&t.ref===e.ref)return Kn(t,e,i)}return e.flags|=1,t=Cr(s,r),t.ref=e.ref,t.return=e,e.child=t}function CC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ho(s,r)&&t.ref===e.ref)if(St=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(St=!0);else return e.lanes=t.lanes,Kn(t,e,i)}return bf(t,e,n,r,i)}function SC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(bi,$t),$t|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(bi,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ve(bi,$t),$t|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ve(bi,$t),$t|=r;return ht(t,e,i,n),e.child}function xC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bf(t,e,n,r,i){var s=Tt(n)?ii:ft.current;return s=ns(e,s),Ki(e,i),n=Vp(t,e,n,r,s,i),r=zp(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(Te&&r&&Dp(e),e.flags|=1,ht(t,e,n,i),e.child)}function Hv(t,e,n,r,i){if(Tt(n)){var s=!0;tu(e)}else s=!1;if(Ki(e,i),e.stateNode===null)yl(t,e),XE(e,n,r),Pf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=Tt(n)?ii:ft.current,u=ns(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Pv(e,o,r,u),rr=!1;var f=e.memoizedState;o.state=f,ou(e,r,o,i),l=e.memoizedState,a!==r||f!==l||xt.current||rr?(typeof c=="function"&&(Lf(e,n,c,r),l=e.memoizedState),(a=rr||Lv(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,GE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Zt(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wt(l):(l=Tt(n)?ii:ft.current,l=ns(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Pv(e,o,r,l),rr=!1,f=e.memoizedState,o.state=f,ou(e,r,o,i);var w=e.memoizedState;a!==d||f!==w||xt.current||rr?(typeof g=="function"&&(Lf(e,n,g,r),w=e.memoizedState),(u=rr||Lv(e,n,u,r,f,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ff(t,e,n,r,s,i)}function Ff(t,e,n,r,i,s){xC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$v(e,n,!1),Kn(t,e,s);r=e.stateNode,RO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=is(e,t.child,null,s),e.child=is(e,null,a,s)):ht(t,e,a,s),e.memoizedState=r.state,i&&$v(e,n,!0),e.child}function TC(t){var e=t.stateNode;e.pendingContext?_v(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_v(t,e.context,!1),Fp(t,e.containerInfo)}function Wv(t,e,n,r,i){return rs(),Op(i),e.flags|=256,ht(t,e,n,r),e.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function Uf(t){return{baseLanes:t,cachePool:null,transitions:null}}function kC(t,e,n){var r=e.pendingProps,i=Ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ve(Ne,i&1),t===null)return Of(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lc(o,r,0,null),t=Jr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Uf(n),e.memoizedState=Bf,t):qp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return OO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Cr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Cr(a,s):(s=Jr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Uf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Bf,r}return s=t.child,t=s.sibling,r=Cr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qp(t,e){return e=lc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Za(t,e,n,r){return r!==null&&Op(r),is(e,t.child,null,n),t=qp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=id(Error(_(422))),Za(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=lc({mode:"visible",children:r.children},i,0,null),s=Jr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&is(e,t.child,null,o),e.child.memoizedState=Uf(o),e.memoizedState=Bf,s);if(!(e.mode&1))return Za(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(_(419)),r=id(s,r,void 0),Za(t,e,o,r)}if(a=(o&t.childLanes)!==0,St||a){if(r=Ge,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qn(t,i),ln(r,t,i,-1))}return Jp(),r=id(Error(_(421))),Za(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rt=vr(i.nextSibling),At=e,Te=!0,tn=null,t!==null&&(Ut[jt++]=An,Ut[jt++]=Ln,Ut[jt++]=si,An=t.id,Ln=t.overflow,si=e),e=qp(e,r.children),e.flags|=4096,e)}function qv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Af(t.return,e,n)}function sd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function NC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ht(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qv(t,n,e);else if(t.tag===19)qv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ve(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&au(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&au(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sd(e,!0,n,null,s);break;case"together":sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_(153));if(e.child!==null){for(t=e.child,n=Cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AO(t,e,n){switch(e.tag){case 3:TC(e),rs();break;case 5:ZE(e);break;case 1:Tt(e.type)&&tu(e);break;case 4:Fp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ve(iu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?kC(t,e,n):(ve(Ne,Ne.current&1),t=Kn(t,e,n),t!==null?t.sibling:null);ve(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,SC(t,e,n)}return Kn(t,e,n)}var IC,jf,_C,$C;IC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jf=function(){};_C=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kr(wn.current);var s=null;switch(n){case"input":i=uf(t,i),r=uf(t,r),s=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),s=[];break;case"textarea":i=ff(t,i),r=ff(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zl)}pf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};$C=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fs(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LO(t,e,n){var r=e.pendingProps;switch(Rp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return Tt(e.type)&&eu(),it(e),null;case 3:return r=e.stateNode,ss(),Ce(xt),Ce(ft),Up(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ya(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tn!==null&&(Qf(tn),tn=null))),jf(t,e),it(e),null;case 5:Bp(e);var i=Kr(Qo.current);if(n=e.type,t!==null&&e.stateNode!=null)_C(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_(166));return it(e),null}if(t=Kr(wn.current),Ya(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gn]=e,r[Ko]=s,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Qs.length;i++)we(Qs[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":tv(r,s),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},we("invalid",r);break;case"textarea":rv(r,s),we("invalid",r)}pf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xa(r.textContent,a,t),i=["children",""+a]):bo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":Va(r),nv(r,s,!0);break;case"textarea":Va(r),iv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gn]=e,t[Ko]=r,IC(t,e,!1,!1),e.stateNode=t;e:{switch(o=mf(n,r),n){case"dialog":we("cancel",t),we("close",t),i=r;break;case"iframe":case"object":case"embed":we("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qs.length;i++)we(Qs[i],t);i=r;break;case"source":we("error",t),i=r;break;case"img":case"image":case"link":we("error",t),we("load",t),i=r;break;case"details":we("toggle",t),i=r;break;case"input":tv(t,r),i=uf(t,r),we("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),we("invalid",t);break;case"textarea":rv(t,r),i=ff(t,r),we("invalid",t);break;default:i=r}pf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?sE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fo(t,l):typeof l=="number"&&Fo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&gp(t,s,l,o))}switch(n){case"input":Va(t),nv(t,r,!1);break;case"textarea":Va(t),iv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?zi(t,!!r.multiple,s,!1):r.defaultValue!=null&&zi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)$C(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_(166));if(n=Kr(Qo.current),Kr(wn.current),Ya(e)){if(r=e.stateNode,n=e.memoizedProps,r[gn]=e,(s=r.nodeValue!==n)&&(t=At,t!==null))switch(t.tag){case 3:Xa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gn]=e,e.stateNode=r}return it(e),null;case 13:if(Ce(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Rt!==null&&e.mode&1&&!(e.flags&128))qE(),rs(),e.flags|=98560,s=!1;else if(s=Ya(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(_(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_(317));s[gn]=e}else rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),s=!1}else tn!==null&&(Qf(tn),tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?je===0&&(je=3):Jp())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return ss(),jf(t,e),t===null&&Wo(e.stateNode.containerInfo),it(e),null;case 10:return Pp(e.type._context),it(e),null;case 17:return Tt(e.type)&&eu(),it(e),null;case 19:if(Ce(Ne),s=e.memoizedState,s===null)return it(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Fs(s,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=au(t),o!==null){for(e.flags|=128,Fs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(Ne,Ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ae()>as&&(e.flags|=128,r=!0,Fs(s,!1),e.lanes=4194304)}else{if(!r)if(t=au(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return it(e),null}else 2*Ae()-s.renderingStartTime>as&&n!==1073741824&&(e.flags|=128,r=!0,Fs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ae(),e.sibling=null,n=Ne.current,ve(Ne,r?n&1|2:n&1),e):(it(e),null);case 22:case 23:return Yp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$t&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(_(156,e.tag))}function PO(t,e){switch(Rp(e),e.tag){case 1:return Tt(e.type)&&eu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ss(),Ce(xt),Ce(ft),Up(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bp(e),null;case 13:if(Ce(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_(340));rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Ne),null;case 4:return ss(),null;case 10:return Pp(e.type._context),null;case 22:case 23:return Yp(),null;case 24:return null;default:return null}}var el=!1,at=!1,MO=typeof WeakSet=="function"?WeakSet:Set,L=null;function Mi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(t,e,r)}else n.current=null}function Vf(t,e,n){try{n()}catch(r){De(t,e,r)}}var Kv=!1;function bO(t,e){if(kf=Xl,t=AE(),$p(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nf={focusedElem:t,selectionRange:n},Xl=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,S=w.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?E:Zt(e.type,E),S);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(C){De(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return w=Kv,Kv=!1,w}function fo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vf(e,n,s)}i=i.next}while(i!==r)}}function oc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DC(t){var e=t.alternate;e!==null&&(t.alternate=null,DC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gn],delete e[Ko],delete e[$f],delete e[wO],delete e[EO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RC(t){return t.tag===5||t.tag===3||t.tag===4}function Gv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zl));else if(r!==4&&(t=t.child,t!==null))for(Hf(t,e,n),t=t.sibling;t!==null;)Hf(t,e,n),t=t.sibling}function Wf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wf(t,e,n),t=t.sibling;t!==null;)Wf(t,e,n),t=t.sibling}var Ye=null,en=!1;function er(t,e,n){for(n=n.child;n!==null;)OC(t,e,n),n=n.sibling}function OC(t,e,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Ju,n)}catch{}switch(n.tag){case 5:at||Mi(n,e);case 6:var r=Ye,i=en;Ye=null,er(t,e,n),Ye=r,en=i,Ye!==null&&(en?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(en?(t=Ye,n=n.stateNode,t.nodeType===8?Jc(t.parentNode,n):t.nodeType===1&&Jc(t,n),Vo(t)):Jc(Ye,n.stateNode));break;case 4:r=Ye,i=en,Ye=n.stateNode.containerInfo,en=!0,er(t,e,n),Ye=r,en=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vf(n,e,o),i=i.next}while(i!==r)}er(t,e,n);break;case 1:if(!at&&(Mi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){De(n,e,a)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,er(t,e,n),at=r):er(t,e,n);break;default:er(t,e,n)}}function Qv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MO),e.forEach(function(r){var i=qO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,en=!1;break e;case 3:Ye=a.stateNode.containerInfo,en=!0;break e;case 4:Ye=a.stateNode.containerInfo,en=!0;break e}a=a.return}if(Ye===null)throw Error(_(160));OC(s,o,i),Ye=null,en=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){De(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AC(e,t),e=e.sibling}function AC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(e,t),fn(t),r&4){try{fo(3,t,t.return),oc(3,t)}catch(E){De(t,t.return,E)}try{fo(5,t,t.return)}catch(E){De(t,t.return,E)}}break;case 1:Jt(e,t),fn(t),r&512&&n!==null&&Mi(n,n.return);break;case 5:if(Jt(e,t),fn(t),r&512&&n!==null&&Mi(n,n.return),t.flags&32){var i=t.stateNode;try{Fo(i,"")}catch(E){De(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&eE(i,s),mf(a,o);var u=mf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?sE(i,d):c==="dangerouslySetInnerHTML"?rE(i,d):c==="children"?Fo(i,d):gp(i,c,d,u)}switch(a){case"input":cf(i,s);break;case"textarea":tE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?zi(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?zi(i,!!s.multiple,s.defaultValue,!0):zi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ko]=s}catch(E){De(t,t.return,E)}}break;case 6:if(Jt(e,t),fn(t),r&4){if(t.stateNode===null)throw Error(_(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){De(t,t.return,E)}}break;case 3:if(Jt(e,t),fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(e.containerInfo)}catch(E){De(t,t.return,E)}break;case 4:Jt(e,t),fn(t);break;case 13:Jt(e,t),fn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qp=Ae())),r&4&&Qv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(at=(u=at)||c,Jt(e,t),at=u):Jt(e,t),fn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(d=L=c;L!==null;){switch(f=L,g=f.child,f.tag){case 0:case 11:case 14:case 15:fo(4,f,f.return);break;case 1:Mi(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(E){De(r,n,E)}}break;case 5:Mi(f,f.return);break;case 22:if(f.memoizedState!==null){Yv(d);continue}}g!==null?(g.return=f,L=g):Yv(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iE("display",o))}catch(E){De(t,t.return,E)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){De(t,t.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jt(e,t),fn(t),r&4&&Qv(t);break;case 21:break;default:Jt(e,t),fn(t)}}function fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RC(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fo(i,""),r.flags&=-33);var s=Gv(t);Wf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Gv(t);Hf(t,a,o);break;default:throw Error(_(161))}}catch(l){De(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FO(t,e,n){L=t,LC(t)}function LC(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||el;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||at;a=el;var u=at;if(el=o,(at=l)&&!u)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?Jv(i):l!==null?(l.return=o,L=l):Jv(i);for(;s!==null;)L=s,LC(s),s=s.sibling;L=i,el=a,at=u}Xv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):Xv(t)}}function Xv(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||oc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Av(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Av(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Vo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}at||e.flags&512&&zf(e)}catch(f){De(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Yv(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Jv(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{oc(4,e)}catch(l){De(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){De(e,i,l)}}var s=e.return;try{zf(e)}catch(l){De(e,s,l)}break;case 5:var o=e.return;try{zf(e)}catch(l){De(e,o,l)}}}catch(l){De(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var BO=Math.ceil,cu=Xn.ReactCurrentDispatcher,Kp=Xn.ReactCurrentOwner,Ht=Xn.ReactCurrentBatchConfig,le=0,Ge=null,Me=null,et=0,$t=0,bi=Ar(0),je=0,Zo=null,ai=0,ac=0,Gp=0,ho=null,Ct=null,Qp=0,as=1/0,Nn=null,du=!1,qf=null,wr=null,tl=!1,ur=null,fu=0,po=0,Kf=null,wl=-1,El=0;function vt(){return le&6?Ae():wl!==-1?wl:wl=Ae()}function Er(t){return t.mode&1?le&2&&et!==0?et&-et:SO.transition!==null?(El===0&&(El=vE()),El):(t=fe,t!==0||(t=window.event,t=t===void 0?16:TE(t.type)),t):1}function ln(t,e,n,r){if(50<po)throw po=0,Kf=null,Error(_(185));ka(t,n,r),(!(le&2)||t!==Ge)&&(t===Ge&&(!(le&2)&&(ac|=n),je===4&&or(t,et)),kt(t,r),n===1&&le===0&&!(e.mode&1)&&(as=Ae()+500,rc&&Lr()))}function kt(t,e){var n=t.callbackNode;SR(t,e);var r=Ql(t,t===Ge?et:0);if(r===0)n!==null&&av(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&av(n),e===1)t.tag===0?CO(Zv.bind(null,t)):zE(Zv.bind(null,t)),vO(function(){!(le&6)&&Lr()}),n=null;else{switch(yE(r)){case 1:n=Cp;break;case 4:n=mE;break;case 16:n=Gl;break;case 536870912:n=gE;break;default:n=Gl}n=VC(n,PC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PC(t,e){if(wl=-1,El=0,le&6)throw Error(_(327));var n=t.callbackNode;if(Gi()&&t.callbackNode!==n)return null;var r=Ql(t,t===Ge?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hu(t,r);else{e=r;var i=le;le|=2;var s=bC();(Ge!==t||et!==e)&&(Nn=null,as=Ae()+500,Yr(t,e));do try{VO();break}catch(a){MC(t,a)}while(1);Lp(),cu.current=s,le=i,Me!==null?e=0:(Ge=null,et=0,e=je)}if(e!==0){if(e===2&&(i=Ef(t),i!==0&&(r=i,e=Gf(t,i))),e===1)throw n=Zo,Yr(t,0),or(t,r),kt(t,Ae()),n;if(e===6)or(t,r);else{if(i=t.current.alternate,!(r&30)&&!UO(i)&&(e=hu(t,r),e===2&&(s=Ef(t),s!==0&&(r=s,e=Gf(t,s))),e===1))throw n=Zo,Yr(t,0),or(t,r),kt(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(_(345));case 2:jr(t,Ct,Nn);break;case 3:if(or(t,r),(r&130023424)===r&&(e=Qp+500-Ae(),10<e)){if(Ql(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_f(jr.bind(null,t,Ct,Nn),e);break}jr(t,Ct,Nn);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-an(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BO(r/1960))-r,10<r){t.timeoutHandle=_f(jr.bind(null,t,Ct,Nn),r);break}jr(t,Ct,Nn);break;case 5:jr(t,Ct,Nn);break;default:throw Error(_(329))}}}return kt(t,Ae()),t.callbackNode===n?PC.bind(null,t):null}function Gf(t,e){var n=ho;return t.current.memoizedState.isDehydrated&&(Yr(t,e).flags|=256),t=hu(t,e),t!==2&&(e=Ct,Ct=n,e!==null&&Qf(e)),t}function Qf(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function UO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!cn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~Gp,e&=~ac,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-an(e),r=1<<n;t[n]=-1,e&=~r}}function Zv(t){if(le&6)throw Error(_(327));Gi();var e=Ql(t,0);if(!(e&1))return kt(t,Ae()),null;var n=hu(t,e);if(t.tag!==0&&n===2){var r=Ef(t);r!==0&&(e=r,n=Gf(t,r))}if(n===1)throw n=Zo,Yr(t,0),or(t,e),kt(t,Ae()),n;if(n===6)throw Error(_(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jr(t,Ct,Nn),kt(t,Ae()),null}function Xp(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(as=Ae()+500,rc&&Lr())}}function li(t){ur!==null&&ur.tag===0&&!(le&6)&&Gi();var e=le;le|=1;var n=Ht.transition,r=fe;try{if(Ht.transition=null,fe=1,t)return t()}finally{fe=r,Ht.transition=n,le=e,!(le&6)&&Lr()}}function Yp(){$t=bi.current,Ce(bi)}function Yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gO(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Rp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eu();break;case 3:ss(),Ce(xt),Ce(ft),Up();break;case 5:Bp(r);break;case 4:ss();break;case 13:Ce(Ne);break;case 19:Ce(Ne);break;case 10:Pp(r.type._context);break;case 22:case 23:Yp()}n=n.return}if(Ge=t,Me=t=Cr(t.current,null),et=$t=e,je=0,Zo=null,Gp=ac=ai=0,Ct=ho=null,qr!==null){for(e=0;e<qr.length;e++)if(n=qr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qr=null}return t}function MC(t,e){do{var n=Me;try{if(Lp(),gl.current=uu,lu){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lu=!1}if(oi=0,qe=Fe=Ie=null,co=!1,Xo=0,Kp.current=null,n===null||n.return===null){je=1,Zo=e,Me=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Uv(o);if(g!==null){g.flags&=-257,jv(g,o,a,s,e),g.mode&1&&Bv(s,u,e),e=g,l=u;var w=e.updateQueue;if(w===null){var E=new Set;E.add(l),e.updateQueue=E}else w.add(l);break e}else{if(!(e&1)){Bv(s,u,e),Jp();break e}l=Error(_(426))}}else if(Te&&a.mode&1){var S=Uv(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),jv(S,o,a,s,e),Op(os(l,a));break e}}s=l=os(l,a),je!==4&&(je=2),ho===null?ho=[s]:ho.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=wC(s,l,e);Ov(s,m);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wr===null||!wr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=EC(s,a,e);Ov(s,C);break e}}s=s.return}while(s!==null)}BC(n)}catch(x){e=x,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(1)}function bC(){var t=cu.current;return cu.current=uu,t===null?uu:t}function Jp(){(je===0||je===3||je===2)&&(je=4),Ge===null||!(ai&268435455)&&!(ac&268435455)||or(Ge,et)}function hu(t,e){var n=le;le|=2;var r=bC();(Ge!==t||et!==e)&&(Nn=null,Yr(t,e));do try{jO();break}catch(i){MC(t,i)}while(1);if(Lp(),le=n,cu.current=r,Me!==null)throw Error(_(261));return Ge=null,et=0,je}function jO(){for(;Me!==null;)FC(Me)}function VO(){for(;Me!==null&&!hR();)FC(Me)}function FC(t){var e=jC(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?BC(t):Me=e,Kp.current=null}function BC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PO(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,Me=null;return}}else if(n=LO(n,e,$t),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);je===0&&(je=5)}function jr(t,e,n){var r=fe,i=Ht.transition;try{Ht.transition=null,fe=1,zO(t,e,n,r)}finally{Ht.transition=i,fe=r}return null}function zO(t,e,n,r){do Gi();while(ur!==null);if(le&6)throw Error(_(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(xR(t,s),t===Ge&&(Me=Ge=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tl||(tl=!0,VC(Gl,function(){return Gi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ht.transition,Ht.transition=null;var o=fe;fe=1;var a=le;le|=4,Kp.current=null,bO(t,n),AC(n,t),uO(Nf),Xl=!!kf,Nf=kf=null,t.current=n,FO(n),pR(),le=a,fe=o,Ht.transition=s}else t.current=n;if(tl&&(tl=!1,ur=t,fu=i),s=t.pendingLanes,s===0&&(wr=null),vR(n.stateNode),kt(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(du)throw du=!1,t=qf,qf=null,t;return fu&1&&t.tag!==0&&Gi(),s=t.pendingLanes,s&1?t===Kf?po++:(po=0,Kf=t):po=0,Lr(),null}function Gi(){if(ur!==null){var t=yE(fu),e=Ht.transition,n=fe;try{if(Ht.transition=null,fe=16>t?16:t,ur===null)var r=!1;else{if(t=ur,ur=null,fu=0,le&6)throw Error(_(331));var i=le;for(le|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:fo(8,c,s)}var d=c.child;if(d!==null)d.return=c,L=d;else for(;L!==null;){c=L;var f=c.sibling,g=c.return;if(DC(c),c===u){L=null;break}if(f!==null){f.return=g,L=f;break}L=g}}}var w=s.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,L=m;break e}L=s.return}}var p=t.current;for(L=p;L!==null;){o=L;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,L=y;else e:for(o=p;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:oc(9,a)}}catch(x){De(a,a.return,x)}if(a===o){L=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,L=C;break e}L=a.return}}if(le=i,Lr(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Ju,t)}catch{}r=!0}return r}finally{fe=n,Ht.transition=e}}return!1}function ey(t,e,n){e=os(n,e),e=wC(t,e,1),t=yr(t,e,1),e=vt(),t!==null&&(ka(t,1,e),kt(t,e))}function De(t,e,n){if(t.tag===3)ey(t,t,n);else for(;e!==null;){if(e.tag===3){ey(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wr===null||!wr.has(r))){t=os(n,t),t=EC(e,t,1),e=yr(e,t,1),t=vt(),e!==null&&(ka(e,1,t),kt(e,t));break}}e=e.return}}function HO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(et&n)===n&&(je===4||je===3&&(et&130023424)===et&&500>Ae()-Qp?Yr(t,0):Gp|=n),kt(t,e)}function UC(t,e){e===0&&(t.mode&1?(e=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):e=1);var n=vt();t=qn(t,e),t!==null&&(ka(t,e,n),kt(t,n))}function WO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),UC(t,n)}function qO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(e),UC(t,n)}var jC;jC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)St=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return St=!1,AO(t,e,n);St=!!(t.flags&131072)}else St=!1,Te&&e.flags&1048576&&HE(e,ru,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yl(t,e),t=e.pendingProps;var i=ns(e,ft.current);Ki(e,n),i=Vp(null,e,r,t,i,n);var s=zp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tt(r)?(s=!0,tu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bp(e),i.updater=ic,e.stateNode=i,i._reactInternals=e,Pf(e,r,t,n),e=Ff(null,e,r,!0,s,n)):(e.tag=0,Te&&s&&Dp(e),ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GO(r),t=Zt(r,t),i){case 0:e=bf(null,e,r,t,n);break e;case 1:e=Hv(null,e,r,t,n);break e;case 11:e=Vv(null,e,r,t,n);break e;case 14:e=zv(null,e,r,Zt(r.type,t),n);break e}throw Error(_(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zt(r,i),bf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zt(r,i),Hv(t,e,r,i,n);case 3:e:{if(TC(e),t===null)throw Error(_(387));r=e.pendingProps,s=e.memoizedState,i=s.element,GE(t,e),ou(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=os(Error(_(423)),e),e=Wv(t,e,r,n,i);break e}else if(r!==i){i=os(Error(_(424)),e),e=Wv(t,e,r,n,i);break e}else for(Rt=vr(e.stateNode.containerInfo.firstChild),At=e,Te=!0,tn=null,n=JE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rs(),r===i){e=Kn(t,e,n);break e}ht(t,e,r,n)}e=e.child}return e;case 5:return ZE(e),t===null&&Of(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,If(r,i)?o=null:s!==null&&If(r,s)&&(e.flags|=32),xC(t,e),ht(t,e,o,n),e.child;case 6:return t===null&&Of(e),null;case 13:return kC(t,e,n);case 4:return Fp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=is(e,null,r,n):ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zt(r,i),Vv(t,e,r,i,n);case 7:return ht(t,e,e.pendingProps,n),e.child;case 8:return ht(t,e,e.pendingProps.children,n),e.child;case 12:return ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ve(iu,r._currentValue),r._currentValue=o,s!==null)if(cn(s.value,o)){if(s.children===i.children&&!xt.current){e=Kn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Af(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(_(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Af(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ki(e,n),i=Wt(i),r=r(i),e.flags|=1,ht(t,e,r,n),e.child;case 14:return r=e.type,i=Zt(r,e.pendingProps),i=Zt(r.type,i),zv(t,e,r,i,n);case 15:return CC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zt(r,i),yl(t,e),e.tag=1,Tt(r)?(t=!0,tu(e)):t=!1,Ki(e,n),XE(e,r,i),Pf(e,r,i,n),Ff(null,e,r,!0,t,n);case 19:return NC(t,e,n);case 22:return SC(t,e,n)}throw Error(_(156,e.tag))};function VC(t,e){return pE(t,e)}function KO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,e,n,r){return new KO(t,e,n,r)}function Zp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GO(t){if(typeof t=="function")return Zp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yp)return 11;if(t===wp)return 14}return 2}function Cr(t,e){var n=t.alternate;return n===null?(n=zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Zp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ii:return Jr(n.children,i,s,e);case vp:o=8,i|=8;break;case sf:return t=zt(12,n,e,i|2),t.elementType=sf,t.lanes=s,t;case of:return t=zt(13,n,e,i),t.elementType=of,t.lanes=s,t;case af:return t=zt(19,n,e,i),t.elementType=af,t.lanes=s,t;case Y1:return lc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q1:o=10;break e;case X1:o=9;break e;case yp:o=11;break e;case wp:o=14;break e;case nr:o=16,r=null;break e}throw Error(_(130,t==null?t:typeof t,""))}return e=zt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Jr(t,e,n,r){return t=zt(7,t,r,e),t.lanes=n,t}function lc(t,e,n,r){return t=zt(22,t,r,e),t.elementType=Y1,t.lanes=n,t.stateNode={isHidden:!1},t}function od(t,e,n){return t=zt(6,t,null,e),t.lanes=n,t}function ad(t,e,n){return e=zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jc(0),this.expirationTimes=jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function em(t,e,n,r,i,s,o,a,l){return t=new QO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(s),t}function XO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ni,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zC(t){if(!t)return Ir;t=t._reactInternals;e:{if(gi(t)!==t||t.tag!==1)throw Error(_(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_(171))}if(t.tag===1){var n=t.type;if(Tt(n))return VE(t,n,e)}return e}function HC(t,e,n,r,i,s,o,a,l){return t=em(n,r,!0,t,i,s,o,a,l),t.context=zC(null),n=t.current,r=vt(),i=Er(n),s=bn(r,i),s.callback=e??null,yr(n,s,i),t.current.lanes=i,ka(t,i,r),kt(t,r),t}function uc(t,e,n,r){var i=e.current,s=vt(),o=Er(i);return n=zC(n),e.context===null?e.context=n:e.pendingContext=n,e=bn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yr(i,e,o),t!==null&&(ln(t,i,o,s),ml(t,i,o)),o}function pu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ty(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tm(t,e){ty(t,e),(t=t.alternate)&&ty(t,e)}function YO(){return null}var WC=typeof reportError=="function"?reportError:function(t){console.error(t)};function nm(t){this._internalRoot=t}cc.prototype.render=nm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_(409));uc(t,e,null,null)};cc.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){uc(null,t,null,null)}),e[Wn]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var e=CE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&xE(t)}};function rm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ny(){}function JO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=pu(o);s.call(u)}}var o=HC(e,r,t,0,null,!1,!1,"",ny);return t._reactRootContainer=o,t[Wn]=o.current,Wo(t.nodeType===8?t.parentNode:t),li(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=pu(l);a.call(u)}}var l=em(t,0,!1,null,null,!1,!1,"",ny);return t._reactRootContainer=l,t[Wn]=l.current,Wo(t.nodeType===8?t.parentNode:t),li(function(){uc(e,l,n,r)}),l}function fc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=pu(o);a.call(l)}}uc(e,o,t,i)}else o=JO(n,e,t,i,r);return pu(o)}wE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gs(e.pendingLanes);n!==0&&(Sp(e,n|1),kt(e,Ae()),!(le&6)&&(as=Ae()+500,Lr()))}break;case 13:li(function(){var r=qn(t,1);if(r!==null){var i=vt();ln(r,t,1,i)}}),tm(t,1)}};xp=function(t){if(t.tag===13){var e=qn(t,134217728);if(e!==null){var n=vt();ln(e,t,134217728,n)}tm(t,134217728)}};EE=function(t){if(t.tag===13){var e=Er(t),n=qn(t,e);if(n!==null){var r=vt();ln(n,t,e,r)}tm(t,e)}};CE=function(){return fe};SE=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};vf=function(t,e,n){switch(e){case"input":if(cf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nc(r);if(!i)throw Error(_(90));Z1(r),cf(r,i)}}}break;case"textarea":tE(t,n);break;case"select":e=n.value,e!=null&&zi(t,!!n.multiple,e,!1)}};lE=Xp;uE=li;var ZO={usingClientEntryPoint:!1,Events:[Ia,Ri,nc,oE,aE,Xp]},Bs={findFiberByHostInstance:Wr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eA={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fE(t),t===null?null:t.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||YO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Ju=nl.inject(eA),yn=nl}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZO;Mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rm(e))throw Error(_(200));return XO(t,e,null,n)};Mt.createRoot=function(t,e){if(!rm(t))throw Error(_(299));var n=!1,r="",i=WC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=em(t,1,!1,null,null,n,!1,r,i),t[Wn]=e.current,Wo(t.nodeType===8?t.parentNode:t),new nm(e)};Mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_(188)):(t=Object.keys(t).join(","),Error(_(268,t)));return t=fE(e),t=t===null?null:t.stateNode,t};Mt.flushSync=function(t){return li(t)};Mt.hydrate=function(t,e,n){if(!dc(e))throw Error(_(200));return fc(null,t,e,!0,n)};Mt.hydrateRoot=function(t,e,n){if(!rm(t))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=WC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HC(e,null,t,1,n??null,i,!1,s,o),t[Wn]=e.current,Wo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cc(e)};Mt.render=function(t,e,n){if(!dc(e))throw Error(_(200));return fc(null,t,e,!1,n)};Mt.unmountComponentAtNode=function(t){if(!dc(t))throw Error(_(40));return t._reactRootContainer?(li(function(){fc(null,null,t,!1,function(){t._reactRootContainer=null,t[Wn]=null})}),!0):!1};Mt.unstable_batchedUpdates=Xp;Mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dc(n))throw Error(_(200));if(t==null||t._reactInternals===void 0)throw Error(_(38));return fc(t,e,n,!1,r)};Mt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Mt})(YD);const Fi=_y(Hl),ry={disabled:!1},qC=Ue.createContext(null);var tA=function(e){return e.scrollTop},Xs="unmounted",ir="exited",nn="entering",Dn="entered",ea="exiting",Yn=function(t){fD(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ir,s.appearStatus=nn):l=Dn:r.unmountOnExit||r.mountOnEnter?l=Xs:l=ir,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Xs?{status:ir}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==nn&&o!==Dn&&(s=nn):(o===nn||o===Dn)&&(s=ea)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===nn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Fi.findDOMNode(this);o&&tA(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ir&&this.setState({status:Xs})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Fi.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||ry.disabled){this.safeSetState({status:Dn},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:nn},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:Dn},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Fi.findDOMNode(this);if(!s||ry.disabled){this.safeSetState({status:ir},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ea},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ir},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Fi.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Xs)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=_1(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ue.createElement(qC.Provider,{value:null},typeof o=="function"?o(i,a):Ue.cloneElement(Ue.Children.only(o),a))},e}(Ue.Component);Yn.contextType=qC;Yn.propTypes={};function Ei(){}Yn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ei,onEntering:Ei,onEntered:Ei,onExit:Ei,onExiting:Ei,onExited:Ei};Yn.UNMOUNTED=Xs;Yn.EXITED=ir;Yn.ENTERING=nn;Yn.ENTERED=Dn;Yn.EXITING=ea;const ks=!!(typeof window<"u"&&window.document&&window.document.createElement);var Xf=!1,Yf=!1;try{var ld={get passive(){return Xf=!0},get once(){return Yf=Xf=!0}};ks&&(window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,!0))}catch{}function im(t,e,n,r){if(r&&typeof r!="boolean"&&!Yf){var i=r.once,s=r.capture,o=n;!Yf&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,Xf?r:s)}t.addEventListener(e,n,r)}function Jf(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function cr(t,e,n,r){return im(t,e,n,r),function(){Jf(t,e,n,r)}}function nA(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function rA(t){var e=Mn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function iA(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||nA(t,"transitionend",!0)},e+n),s=cr(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function KC(t,e,n,r){n==null&&(n=rA(t)||0);var i=iA(t,n,r),s=cr(t,"transitionend",e);return function(){i(),s()}}function iy(t,e){const n=Mn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function hc(t,e){const n=iy(t,"transitionDuration"),r=iy(t,"transitionDelay"),i=KC(t,s=>{s.target===t&&(i(),e(s))},n+r)}function Us(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function sm(t){t.offsetHeight}function sA(t){return t&&"setState"in t?Fi.findDOMNode(t):t??null}const oA=Ue.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...u},c)=>{const d=h.useRef(null),f=xa(d,l),g=k=>{f(sA(k))},w=k=>N=>{k&&d.current&&k(d.current,N)},E=h.useCallback(w(t),[t]),S=h.useCallback(w(e),[e]),m=h.useCallback(w(n),[n]),p=h.useCallback(w(r),[r]),y=h.useCallback(w(i),[i]),C=h.useCallback(w(s),[s]),x=h.useCallback(w(o),[o]);return v(Yn,{ref:c,...u,onEnter:E,onEntered:m,onEntering:S,onExit:p,onExited:C,onExiting:y,addEndListener:x,nodeRef:d,children:typeof a=="function"?(k,N)=>a(k,{...N,ref:g}):Ue.cloneElement(a,{ref:g})})}),pc=oA,aA={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function GC(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=aA[t];return r+parseInt(Mn(e,i[0]),10)+parseInt(Mn(e,i[1]),10)}const lA={[ir]:"collapse",[ea]:"collapsing",[nn]:"collapsing",[Dn]:"collapse show"},uA={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:GC},QC=Ue.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",getDimensionValue:l=GC,...u},c)=>{const d=typeof a=="function"?a():a,f=h.useMemo(()=>Us(m=>{m.style[d]="0"},t),[d,t]),g=h.useMemo(()=>Us(m=>{const p=`scroll${d[0].toUpperCase()}${d.slice(1)}`;m.style[d]=`${m[p]}px`},e),[d,e]),w=h.useMemo(()=>Us(m=>{m.style[d]=null},n),[d,n]),E=h.useMemo(()=>Us(m=>{m.style[d]=`${l(d,m)}px`,sm(m)},r),[r,l,d]),S=h.useMemo(()=>Us(m=>{m.style[d]=null},i),[d,i]);return v(pc,{ref:c,addEndListener:hc,...u,"aria-expanded":u.role?u.in:null,onEnter:f,onEntering:g,onEntered:w,onExit:E,onExiting:S,childRef:o.ref,children:(m,p)=>Ue.cloneElement(o,{...p,className:z(s,o.props.className,lA[m],d==="width"&&"collapse-horizontal")})})});QC.defaultProps=uA;const cA=QC,XC=h.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ee(e,"navbar-collapse");const i=h.useContext(pi);return v(cA,{in:!!(i&&i.expanded),...n,children:v("div",{ref:r,className:e,children:t})})});XC.displayName="NavbarCollapse";const dA=XC,fA={label:"Toggle navigation"},om=h.forwardRef(({bsPrefix:t,className:e,children:n,label:r,as:i="button",onClick:s,...o},a)=>{t=ee(t,"navbar-toggler");const{onToggle:l,expanded:u}=h.useContext(pi)||{},c=Re(d=>{s&&s(d),l&&l()});return i==="button"&&(o.type="button"),v(i,{...o,ref:a,onClick:c,"aria-label":r,className:z(e,t,!u&&"collapsed"),children:n||v("span",{className:`${t}-icon`})})});om.displayName="NavbarToggle";om.defaultProps=fA;const hA=om;var Zf=new WeakMap,sy=function(e,n){if(!(!e||!n)){var r=Zf.get(n)||new Map;Zf.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function pA(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=sy(t,e),r=h.useState(function(){return n?n.matches:!1}),i=r[0],s=r[1];return j1(function(){var o=sy(t,e);if(!o)return s(!1);var a=Zf.get(e),l=function(){s(o.matches)};return o.refCount++,o.addListener(l),l(),function(){o.removeListener(l),o.refCount--,o.refCount<=0&&(a==null||a.delete(o.media)),o=void 0}},[t]),i}function mA(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),u=t[l];return typeof u=="number"?u=u-.2+"px":u="calc("+u+" - 0.2px)","(max-width: "+u+")"}function s(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function o(a,l,u){var c;if(typeof a=="object")c=a,u=l,l=!0;else{var d;l=l||!0,c=(d={},d[a]=l,d)}var f=h.useMemo(function(){return Object.entries(c).reduce(function(g,w){var E=w[0],S=w[1];return(S==="up"||S===!0)&&(g=n(g,s(E))),(S==="down"||S===!0)&&(g=n(g,i(E))),g},"")},[JSON.stringify(c)]);return pA(f,u)}return o}var gA=mA({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function ud(t){t===void 0&&(t=Ta());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function mu(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function vA(t){var e=h.useRef(t);return e.current=t,e}function am(t){var e=vA(t);h.useEffect(function(){return function(){return e.current()}},[])}function yA(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const oy=Ss("modal-open");class lm{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return yA(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Mn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(oy,""),Mn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(oy),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const YC=h.createContext(ks?window:void 0);YC.Provider;function um(){return h.useContext(YC)}const cd=(t,e)=>ks?t==null?(e||Ta()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function wA(t,e){const n=um(),[r,i]=h.useState(()=>cd(t,n==null?void 0:n.document));if(!r){const s=cd(t);s&&i(s)}return h.useEffect(()=>{e&&r&&e(r)},[e,r]),h.useEffect(()=>{const s=cd(t);s!==r&&i(s)},[t,r]),r}const EA=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function CA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let dd;function SA(t){return dd||(dd=new lm({ownerDocument:t==null?void 0:t.document})),dd}function xA(t){const e=um(),n=t||SA(e),r=h.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:h.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:h.useCallback(i=>{r.current.backdrop=i},[])})}const JC=h.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:d,backdropTransition:f,autoFocus:g=!0,enforceFocus:w=!0,restoreFocus:E=!0,restoreFocusOptions:S,renderDialog:m,renderBackdrop:p=ae=>v("div",Object.assign({},ae)),manager:y,container:C,onShow:x,onHide:k=()=>{},onExit:N,onExited:T,onExiting:A,onEnter:R,onEntering:F,onEntered:V}=t,H=CA(t,EA);const ie=wA(C),J=xA(y),te=dp(),ue=U1(n),[D,P]=h.useState(!n),O=h.useRef(null);h.useImperativeHandle(e,()=>J,[J]),ks&&!ue&&n&&(O.current=ud()),!d&&!n&&!D?P(!0):n&&D&&P(!1);const Z=Re(()=>{if(J.add(),ke.current=cr(document,"keydown",K),pe.current=cr(document,"focus",()=>setTimeout(he),!0),x&&x(),g){const ae=ud(document);J.dialog&&ae&&!mu(J.dialog,ae)&&(O.current=ae,J.dialog.focus())}}),Y=Re(()=>{if(J.remove(),ke.current==null||ke.current(),pe.current==null||pe.current(),E){var ae;(ae=O.current)==null||ae.focus==null||ae.focus(S),O.current=null}});h.useEffect(()=>{!n||!ie||Z()},[n,ie,Z]),h.useEffect(()=>{D&&Y()},[D,Y]),am(()=>{Y()});const he=Re(()=>{if(!w||!te()||!J.isTopModal())return;const ae=ud();J.dialog&&ae&&!mu(J.dialog,ae)&&J.dialog.focus()}),Se=Re(ae=>{ae.target===ae.currentTarget&&(u==null||u(ae),a===!0&&k())}),K=Re(ae=>{l&&ae.keyCode===27&&J.isTopModal()&&(c==null||c(ae),ae.defaultPrevented||k())}),pe=h.useRef(),ke=h.useRef(),Et=(...ae)=>{P(!0),T==null||T(...ae)},_t=d;if(!ie||!(n||_t&&!D))return null;const He=Object.assign({role:r,ref:J.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},H,{style:s,className:i,tabIndex:-1});let $e=m?m(He):v("div",Object.assign({},He,{children:h.cloneElement(o,{role:"document"})}));_t&&($e=v(_t,{appear:!0,unmountOnExit:!0,in:!!n,onExit:N,onExiting:A,onExited:Et,onEnter:R,onEntering:F,onEntered:V,children:$e}));let Ft=null;if(a){const ae=f;Ft=p({ref:J.setBackdropRef,onClick:Se}),ae&&(Ft=v(ae,{appear:!0,in:!!n,children:Ft}))}return v(un,{children:Fi.createPortal(M(un,{children:[Ft,$e]}),ie)})});JC.displayName="Modal";const ZC=Object.assign(JC,{Manager:lm}),TA={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},kA={[nn]:"show",[Dn]:"show"},cm=h.forwardRef(({className:t,children:e,transitionClasses:n={},...r},i)=>{const s=h.useCallback((o,a)=>{sm(o),r.onEnter==null||r.onEnter(o,a)},[r]);return v(pc,{ref:i,addEndListener:hc,...r,onEnter:s,childRef:e.ref,children:(o,a)=>h.cloneElement(e,{...a,className:z("fade",t,e.props.className,kA[o],n[o])})})});cm.defaultProps=TA;cm.displayName="Fade";const dm=cm,NA=ze("offcanvas-body"),IA={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},_A={[nn]:"show",[Dn]:"show"},fm=h.forwardRef(({bsPrefix:t,className:e,children:n,...r},i)=>(t=ee(t,"offcanvas"),v(pc,{ref:i,addEndListener:hc,...r,childRef:n.ref,children:(s,o)=>h.cloneElement(n,{...o,className:z(e,n.props.className,(s===nn||s===ea)&&`${t}-toggling`,_A[s])})})));fm.defaultProps=IA;fm.displayName="OffcanvasToggling";const $A=fm,DA=h.createContext({onHide(){}}),hm=DA,RA={"aria-label":on.string,onClick:on.func,variant:on.oneOf(["white"])},OA={"aria-label":"Close"},mc=h.forwardRef(({className:t,variant:e,...n},r)=>v("button",{ref:r,type:"button",className:z("btn-close",e&&`btn-close-${e}`,t),...n}));mc.displayName="CloseButton";mc.propTypes=RA;mc.defaultProps=OA;const AA=mc,LA={closeLabel:"Close",closeButton:!1},eS=h.forwardRef(({closeLabel:t,closeVariant:e,closeButton:n,onHide:r,children:i,...s},o)=>{const a=h.useContext(hm),l=Re(()=>{a==null||a.onHide(),r==null||r()});return M("div",{ref:o,...s,children:[i,n&&v(AA,{"aria-label":t,variant:e,onClick:l})]})});eS.defaultProps=LA;const tS=eS,PA={closeLabel:"Close",closeButton:!1},pm=h.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=ee(t,"offcanvas-header"),v(tS,{ref:r,...n,className:z(e,t)})));pm.displayName="OffcanvasHeader";pm.defaultProps=PA;const MA=pm,gc=t=>h.forwardRef((e,n)=>v("div",{...e,ref:n,className:z(e.className,t)})),bA=gc("h5"),FA=ze("offcanvas-title",{Component:bA});function BA(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function UA(t,e){t.classList?t.classList.add(e):BA(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ay(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function jA(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ay(t.className,e):t.setAttribute("class",ay(t.className&&t.className.baseVal||"",e))}const Ci={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class nS extends lm{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Mn(n,{[e]:`${parseFloat(Mn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Mn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(UA(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";_n(n,Ci.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),_n(n,Ci.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),_n(n,Ci.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();jA(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";_n(n,Ci.FIXED_CONTENT).forEach(s=>this.restore(r,s)),_n(n,Ci.STICKY_CONTENT).forEach(s=>this.restore(i,s)),_n(n,Ci.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let fd;function rS(t){return fd||(fd=new nS(t)),fd}const VA=nS,zA={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function HA(t){return v($A,{...t})}function WA(t){return v(dm,{...t})}const mm=h.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i,responsive:s,show:o,backdrop:a,keyboard:l,scroll:u,onEscapeKeyDown:c,onShow:d,onHide:f,container:g,autoFocus:w,enforceFocus:E,restoreFocus:S,restoreFocusOptions:m,onEntered:p,onExit:y,onExiting:C,onEnter:x,onEntering:k,onExited:N,backdropClassName:T,manager:A,renderStaticNode:R,...F},V)=>{const H=h.useRef();t=ee(t,"offcanvas");const{onToggle:ie}=h.useContext(pi)||{},[J,te]=h.useState(!1),ue=gA(s||"xs","up");h.useEffect(()=>{te(s?o&&!ue:o)},[o,s,ue]);const D=Re(()=>{ie==null||ie(),f==null||f()}),P=h.useMemo(()=>({onHide:D}),[D]);function O(){return A||(u?(H.current||(H.current=new VA({handleContainerOverflow:!1})),H.current):rS())}const Z=(K,...pe)=>{K&&(K.style.visibility="visible"),x==null||x(K,...pe)},Y=(K,...pe)=>{K&&(K.style.visibility=""),N==null||N(...pe)},he=h.useCallback(K=>v("div",{...K,className:z(`${t}-backdrop`,T)}),[T,t]),Se=K=>v("div",{...K,...F,className:z(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return M(un,{children:[!J&&(s||R)&&Se({}),v(hm.Provider,{value:P,children:v(ZC,{show:J,ref:V,backdrop:a,container:g,keyboard:l,autoFocus:w,enforceFocus:E&&!u,restoreFocus:S,restoreFocusOptions:m,onEscapeKeyDown:c,onShow:d,onHide:D,onEnter:Z,onEntering:k,onEntered:p,onExit:y,onExiting:C,onExited:Y,manager:O(),transition:HA,backdropTransition:WA,renderBackdrop:he,renderDialog:Se})})]})});mm.displayName="Offcanvas";mm.defaultProps=zA;const qA=Object.assign(mm,{Body:NA,Header:MA,Title:FA}),iS=h.forwardRef((t,e)=>{const n=h.useContext(pi);return v(qA,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});iS.displayName="NavbarOffcanvas";const KA=iS,GA=ze("navbar-text",{Component:"span"}),QA={expand:!0,variant:"light",collapseOnSelect:!1},gm=h.forwardRef((t,e)=>{const{bsPrefix:n,expand:r,variant:i,bg:s,fixed:o,sticky:a,className:l,as:u="nav",expanded:c,onToggle:d,onSelect:f,collapseOnSelect:g,...w}=Xu(t,{expanded:"onToggle"}),E=ee(n,"navbar"),S=h.useCallback((...y)=>{f==null||f(...y),g&&c&&(d==null||d(!1))},[f,g,c,d]);w.role===void 0&&u!=="nav"&&(w.role="navigation");let m=`${E}-expand`;typeof r=="string"&&(m=`${m}-${r}`);const p=h.useMemo(()=>({onToggle:()=>d==null?void 0:d(!c),bsPrefix:E,expanded:!!c,expand:r}),[E,c,r,d]);return v(pi.Provider,{value:p,children:v(ri.Provider,{value:S,children:v(u,{ref:e,...w,className:z(l,E,r&&m,i&&`${E}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});gm.defaultProps=QA;gm.displayName="Navbar";const Bi=Object.assign(gm,{Brand:FD,Collapse:dA,Offcanvas:KA,Text:GA,Toggle:hA}),vc=h.createContext(null);var ly=Object.prototype.hasOwnProperty;function uy(t,e,n){for(n of t.keys())if(mo(n,e))return n}function mo(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&mo(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=uy(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=uy(e,i),!i)||!mo(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(ly.call(t,n)&&++r&&!ly.call(e,n)||!(n in e)||!mo(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function XA(t){var e=dp();return[t[0],h.useCallback(function(n){if(e())return t[1](n)},[e,t[1]])]}var Nt="top",Kt="bottom",Gt="right",It="left",vm="auto",$a=[Nt,Kt,Gt,It],ls="start",ta="end",YA="clippingParents",sS="viewport",js="popper",JA="reference",cy=$a.reduce(function(t,e){return t.concat([e+"-"+ls,e+"-"+ta])},[]),oS=[].concat($a,[vm]).reduce(function(t,e){return t.concat([e,e+"-"+ls,e+"-"+ta])},[]),ZA="beforeRead",eL="read",tL="afterRead",nL="beforeMain",rL="main",iL="afterMain",sL="beforeWrite",oL="write",aL="afterWrite",lL=[ZA,eL,tL,nL,rL,iL,sL,oL,aL];function En(t){return t.split("-")[0]}function Qt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ui(t){var e=Qt(t).Element;return t instanceof e||t instanceof Element}function Cn(t){var e=Qt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ym(t){if(typeof ShadowRoot>"u")return!1;var e=Qt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Zr=Math.max,gu=Math.min,us=Math.round;function eh(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function aS(){return!/^((?!chrome|android).)*safari/i.test(eh())}function cs(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Cn(t)&&(i=t.offsetWidth>0&&us(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&us(r.height)/t.offsetHeight||1);var o=ui(t)?Qt(t):window,a=o.visualViewport,l=!aS()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function wm(t){var e=cs(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function lS(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ym(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _r(t){return t?(t.nodeName||"").toLowerCase():null}function Gn(t){return Qt(t).getComputedStyle(t)}function uL(t){return["table","td","th"].indexOf(_r(t))>=0}function Pr(t){return((ui(t)?t.ownerDocument:t.document)||window.document).documentElement}function yc(t){return _r(t)==="html"?t:t.assignedSlot||t.parentNode||(ym(t)?t.host:null)||Pr(t)}function dy(t){return!Cn(t)||Gn(t).position==="fixed"?null:t.offsetParent}function cL(t){var e=/firefox/i.test(eh()),n=/Trident/i.test(eh());if(n&&Cn(t)){var r=Gn(t);if(r.position==="fixed")return null}var i=yc(t);for(ym(i)&&(i=i.host);Cn(i)&&["html","body"].indexOf(_r(i))<0;){var s=Gn(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Da(t){for(var e=Qt(t),n=dy(t);n&&uL(n)&&Gn(n).position==="static";)n=dy(n);return n&&(_r(n)==="html"||_r(n)==="body"&&Gn(n).position==="static")?e:n||cL(t)||e}function Em(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function go(t,e,n){return Zr(t,gu(e,n))}function dL(t,e,n){var r=go(t,e,n);return r>n?n:r}function uS(){return{top:0,right:0,bottom:0,left:0}}function cS(t){return Object.assign({},uS(),t)}function dS(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var fL=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,cS(typeof e!="number"?e:dS(e,$a))};function hL(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=En(n.placement),l=Em(a),u=[It,Gt].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=fL(i.padding,n),f=wm(s),g=l==="y"?Nt:It,w=l==="y"?Kt:Gt,E=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],S=o[l]-n.rects.reference[l],m=Da(s),p=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,y=E/2-S/2,C=d[g],x=p-f[c]-d[w],k=p/2-f[c]/2+y,N=go(C,k,x),T=l;n.modifiersData[r]=(e={},e[T]=N,e.centerOffset=N-k,e)}}function pL(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||lS(e.elements.popper,i)&&(e.elements.arrow=i))}const mL={name:"arrow",enabled:!0,phase:"main",fn:hL,effect:pL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ds(t){return t.split("-")[1]}var gL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vL(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:us(e*i)/i||0,y:us(n*i)/i||0}}function fy(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=o.x,g=f===void 0?0:f,w=o.y,E=w===void 0?0:w,S=typeof c=="function"?c({x:g,y:E}):{x:g,y:E};g=S.x,E=S.y;var m=o.hasOwnProperty("x"),p=o.hasOwnProperty("y"),y=It,C=Nt,x=window;if(u){var k=Da(n),N="clientHeight",T="clientWidth";if(k===Qt(n)&&(k=Pr(n),Gn(k).position!=="static"&&a==="absolute"&&(N="scrollHeight",T="scrollWidth")),k=k,i===Nt||(i===It||i===Gt)&&s===ta){C=Kt;var A=d&&k===x&&x.visualViewport?x.visualViewport.height:k[N];E-=A-r.height,E*=l?1:-1}if(i===It||(i===Nt||i===Kt)&&s===ta){y=Gt;var R=d&&k===x&&x.visualViewport?x.visualViewport.width:k[T];g-=R-r.width,g*=l?1:-1}}var F=Object.assign({position:a},u&&gL),V=c===!0?vL({x:g,y:E}):{x:g,y:E};if(g=V.x,E=V.y,l){var H;return Object.assign({},F,(H={},H[C]=p?"0":"",H[y]=m?"0":"",H.transform=(x.devicePixelRatio||1)<=1?"translate("+g+"px, "+E+"px)":"translate3d("+g+"px, "+E+"px, 0)",H))}return Object.assign({},F,(e={},e[C]=p?E+"px":"",e[y]=m?g+"px":"",e.transform="",e))}function yL(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:En(e.placement),variation:ds(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,fy(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,fy(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const wL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yL,data:{}};var rl={passive:!0};function EL(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Qt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,rl)}),a&&l.addEventListener("resize",n.update,rl),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,rl)}),a&&l.removeEventListener("resize",n.update,rl)}}const CL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:EL,data:{}};var SL={left:"right",right:"left",bottom:"top",top:"bottom"};function Sl(t){return t.replace(/left|right|bottom|top/g,function(e){return SL[e]})}var xL={start:"end",end:"start"};function hy(t){return t.replace(/start|end/g,function(e){return xL[e]})}function Cm(t){var e=Qt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Sm(t){return cs(Pr(t)).left+Cm(t).scrollLeft}function TL(t,e){var n=Qt(t),r=Pr(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=aS();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Sm(t),y:l}}function kL(t){var e,n=Pr(t),r=Cm(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Zr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Zr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Sm(t),l=-r.scrollTop;return Gn(i||n).direction==="rtl"&&(a+=Zr(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function xm(t){var e=Gn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function fS(t){return["html","body","#document"].indexOf(_r(t))>=0?t.ownerDocument.body:Cn(t)&&xm(t)?t:fS(yc(t))}function vo(t,e){var n;e===void 0&&(e=[]);var r=fS(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Qt(r),o=i?[s].concat(s.visualViewport||[],xm(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(vo(yc(o)))}function th(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function NL(t,e){var n=cs(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function py(t,e,n){return e===sS?th(TL(t,n)):ui(e)?NL(e,n):th(kL(Pr(t)))}function IL(t){var e=vo(yc(t)),n=["absolute","fixed"].indexOf(Gn(t).position)>=0,r=n&&Cn(t)?Da(t):t;return ui(r)?e.filter(function(i){return ui(i)&&lS(i,r)&&_r(i)!=="body"}):[]}function _L(t,e,n,r){var i=e==="clippingParents"?IL(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=py(t,u,r);return l.top=Zr(c.top,l.top),l.right=gu(c.right,l.right),l.bottom=gu(c.bottom,l.bottom),l.left=Zr(c.left,l.left),l},py(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function hS(t){var e=t.reference,n=t.element,r=t.placement,i=r?En(r):null,s=r?ds(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Nt:l={x:o,y:e.y-n.height};break;case Kt:l={x:o,y:e.y+e.height};break;case Gt:l={x:e.x+e.width,y:a};break;case It:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?Em(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case ls:l[u]=l[u]-(e[c]/2-n[c]/2);break;case ta:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function na(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?YA:a,u=n.rootBoundary,c=u===void 0?sS:u,d=n.elementContext,f=d===void 0?js:d,g=n.altBoundary,w=g===void 0?!1:g,E=n.padding,S=E===void 0?0:E,m=cS(typeof S!="number"?S:dS(S,$a)),p=f===js?JA:js,y=t.rects.popper,C=t.elements[w?p:f],x=_L(ui(C)?C:C.contextElement||Pr(t.elements.popper),l,c,o),k=cs(t.elements.reference),N=hS({reference:k,element:y,strategy:"absolute",placement:i}),T=th(Object.assign({},y,N)),A=f===js?T:k,R={top:x.top-A.top+m.top,bottom:A.bottom-x.bottom+m.bottom,left:x.left-A.left+m.left,right:A.right-x.right+m.right},F=t.modifiersData.offset;if(f===js&&F){var V=F[i];Object.keys(R).forEach(function(H){var ie=[Gt,Kt].indexOf(H)>=0?1:-1,J=[Nt,Kt].indexOf(H)>=0?"y":"x";R[H]+=V[J]*ie})}return R}function $L(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?oS:l,c=ds(r),d=c?a?cy:cy.filter(function(w){return ds(w)===c}):$a,f=d.filter(function(w){return u.indexOf(w)>=0});f.length===0&&(f=d);var g=f.reduce(function(w,E){return w[E]=na(t,{placement:E,boundary:i,rootBoundary:s,padding:o})[En(E)],w},{});return Object.keys(g).sort(function(w,E){return g[w]-g[E]})}function DL(t){if(En(t)===vm)return[];var e=Sl(t);return[hy(t),e,hy(e)]}function RL(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,g=n.flipVariations,w=g===void 0?!0:g,E=n.allowedAutoPlacements,S=e.options.placement,m=En(S),p=m===S,y=l||(p||!w?[Sl(S)]:DL(S)),C=[S].concat(y).reduce(function(Se,K){return Se.concat(En(K)===vm?$L(e,{placement:K,boundary:c,rootBoundary:d,padding:u,flipVariations:w,allowedAutoPlacements:E}):K)},[]),x=e.rects.reference,k=e.rects.popper,N=new Map,T=!0,A=C[0],R=0;R<C.length;R++){var F=C[R],V=En(F),H=ds(F)===ls,ie=[Nt,Kt].indexOf(V)>=0,J=ie?"width":"height",te=na(e,{placement:F,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),ue=ie?H?Gt:It:H?Kt:Nt;x[J]>k[J]&&(ue=Sl(ue));var D=Sl(ue),P=[];if(s&&P.push(te[V]<=0),a&&P.push(te[ue]<=0,te[D]<=0),P.every(function(Se){return Se})){A=F,T=!1;break}N.set(F,P)}if(T)for(var O=w?3:1,Z=function(K){var pe=C.find(function(ke){var Et=N.get(ke);if(Et)return Et.slice(0,K).every(function(_t){return _t})});if(pe)return A=pe,"break"},Y=O;Y>0;Y--){var he=Z(Y);if(he==="break")break}e.placement!==A&&(e.modifiersData[r]._skip=!0,e.placement=A,e.reset=!0)}}const OL={name:"flip",enabled:!0,phase:"main",fn:RL,requiresIfExists:["offset"],data:{_skip:!1}};function my(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function gy(t){return[Nt,Gt,Kt,It].some(function(e){return t[e]>=0})}function AL(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=na(e,{elementContext:"reference"}),a=na(e,{altBoundary:!0}),l=my(o,r),u=my(a,i,s),c=gy(l),d=gy(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const LL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:AL};function PL(t,e,n){var r=En(t),i=[It,Nt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[It,Gt].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function ML(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=oS.reduce(function(c,d){return c[d]=PL(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const bL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ML};function FL(t){var e=t.state,n=t.name;e.modifiersData[n]=hS({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const BL={name:"popperOffsets",enabled:!0,phase:"read",fn:FL,data:{}};function UL(t){return t==="x"?"y":"x"}function jL(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,g=f===void 0?!0:f,w=n.tetherOffset,E=w===void 0?0:w,S=na(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=En(e.placement),p=ds(e.placement),y=!p,C=Em(m),x=UL(C),k=e.modifiersData.popperOffsets,N=e.rects.reference,T=e.rects.popper,A=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,R=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(k){if(s){var H,ie=C==="y"?Nt:It,J=C==="y"?Kt:Gt,te=C==="y"?"height":"width",ue=k[C],D=ue+S[ie],P=ue-S[J],O=g?-T[te]/2:0,Z=p===ls?N[te]:T[te],Y=p===ls?-T[te]:-N[te],he=e.elements.arrow,Se=g&&he?wm(he):{width:0,height:0},K=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:uS(),pe=K[ie],ke=K[J],Et=go(0,N[te],Se[te]),_t=y?N[te]/2-O-Et-pe-R.mainAxis:Z-Et-pe-R.mainAxis,He=y?-N[te]/2+O+Et+ke+R.mainAxis:Y+Et+ke+R.mainAxis,$e=e.elements.arrow&&Da(e.elements.arrow),Ft=$e?C==="y"?$e.clientTop||0:$e.clientLeft||0:0,ae=(H=F==null?void 0:F[C])!=null?H:0,Bt=ue+_t-ae-Ft,Ns=ue+He-ae,vi=go(g?gu(D,Bt):D,ue,g?Zr(P,Ns):P);k[C]=vi,V[C]=vi-ue}if(a){var yi,Is=C==="x"?Nt:It,_s=C==="x"?Kt:Gt,Xt=k[x],Jn=x==="y"?"height":"width",Mr=Xt+S[Is],dn=Xt-S[_s],Zn=[Nt,It].indexOf(m)!==-1,se=(yi=F==null?void 0:F[x])!=null?yi:0,Yt=Zn?Mr:Xt-N[Jn]-T[Jn]-se+R.altAxis,br=Zn?Xt+N[Jn]+T[Jn]-se-R.altAxis:dn,$s=g&&Zn?dL(Yt,Xt,br):go(g?Yt:Mr,Xt,g?br:dn);k[x]=$s,V[x]=$s-Xt}e.modifiersData[r]=V}}const VL={name:"preventOverflow",enabled:!0,phase:"main",fn:jL,requiresIfExists:["offset"]};function zL(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function HL(t){return t===Qt(t)||!Cn(t)?Cm(t):zL(t)}function WL(t){var e=t.getBoundingClientRect(),n=us(e.width)/t.offsetWidth||1,r=us(e.height)/t.offsetHeight||1;return n!==1||r!==1}function qL(t,e,n){n===void 0&&(n=!1);var r=Cn(e),i=Cn(e)&&WL(e),s=Pr(e),o=cs(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((_r(e)!=="body"||xm(s))&&(a=HL(e)),Cn(e)?(l=cs(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Sm(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function KL(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function GL(t){var e=KL(t);return lL.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function QL(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function XL(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var vy={placement:"bottom",modifiers:[],strategy:"absolute"};function yy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function YL(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?vy:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},vy,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,g={state:c,setOptions:function(m){var p=typeof m=="function"?m(c.options):m;E(),c.options=Object.assign({},s,c.options,p),c.scrollParents={reference:ui(a)?vo(a):a.contextElement?vo(a.contextElement):[],popper:vo(l)};var y=GL(XL([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(C){return C.enabled}),w(),g.update()},forceUpdate:function(){if(!f){var m=c.elements,p=m.reference,y=m.popper;if(yy(p,y)){c.rects={reference:qL(p,Da(y),c.options.strategy==="fixed"),popper:wm(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(R){return c.modifiersData[R.name]=Object.assign({},R.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var x=c.orderedModifiers[C],k=x.fn,N=x.options,T=N===void 0?{}:N,A=x.name;typeof k=="function"&&(c=k({state:c,options:T,name:A,instance:g})||c)}}}},update:QL(function(){return new Promise(function(S){g.forceUpdate(),S(c)})}),destroy:function(){E(),f=!0}};if(!yy(a,l))return g;g.setOptions(u).then(function(S){!f&&u.onFirstUpdate&&u.onFirstUpdate(S)});function w(){c.orderedModifiers.forEach(function(S){var m=S.name,p=S.options,y=p===void 0?{}:p,C=S.effect;if(typeof C=="function"){var x=C({state:c,name:m,instance:g,options:y}),k=function(){};d.push(x||k)}})}function E(){d.forEach(function(S){return S()}),d=[]}return g}}const JL=YL({defaultModifiers:[LL,BL,wL,CL,bL,OL,VL,mL]}),ZL=["enabled","placement","strategy","modifiers"];function eP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const tP={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},nP={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},rP=[];function iP(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=rP}=n,a=eP(n,ZL);const l=h.useRef(o),u=h.useRef(),c=h.useCallback(()=>{var S;(S=u.current)==null||S.update()},[]),d=h.useCallback(()=>{var S;(S=u.current)==null||S.forceUpdate()},[]),[f,g]=XA(h.useState({placement:i,update:c,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),w=h.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:S})=>{const m={},p={};Object.keys(S.elements).forEach(y=>{m[y]=S.styles[y],p[y]=S.attributes[y]}),g({state:S,styles:m,attributes:p,update:c,forceUpdate:d,placement:S.placement})}}),[c,d,g]),E=h.useMemo(()=>(mo(l.current,o)||(l.current=o),l.current),[o]);return h.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:i,strategy:s,modifiers:[...E,w,tP]})},[s,i,w,r,E]),h.useEffect(()=>{if(!(!r||t==null||e==null))return u.current=JL(t,e,Object.assign({},a,{placement:i,strategy:s,modifiers:[...E,nP,w]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,g(S=>Object.assign({},S,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),f}const wy=()=>{};function sP(t){return t.button===0}function oP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const hd=t=>t&&("current"in t?t.current:t),Ey={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function aP(t,e=wy,{disabled:n,clickTrigger:r="click"}={}){const i=h.useRef(!1),s=h.useRef(!1),o=h.useCallback(u=>{const c=hd(t);i.current=!c||oP(u)||!sP(u)||!!mu(c,u.target)||s.current,s.current=!1},[t]),a=Re(u=>{const c=hd(t);c&&mu(c,u.target)&&(s.current=!0)}),l=Re(u=>{i.current||e(u)});h.useEffect(()=>{if(n||t==null)return;const u=Ta(hd(t));let c=(u.defaultView||window).event,d=null;Ey[r]&&(d=cr(u,Ey[r],a,!0));const f=cr(u,r,o,!0),g=cr(u,r,E=>{if(E===c){c=void 0;return}l(E)});let w=[];return"ontouchstart"in u.documentElement&&(w=[].slice.call(u.body.children).map(E=>cr(E,"mousemove",wy))),()=>{d==null||d(),f(),g(),w.forEach(E=>E())}},[t,n,r,o,a,l])}function lP(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function uP(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function cP({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var u,c,d,f,g;const w=lP(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:s?"fixed":l.strategy,modifiers:uP(Object.assign({},w,{eventListeners:{enabled:e,options:(u=w.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},w.preventOverflow,{options:o?Object.assign({padding:o},(c=w.preventOverflow)==null?void 0:c.options):(d=w.preventOverflow)==null?void 0:d.options}),offset:{options:Object.assign({offset:i},(f=w.offset)==null?void 0:f.options)},arrow:Object.assign({},w.arrow,{enabled:!!a,options:Object.assign({},(g=w.arrow)==null?void 0:g.options,{element:a})}),flip:Object.assign({enabled:!!r},w.flip)}))})}const dP=["children"];function fP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const hP=()=>{};function pS(t={}){const e=h.useContext(vc),[n,r]=B1(),i=h.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:l=!1,placement:u,popperConfig:c={},enableEventListeners:d=!0,usePopper:f=!!e}=t,g=(e==null?void 0:e.show)==null?!!t.show:e.show;g&&!i.current&&(i.current=!0);const w=k=>{e==null||e.toggle(!1,k)},{placement:E,setMenu:S,menuElement:m,toggleElement:p}=e||{},y=iP(p,m,cP({placement:u||E||"bottom-start",enabled:f,enableEvents:d??g,offset:o,flip:s,fixed:l,arrowElement:n,popperConfig:c})),C=Object.assign({ref:S||hP,"aria-labelledby":p==null?void 0:p.id},y.attributes.popper,{style:y.styles.popper}),x={show:g,placement:E,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:f?y:null,arrowProps:f?Object.assign({ref:r},y.attributes.arrow,{style:y.styles.arrow}):{}};return aP(m,w,{clickTrigger:a,disabled:!g}),[C,x]}const pP={usePopper:!0};function Tm(t){let{children:e}=t,n=fP(t,dP);const[r,i]=pS(n);return v(un,{children:e(r,i)})}Tm.displayName="DropdownMenu";Tm.defaultProps=pP;const mS={prefix:String(Math.round(Math.random()*1e10)),current:0},mP=Ue.createContext(mS);let gP=Boolean(typeof window<"u"&&window.document&&window.document.createElement);function vP(t){let e=h.useContext(mP);return e===mS&&!gP&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),h.useMemo(()=>t||`react-aria${e.prefix}-${++e.current}`,[t])}const gS=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Cy=()=>{};function vS(){const t=vP(),{show:e=!1,toggle:n=Cy,setToggle:r,menuElement:i}=h.useContext(vc)||{},s=h.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||Cy,onClick:s,"aria-expanded":!!e};return i&&gS(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function yS({children:t}){const[e,n]=vS();return v(un,{children:t(e,n)})}yS.displayName="DropdownToggle";const yP=["eventKey","disabled","onClick","active","as"];function wP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wS({key:t,href:e,active:n,disabled:r,onClick:i}){const s=h.useContext(ri),o=h.useContext(Yu),{activeKey:a}=o||{},l=Po(t,e),u=n==null&&t!=null?Po(a)===l:n;return[{onClick:Re(d=>{r||(i==null||i(d),s&&!d.isPropagationStopped()&&s(l,d))}),"aria-disabled":r||void 0,"aria-selected":u,[Ss("dropdown-item")]:""},{isActive:u}]}const ES=h.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=cp}=t,a=wP(t,yP);const[l]=wS({key:n,href:a.href,disabled:r,onClick:i,active:s});return v(o,Object.assign({},a,{ref:e},l))});ES.displayName="DropdownItem";function Sy(){const t=D1(),e=h.useRef(null),n=h.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function Ra({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Ss("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const l=um(),[u,c]=$1(e,t,r),[d,f]=Sy(),g=d.current,[w,E]=Sy(),S=w.current,m=U1(u),p=h.useRef(null),y=h.useRef(!1),C=h.useContext(ri),x=h.useCallback((F,V,H=V==null?void 0:V.type)=>{c(F,{originalEvent:V,source:H})},[c]),k=Re((F,V)=>{n==null||n(F,V),x(!1,V,"select"),V.isPropagationStopped()||C==null||C(F,V)}),N=h.useMemo(()=>({toggle:x,placement:o,show:u,menuElement:g,toggleElement:S,setMenu:f,setToggle:E}),[x,o,u,g,S,f,E]);g&&m&&!u&&(y.current=g.contains(g.ownerDocument.activeElement));const T=Re(()=>{S&&S.focus&&S.focus()}),A=Re(()=>{const F=p.current;let V=s;if(V==null&&(V=d.current&&gS(d.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(F))return;const H=_n(d.current,i)[0];H&&H.focus&&H.focus()});h.useEffect(()=>{u?A():y.current&&(y.current=!1,T())},[u,y,T,A]),h.useEffect(()=>{p.current=null});const R=(F,V)=>{if(!d.current)return null;const H=_n(d.current,i);let ie=H.indexOf(F)+V;return ie=Math.max(0,Math.min(ie,H.length)),H[ie]};return DD(h.useCallback(()=>l.document,[l]),"keydown",F=>{var V,H;const{key:ie}=F,J=F.target,te=(V=d.current)==null?void 0:V.contains(J),ue=(H=w.current)==null?void 0:H.contains(J);if(/input|textarea/i.test(J.tagName)&&(ie===" "||ie!=="Escape"&&te||ie==="Escape"&&J.type==="search")||!te&&!ue||ie==="Tab"&&(!d.current||!u))return;p.current=F.type;const P={originalEvent:F,source:F.type};switch(ie){case"ArrowUp":{const O=R(J,-1);O&&O.focus&&O.focus(),F.preventDefault();return}case"ArrowDown":if(F.preventDefault(),!u)c(!0,P);else{const O=R(J,1);O&&O.focus&&O.focus()}return;case"Tab":im(J.ownerDocument,"keyup",O=>{var Z;(O.key==="Tab"&&!O.target||!((Z=d.current)!=null&&Z.contains(O.target)))&&c(!1,P)},{once:!0});break;case"Escape":ie==="Escape"&&(F.preventDefault(),F.stopPropagation()),c(!1,P);break}}),v(ri.Provider,{value:k,children:v(vc.Provider,{value:N,children:a})})}Ra.displayName="Dropdown";Ra.Menu=Tm;Ra.Toggle=yS;Ra.Item=ES;const CS=h.createContext({});CS.displayName="DropdownContext";const SS=CS,xS=h.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=Mo,...a},l)=>{const u=ee(t,"dropdown-item"),[c,d]=wS({key:n,href:a.href,disabled:r,onClick:i,active:s});return v(o,{...a,...c,ref:l,className:z(e,u,d.isActive&&"active",r&&"disabled")})});xS.displayName="DropdownItem";const EP=xS,TS=h.createContext(null);TS.displayName="InputGroupContext";const kS=TS;function NS(t,e){return t}const CP={flip:!0};function IS(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",u=n?"left-start":"right-start",c=n?"left-end":"right-end";let d=t?o:s;return e==="up"?d=t?i:r:e==="end"?d=t?c:u:e==="start"?d=t?l:a:e==="down-centered"?d="bottom":e==="up-centered"&&(d="top"),d}const km=h.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i,show:s,renderOnMount:o,as:a="div",popperConfig:l,variant:u,...c},d)=>{let f=!1;const g=h.useContext(pi),w=ee(t,"dropdown-menu"),{align:E,drop:S,isRTL:m}=h.useContext(SS);n=n||E;const p=h.useContext(kS),y=[];if(n)if(typeof n=="object"){const F=Object.keys(n);if(F.length){const V=F[0],H=n[V];f=H==="start",y.push(`${w}-${V}-${H}`)}}else n==="end"&&(f=!0);const C=IS(f,S,m),[x,{hasShown:k,popper:N,show:T,toggle:A}]=pS({flip:i,rootCloseEvent:r,show:s,usePopper:!g&&y.length===0,offset:[0,2],popperConfig:l,placement:C});if(x.ref=xa(NS(d),x.ref),j1(()=>{T&&(N==null||N.update())},[T]),!k&&!o&&!p)return null;typeof a!="string"&&(x.show=T,x.close=()=>A==null?void 0:A(!1),x.align=n);let R=c.style;return N!=null&&N.placement&&(R={...c.style,...x.style},c["x-placement"]=N.placement),v(a,{...c,...x,style:R,...(y.length||g)&&{"data-bs-popper":"static"},className:z(e,w,T&&"show",f&&`${w}-end`,u&&`${w}-${u}`,...y)})});km.displayName="DropdownMenu";km.defaultProps=CP;const SP=km,xP={variant:"primary",active:!1,disabled:!1},rn=h.forwardRef(({as:t,bsPrefix:e,variant:n,size:r,active:i,className:s,...o},a)=>{const l=ee(e,"btn"),[u,{tagName:c}]=up({tagName:t,...o});return v(c,{...u,...o,ref:a,className:z(s,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,o.href&&o.disabled&&"disabled")})});rn.displayName="Button";rn.defaultProps=xP;const _S=h.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=rn,...s},o)=>{const a=ee(t,"dropdown-toggle"),l=h.useContext(vc);r!==void 0&&(s.bsPrefix=r);const[u]=vS();return u.ref=xa(u.ref,NS(o)),v(i,{className:z(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...u,...s})});_S.displayName="DropdownToggle";const TP=_S,kP=ze("dropdown-header",{defaultProps:{role:"heading"}}),NP=ze("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),IP=ze("dropdown-item-text",{Component:"span"}),_P={navbar:!1,align:"start",autoClose:!0,drop:"down"},Nm=h.forwardRef((t,e)=>{const{bsPrefix:n,drop:r,show:i,className:s,align:o,onSelect:a,onToggle:l,focusFirstItemOnShow:u,as:c="div",navbar:d,autoClose:f,...g}=Xu(t,{show:"onToggle"}),w=h.useContext(kS),E=ee(n,"dropdown"),S=lp(),m=N=>f===!1?N==="click":f==="inside"?N!=="rootClose":f==="outside"?N!=="select":!0,p=Re((N,T)=>{T.originalEvent.currentTarget===document&&(T.source!=="keydown"||T.originalEvent.key==="Escape")&&(T.source="rootClose"),m(T.source)&&(l==null||l(N,T))}),C=IS(o==="end",r,S),x=h.useMemo(()=>({align:o,drop:r,isRTL:S}),[o,r,S]),k={down:E,"down-centered":`${E}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return v(SS.Provider,{value:x,children:v(Ra,{placement:C,show:i,onSelect:a,onToggle:p,focusFirstItemOnShow:u,itemSelector:`.${E}-item:not(.disabled):not(:disabled)`,children:w?g.children:v(c,{...g,ref:e,className:z(s,i&&"show",k[r])})})})});Nm.displayName="Dropdown";Nm.defaultProps=_P;const Gr=Object.assign(Nm,{Toggle:TP,Menu:SP,Item:EP,ItemText:IP,Divider:NP,Header:kP}),$S=h.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:s,menuRole:o,disabled:a,active:l,renderMenuOnMount:u,menuVariant:c,...d},f)=>{const g=ee(void 0,"nav-item");return M(Gr,{ref:f,...d,className:z(i,g),children:[v(Gr.Toggle,{id:t,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:V1,children:e}),v(Gr.Menu,{role:o,renderOnMount:u,rootCloseEvent:s,variant:c,children:n})]})});$S.displayName="NavDropdown";const Si=Object.assign($S,{Item:Gr.Item,ItemText:Gr.ItemText,Divider:Gr.Divider,Header:Gr.Header}),$P="/cursoReact/resources/logo.png";function DP(){return v(Bi,{className:"bg",children:v(Qu,{children:v(Bi.Brand,{href:"/",children:v("img",{src:$P,width:"90",height:"90",className:"d-inline-block align-top",alt:"logo"})})})})}var DS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xy=Ue.createContext&&Ue.createContext(DS),Sr=globalThis&&globalThis.__assign||function(){return Sr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sr.apply(this,arguments)},RP=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function RS(t){return t&&t.map(function(e,n){return Ue.createElement(e.tag,Sr({key:n},e.attr),RS(e.child))})}function OS(t){return function(e){return Ue.createElement(OP,Sr({attr:Sr({},t.attr)},e),RS(t.child))}}function OP(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=RP(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Ue.createElement("svg",Sr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Sr(Sr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ue.createElement("title",null,s),t.children)};return xy!==void 0?Ue.createElement(xy.Consumer,null,function(n){return e(n)}):e(DS)}function AP(t){return OS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}}]})(t)}function LP(t){return OS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}}]})(t)}const PP=({cartQuantity:t})=>M("div",{className:"pt-0 d-flex flex-column",children:[t>0&&v("span",{className:"cart",children:t}),v(AP,{className:"fs-2 me-4 link-secondary"})]});function MP({cartQuantity:t}){return v(un,{children:M(Bi,{className:"bg w-100",expand:"lg",children:[v(DP,{}),M(Qu,{className:"m-4",children:[v(tr,{to:"/cursoReact/",children:v(Bi.Brand,{className:"text-secondary fw-bold border-bottom",children:"HeladerÃ­as Yummy"})}),v(Bi.Toggle,{"aria-controls":"basic-navbar-nav"}),v(Bi.Collapse,{className:"justify-content-end text-end",id:"basic-navbar-nav",children:M(Ba,{children:[M(Si,{className:"text-secondary fw-bold",title:"Nuestros Productos",id:"basic-nav-dropdown",children:[v(Si.Item,{children:v(tr,{to:"/cursoReact/productos/baldes",children:v("h6",{className:"dropdown-item",children:"Baldes"})})}),v(Si.Item,{children:v(tr,{to:"/cursoReact/productos/postres",children:v("h6",{className:"dropdown-item",children:"Postres"})})}),v(Si.Item,{children:v(tr,{to:"/cursoReact/productos/impulsivos",children:v("h6",{className:"dropdown-item",children:"Impulsivos"})})}),v(Si.Divider,{}),v(Si.Item,{children:v(tr,{to:"/cursoReact/productos/todos",children:v("h6",{className:"dropdown-item fw-bold",children:"Ver todos"})})})]}),v(Ba.Link,{to:"/locales",className:"link-secondary fw-bold",children:"Nuestros Locales"}),v(Ba.Link,{to:"/nosotros",className:"link-secondary fw-bold",children:"Sobre Nosotros"}),v(Ba.Link,{to:"/contacto",className:"link-secondary fw-bold",children:"Contacto"})]})})]}),v(tr,{to:"/cursoReact/carrito",children:v(PP,{cartQuantity:t})})]})})}function bP(t,e){var n=h.useRef(!0);h.useEffect(function(){if(n.current){n.current=!1;return}return t()},e)}var nh=Math.pow(2,31)-1;function AS(t,e,n){var r=n-Date.now();t.current=r<=nh?setTimeout(e,r):setTimeout(function(){return AS(t,e,n)},nh)}function FP(){var t=dp(),e=h.useRef();return am(function(){return clearTimeout(e.current)}),h.useMemo(function(){var n=function(){return clearTimeout(e.current)};function r(i,s){s===void 0&&(s=0),t()&&(n(),s<=nh?e.current=setTimeout(i,s):AS(e,i,Date.now()+s))}return{set:r,clear:n}},[])}const BP=ze("carousel-caption"),LS=h.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{const s=z(n,ee(e,"carousel-item"));return v(t,{ref:i,...r,className:s})});LS.displayName="CarouselItem";const UP=LS;function Ty(t,e){let n=0;return h.Children.map(t,r=>h.isValidElement(r)?e(r,n++):r)}function jP(t,e){let n=0;h.Children.forEach(t,r=>{h.isValidElement(r)&&e(r,n++)})}function VP(t,e){return h.Children.toArray(t).some(n=>h.isValidElement(n)&&n.type===e)}const zP=40,HP={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:v("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:v("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};function WP(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const Im=h.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,slide:i,fade:s,controls:o,indicators:a,indicatorLabels:l,activeIndex:u,onSelect:c,onSlide:d,onSlid:f,interval:g,keyboard:w,onKeyDown:E,pause:S,onMouseOver:m,onMouseOut:p,wrap:y,touch:C,onTouchStart:x,onTouchMove:k,onTouchEnd:N,prevIcon:T,prevLabel:A,nextIcon:R,nextLabel:F,variant:V,className:H,children:ie,...J}=Xu(t,{activeIndex:"onSelect"}),te=ee(r,"carousel"),ue=lp(),D=h.useRef(null),[P,O]=h.useState("next"),[Z,Y]=h.useState(!1),[he,Se]=h.useState(!1),[K,pe]=h.useState(u||0);h.useEffect(()=>{!he&&u!==K&&(D.current?O(D.current):O((u||0)>K?"next":"prev"),i&&Se(!0),pe(u||0))},[u,he,K,i]),h.useEffect(()=>{D.current&&(D.current=null)});let ke=0,Et;jP(ie,(G,me)=>{++ke,me===u&&(Et=G.props.interval)});const _t=O1(Et),He=h.useCallback(G=>{if(he)return;let me=K-1;if(me<0){if(!y)return;me=ke-1}D.current="prev",c==null||c(me,G)},[he,K,c,y,ke]),$e=Re(G=>{if(he)return;let me=K+1;if(me>=ke){if(!y)return;me=0}D.current="next",c==null||c(me,G)}),Ft=h.useRef();h.useImperativeHandle(e,()=>({element:Ft.current,prev:He,next:$e}));const ae=Re(()=>{!document.hidden&&WP(Ft.current)&&(ue?He():$e())}),Bt=P==="next"?"start":"end";bP(()=>{i||(d==null||d(K,Bt),f==null||f(K,Bt))},[K]);const Ns=`${te}-item-${P}`,vi=`${te}-item-${Bt}`,yi=h.useCallback(G=>{sm(G),d==null||d(K,Bt)},[d,K,Bt]),Is=h.useCallback(()=>{Se(!1),f==null||f(K,Bt)},[f,K,Bt]),_s=h.useCallback(G=>{if(w&&!/input|textarea/i.test(G.target.tagName))switch(G.key){case"ArrowLeft":G.preventDefault(),ue?$e(G):He(G);return;case"ArrowRight":G.preventDefault(),ue?He(G):$e(G);return}E==null||E(G)},[w,E,He,$e,ue]),Xt=h.useCallback(G=>{S==="hover"&&Y(!0),m==null||m(G)},[S,m]),Jn=h.useCallback(G=>{Y(!1),p==null||p(G)},[p]),Mr=h.useRef(0),dn=h.useRef(0),Zn=FP(),se=h.useCallback(G=>{Mr.current=G.touches[0].clientX,dn.current=0,S==="hover"&&Y(!0),x==null||x(G)},[S,x]),Yt=h.useCallback(G=>{G.touches&&G.touches.length>1?dn.current=0:dn.current=G.touches[0].clientX-Mr.current,k==null||k(G)},[k]),br=h.useCallback(G=>{if(C){const me=dn.current;Math.abs(me)>zP&&(me>0?He(G):$e(G))}S==="hover"&&Zn.set(()=>{Y(!1)},g||void 0),N==null||N(G)},[C,S,He,$e,Zn,g,N]),$s=g!=null&&!Z&&!he,wc=h.useRef();h.useEffect(()=>{var G,me;if(!$s)return;const Tn=ue?He:$e;return wc.current=window.setInterval(document.visibilityState?ae:Tn,(G=(me=_t.current)!=null?me:g)!=null?G:void 0),()=>{wc.current!==null&&clearInterval(wc.current)}},[$s,He,$e,_t,g,ae,ue]);const Pm=h.useMemo(()=>a&&Array.from({length:ke},(G,me)=>Tn=>{c==null||c(me,Tn)}),[a,ke,c]);return M(n,{ref:Ft,...J,onKeyDown:_s,onMouseOver:Xt,onMouseOut:Jn,onTouchStart:se,onTouchMove:Yt,onTouchEnd:br,className:z(H,te,i&&"slide",s&&`${te}-fade`,V&&`${te}-${V}`),children:[a&&v("div",{className:`${te}-indicators`,children:Ty(ie,(G,me)=>v("button",{type:"button","data-bs-target":"","aria-label":l!=null&&l.length?l[me]:`Slide ${me+1}`,className:me===K?"active":void 0,onClick:Pm?Pm[me]:void 0,"aria-current":me===K},me))}),v("div",{className:`${te}-inner`,children:Ty(ie,(G,me)=>{const Tn=me===K;return i?v(pc,{in:Tn,onEnter:Tn?yi:void 0,onEntered:Tn?Is:void 0,addEndListener:hc,children:(Ds,JS)=>h.cloneElement(G,{...JS,className:z(G.props.className,Tn&&Ds!=="entered"&&Ns,(Ds==="entered"||Ds==="exiting")&&"active",(Ds==="entering"||Ds==="exiting")&&vi)})}):h.cloneElement(G,{className:z(G.props.className,Tn&&"active")})})}),o&&M(un,{children:[(y||u!==0)&&M(Mo,{className:`${te}-control-prev`,onClick:He,children:[T,A&&v("span",{className:"visually-hidden",children:A})]}),(y||u!==ke-1)&&M(Mo,{className:`${te}-control-next`,onClick:$e,children:[R,F&&v("span",{className:"visually-hidden",children:F})]})]})]})});Im.displayName="Carousel";Im.defaultProps=HP;const il=Object.assign(Im,{Caption:BP,Item:UP}),qP="/cursoReact/resources/img13.jpg",KP="/cursoReact/resources/img27.jpg",GP="/cursoReact/resources/img35.jpg";function QP(){return M(il,{fade:!0,children:[v(il.Item,{children:v("img",{className:"img-fluid",src:qP,alt:"First slide"})}),v(il.Item,{children:v("img",{className:"img-fluid",src:KP,alt:"Second slide"})}),v(il.Item,{children:v("img",{className:"img-fluid",src:GP,alt:"Third slide"})})]})}const PS=h.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{t=ee(t,"spinner");const l=`${t}-${n}`;return v(i,{ref:a,...o,className:z(s,l,r&&`${l}-${r}`,e&&`text-${e}`)})});PS.displayName="Spinner";const MS=h.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=ee(t,"card-img");return v(r,{ref:s,className:z(n?`${o}-${n}`:o,e),...i})});MS.displayName="CardImg";const XP=MS,bS=h.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ee(t,"card-header"),o=h.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return v(F1.Provider,{value:o,children:v(n,{ref:i,...r,className:z(e,s)})})});bS.displayName="CardHeader";const YP=bS,JP=gc("h5"),ZP=gc("h6"),FS=ze("card-body"),eM=ze("card-title",{Component:JP}),tM=ze("card-subtitle",{Component:ZP}),nM=ze("card-link",{Component:"a"}),rM=ze("card-text",{Component:"p"}),iM=ze("card-footer"),sM=ze("card-img-overlay"),oM={body:!1},_m=h.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s,children:o,as:a="div",...l},u)=>{const c=ee(t,"card");return v(a,{ref:u,...l,className:z(e,c,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?v(FS,{children:o}):o})});_m.displayName="Card";_m.defaultProps=oM;const Je=Object.assign(_m,{Img:XP,Title:eM,Subtitle:tM,Body:FS,Link:nM,Text:rM,Header:YP,Footer:iM,ImgOverlay:sM});function aM({as:t,bsPrefix:e,className:n,...r}){e=ee(e,"col");const i=N1(),s=I1(),o=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,d,f;typeof u=="object"&&u!=null?{span:c,offset:d,order:f}=u:c=u;const g=l!==s?`-${l}`:"";c&&o.push(c===!0?`${e}${g}`:`${e}${g}-${c}`),f!=null&&a.push(`order${g}-${f}`),d!=null&&a.push(`offset${g}-${d}`)}),[{...r,className:z(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const pn=h.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=aM(t);return v(i,{...r,ref:e,className:z(n,!o.length&&s)})});pn.displayName="Col";const lM={type:on.string,tooltip:on.bool,as:on.elementType},$m=h.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>v(t,{...i,ref:s,className:z(e,`${n}-${r?"tooltip":"feedback"}`)}));$m.displayName="Feedback";$m.propTypes=lM;const BS=$m,uM=h.createContext({}),Qn=uM,US=h.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:u}=h.useContext(Qn);return e=ee(e,"form-check-input"),v(o,{...a,ref:l,type:r,id:t||u,className:z(n,e,i&&"is-valid",s&&"is-invalid")})});US.displayName="FormCheckInput";const jS=US,VS=h.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=h.useContext(Qn);return t=ee(t,"form-check-label"),v("label",{...r,ref:i,htmlFor:n||s,className:z(e,t)})});VS.displayName="FormCheckLabel";const rh=VS,zS=h.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:d,style:f,title:g="",type:w="checkbox",label:E,children:S,as:m="input",...p},y)=>{e=ee(e,"form-check"),n=ee(n,"form-switch");const{controlId:C}=h.useContext(Qn),x=h.useMemo(()=>({controlId:t||C}),[C,t]),k=!S&&E!=null&&E!==!1||VP(S,rh),N=v(jS,{...p,type:w==="switch"?"checkbox":w,ref:y,isValid:o,isInvalid:a,disabled:s,as:m});return v(Qn.Provider,{value:x,children:v("div",{style:f,className:z(d,k&&e,r&&`${e}-inline`,i&&`${e}-reverse`,w==="switch"&&n),children:S||M(un,{children:[N,k&&v(rh,{title:g,children:E}),u&&v(BS,{type:c,tooltip:l,children:u})]})})})});zS.displayName="FormCheck";const vu=Object.assign(zS,{Input:jS,Label:rh}),HS=h.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...d},f)=>{const{controlId:g}=h.useContext(Qn);t=ee(t,"form-control");let w;return l?w={[`${t}-plaintext`]:!0}:w={[t]:!0,[`${t}-${n}`]:n},v(c,{...d,type:e,size:r,ref:f,readOnly:u,id:i||g,className:z(s,w,o&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});HS.displayName="FormControl";const cM=Object.assign(HS,{Feedback:BS}),dM=ze("form-floating"),Dm=h.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=h.useMemo(()=>({controlId:t}),[t]);return v(Qn.Provider,{value:i,children:v(e,{...n,ref:r})})});Dm.displayName="FormGroup";const fM={column:!1,visuallyHidden:!1},Rm=h.forwardRef(({as:t="label",bsPrefix:e,column:n,visuallyHidden:r,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=h.useContext(Qn);e=ee(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=z(i,e,r&&"visually-hidden",n&&u);return s=s||l,n?v(pn,{ref:a,as:"label",className:c,htmlFor:s,...o}):v(t,{ref:a,className:c,htmlFor:s,...o})});Rm.displayName="FormLabel";Rm.defaultProps=fM;const WS=h.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=h.useContext(Qn);return t=ee(t,"form-range"),v("input",{...r,type:"range",ref:i,className:z(e,t),id:n||s})});WS.displayName="FormRange";const qS=h.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:u}=h.useContext(Qn);return t=ee(t,"form-select"),v("select",{...a,size:n,ref:l,className:z(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||u})});qS.displayName="FormSelect";const KS=h.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=ee(t,"form-text"),v(n,{...i,ref:s,className:z(e,t,r&&"text-muted")})));KS.displayName="FormText";const GS=h.forwardRef((t,e)=>v(vu,{...t,ref:e,type:"switch"}));GS.displayName="Switch";const hM=Object.assign(GS,{Input:vu.Input,Label:vu.Label}),QS=h.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=ee(t,"form-floating"),M(Dm,{ref:o,className:z(e,t),controlId:r,...s,children:[n,v("label",{htmlFor:r,children:i})]})));QS.displayName="FloatingLabel";const pM={_ref:on.any,validated:on.bool,as:on.elementType},Om=h.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>v(n,{...r,ref:i,className:z(t,e&&"was-validated")}));Om.displayName="Form";Om.propTypes=pM;const ge=Object.assign(Om,{Group:Dm,Control:cM,Floating:dM,Check:vu,Switch:hM,Label:Rm,Text:KS,Range:WS,Select:qS,FloatingLabel:QS});var sl;function ky(t){if((!sl&&sl!==0||t)&&ks){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),sl=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return sl}const mM=ze("modal-body"),XS=h.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},u)=>{t=ee(t,"modal");const c=`${t}-dialog`,d=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return v("div",{...l,ref:u,className:z(c,e,i&&`${t}-${i}`,r&&`${c}-centered`,a&&`${c}-scrollable`,s&&d),children:v("div",{className:z(`${t}-content`,n),children:o})})});XS.displayName="ModalDialog";const YS=XS,gM=ze("modal-footer"),vM={closeLabel:"Close",closeButton:!1},Am=h.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=ee(t,"modal-header"),v(tS,{ref:r,...n,className:z(e,t)})));Am.displayName="ModalHeader";Am.defaultProps=vM;const yM=Am,wM=gc("h4"),EM=ze("modal-title",{Component:wM}),CM={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:YS};function SM(t){return v(dm,{...t,timeout:null})}function xM(t){return v(dm,{...t,timeout:null})}const Lm=h.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o,"aria-labelledby":a,"aria-describedby":l,"aria-label":u,show:c,animation:d,backdrop:f,keyboard:g,onEscapeKeyDown:w,onShow:E,onHide:S,container:m,autoFocus:p,enforceFocus:y,restoreFocus:C,restoreFocusOptions:x,onEntered:k,onExit:N,onExiting:T,onEnter:A,onEntering:R,onExited:F,backdropClassName:V,manager:H,...ie},J)=>{const[te,ue]=h.useState({}),[D,P]=h.useState(!1),O=h.useRef(!1),Z=h.useRef(!1),Y=h.useRef(null),[he,Se]=B1(),K=xa(J,Se),pe=Re(S),ke=lp();t=ee(t,"modal");const Et=h.useMemo(()=>({onHide:pe}),[pe]);function _t(){return H||rS({isRTL:ke})}function He(se){if(!ks)return;const Yt=_t().getScrollbarWidth()>0,br=se.scrollHeight>Ta(se).documentElement.clientHeight;ue({paddingRight:Yt&&!br?ky():void 0,paddingLeft:!Yt&&br?ky():void 0})}const $e=Re(()=>{he&&He(he.dialog)});am(()=>{Jf(window,"resize",$e),Y.current==null||Y.current()});const Ft=()=>{O.current=!0},ae=se=>{O.current&&he&&se.target===he.dialog&&(Z.current=!0),O.current=!1},Bt=()=>{P(!0),Y.current=KC(he.dialog,()=>{P(!1)})},Ns=se=>{se.target===se.currentTarget&&Bt()},vi=se=>{if(f==="static"){Ns(se);return}if(Z.current||se.target!==se.currentTarget){Z.current=!1;return}S==null||S()},yi=se=>{g?w==null||w(se):(se.preventDefault(),f==="static"&&Bt())},Is=(se,Yt)=>{se&&He(se),A==null||A(se,Yt)},_s=se=>{Y.current==null||Y.current(),N==null||N(se)},Xt=(se,Yt)=>{R==null||R(se,Yt),im(window,"resize",$e)},Jn=se=>{se&&(se.style.display=""),F==null||F(se),Jf(window,"resize",$e)},Mr=h.useCallback(se=>v("div",{...se,className:z(`${t}-backdrop`,V,!d&&"show")}),[d,V,t]),dn={...n,...te};dn.display="block";const Zn=se=>v("div",{role:"dialog",...se,style:dn,className:z(e,t,D&&`${t}-static`,!d&&"show"),onClick:f?vi:void 0,onMouseUp:ae,"aria-label":u,"aria-labelledby":a,"aria-describedby":l,children:v(o,{...ie,onMouseDown:Ft,className:r,contentClassName:i,children:s})});return v(hm.Provider,{value:Et,children:v(ZC,{show:c,ref:K,backdrop:f,container:m,keyboard:!0,autoFocus:p,enforceFocus:y,restoreFocus:C,restoreFocusOptions:x,onEscapeKeyDown:yi,onShow:E,onHide:S,onEnter:Is,onEntering:Xt,onEntered:k,onExit:_s,onExiting:T,onExited:Jn,manager:_t(),transition:d?SM:void 0,backdropTransition:d?xM:void 0,renderBackdrop:Mr,renderDialog:Zn})})});Lm.displayName="Modal";Lm.defaultProps=CM;const Rn=Object.assign(Lm,{Body:mM,Header:yM,Title:EM,Footer:gM,Dialog:YS,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),kn=h.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ee(t,"row"),o=N1(),a=I1(),l=`${s}-cols`,u=[];return o.forEach(c=>{const d=r[c];delete r[c];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const g=c!==a?`-${c}`:"";f!=null&&u.push(`${l}${g}-${f}`)}),v(n,{ref:i,...r,className:z(e,s,...u)})});kn.displayName="Row";const TM=h.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:i,hover:s,size:o,variant:a,responsive:l,...u},c)=>{const d=ee(t,"table"),f=z(e,d,a&&`${d}-${a}`,o&&`${d}-${o}`,n&&`${d}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${d}-bordered`,i&&`${d}-borderless`,s&&`${d}-hover`),g=v("table",{...u,className:f,ref:c});if(l){let w=`${d}-responsive`;return typeof l=="string"&&(w=`${w}-${l}`),v("div",{className:w,children:g})}return g}),kM=TM,gt=h.createContext(),NM=({children:t})=>{const[e,n]=h.useState([]),[r,i]=h.useState(0),s=ro(In,"carts"),o=async()=>{const p=(await Yd(s)).docs.map(y=>({...y.data(),id:y.id}));n(p),g(p),console.log(e)},[a,l]=h.useState(!1),u=()=>{l(!0)},c=m=>{const p=document.querySelectorAll(".qty");for(const y of p)if(y.id===m)return y.value;return!1},d=async(m,p)=>{if(p.find(C=>C.product===m.id))console.log("El producto ya existe en el carrito"),console.log("product.id: "+m.id),console.log("product.title: "+m.title),console.log("product.price: "+m.price),console.log("product.quantity: "+c(m.id)),(await Yd(H$(ro(In,"carts"),W$("product","==",m.id)))).forEach(x=>{const k=io(In,"carts",x.id),N={quantity:parseInt(x.data().quantity)+parseInt(c(m.id))};J$(k,N)});else{console.log("No existe el producto en el carrito");const C=ro(In,"carts"),x={product:m.id,title:m.title,price:m.price,quantity:c(m.id)};await k1(C,x),console.log("product.id: "+m.id),console.log("product.title: "+m.title),console.log("product.price: "+m.price),console.log("product.quantity: "+c(m.id))}u(),o(),g(p)},f=e.reduce((m,p)=>m+parseInt(p.quantity),0),g=m=>{const p=m.reduce((y,C)=>y+parseInt(C.quantity),0);i(p),console.log(r)},w=e.reduce((m,p)=>m+parseInt(p.quantity)*parseFloat(p.price),0).toFixed(2),E=async m=>{const p=io(In,"carts",m);await Kg(p),o()},S=()=>{e.forEach(m=>{const p=io(In,"carts",m.id);Kg(p)}),o()};return v(gt.Provider,{value:{carts:e,setCarts:n,cartQuantity:r,setCartQuantity:i,smShow:a,setSmShow:l,updateCartQuantity:g,addToCart:d,getCartList:o,itemsQuantity:f,cartTotal:w,removeItem:E,emptyCart:S},children:t})},Ny=({product:t,carts:e})=>{const{addToCart:n}=h.useContext(gt),{smShow:r}=h.useContext(gt),{setSmShow:i}=h.useContext(gt);return M(un,{children:[M(Je,{className:"m-2",children:[M(Je.Body,{children:[v(Je.Img,{className:"img-fluid",variant:"top",src:t.image}),v(Je.Title,{className:"fs-5 text-secondary",children:t.title}),M(Je.Title,{className:"p-1 fs-4 fw-bold text-secondary",children:["$ ",t.price]}),v(tr,{to:`${t.id}`,children:v(rn,{className:"mx-1 w-75 btn",variant:"success",children:"Ver mÃ¡s"})},t.id)]}),M(Je.Footer,{className:"d-flex px-1",children:[M(ge.Select,{className:"mx-1 w-50 qty",id:t.id,onChange:()=>getSelectValue(t.id),children:[v("option",{value:"1",children:"1"}),v("option",{value:"2",children:"2"}),v("option",{value:"3",children:"3"}),v("option",{value:"4",children:"4"}),v("option",{value:"5",children:"5"}),v("option",{value:"6",children:"6"})]}),v(rn,{className:"mx-1 w-75 btn",variant:"success",id:t.id,onClick:()=>n(t,e),children:"Agregar al carrito"})]})]}),M(Rn,{size:"sm",show:r,onHide:()=>i(!1),"aria-labelledby":"example-modal-sizes-title-sm",children:[v(Rn.Header,{closeButton:!0,children:v(Rn.Title,{id:"example-modal-sizes-title-sm",children:"Muchas gracias!"})}),v(Rn.Body,{className:"text-center",children:"El producto a sido agregado al carrito!"})]})]})},IM=({products:t,category:e,carts:n})=>{const r=ia().pathname.split("/")[3];if(console.log(r),r=="todos"){const i=t.sort((s,o)=>s.category<o.category?-1:s.category>o.category?1:0);return v("div",{className:"d-flex justify-content-center flex-wrap p-4",children:i.map(s=>v(Ny,{product:s,carts:n},s.id))})}else return v("div",{className:"d-flex justify-content-center flex-wrap p-4",children:t.filter(i=>i.category===e).map(i=>v(Ny,{product:i,carts:n},i.id))})};function _M({products:t,carts:e}){const{category:n}=vd();return v(IM,{products:t,category:n,carts:e})}const $M="_container_147rw_1",DM={container:$M},RM=({getProduct:t,product:e,id:n})=>(h.useEffect(()=>{t(n)},[]),M("div",{className:DM.container,children:[v("img",{className:"img-fluid",src:e.image}),v("h4",{children:e.title}),v("p",{children:e.description}),M("h5",{children:["$ ",e.price]}),v("a",{href:"javascript:history.go(-1)",children:v("button",{className:"m-1 btn btn-success",children:"Volver"})})]})),OM=()=>{const{category:t}=vd(),{id:e}=vd(),[n,r]=h.useState({});return v("div",{children:v(RM,{category:t,getProduct:async s=>{const o=io(In,"products",s),a=await Y$(o);if(a.exists())r(a.data());else return null},product:n,id:e})})},AM=({cart:t,productTotal:e})=>{const{removeItem:n}=h.useContext(gt);return v("div",{className:"w-100 d-flex justify-content-center align-items-center",children:v(Je,{className:"w-75 m-1",children:M(Je.Body,{className:"p-1 d-flex justify-content-center align-items-center",children:[v(Je.Text,{className:"fs-5 my-0 px-2 w-50 text-start",children:t.title}),M(Je.Text,{className:"fs-5 my-0 w-25",children:["$ ",t.price]}),v(Je.Text,{className:"fs-5 my-0 w-25",children:t.quantity}),M(Je.Text,{className:"fs-5 my-0 w-25 fw-bold",children:["$ ",e()]}),v(Je.Text,{className:"fs-5 my-0 w-25",children:v(LP,{onClick:()=>n(t.id)})})]})})})};function LM({carts:t}){const{getCartList:e}=h.useContext(gt),{itemsQuantity:n}=h.useContext(gt),{cartTotal:r}=h.useContext(gt),{emptyCart:i}=h.useContext(gt);return h.useEffect(()=>{e()},[]),t.length===0?v("h2",{className:"m-4",children:"Ooopss... el carrito esta vacÃ­o"}):M("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[v("h2",{className:"mt-4 mb-5",children:"Carrito de compra"}),t.map(s=>v(AM,{cart:s,productTotal:()=>(parseInt(s.quantity)*parseFloat(s.price)).toFixed(2)},s.id)),v(Je,{className:"w-75",children:M(Je.Footer,{className:"text-end",children:[M(Je.Text,{className:"fs-5 fw-bold my-0",children:["Cantidad: ",n," items"]}),M(Je.Text,{className:"fs-3 fw-bold my-0",children:["Valor total: $ ",r]})]})}),M("div",{className:"m-5 d-flex flex-row justify-content-center",children:[v(rn,{className:"mx-1 btn",variant:"success",onClick:()=>i(),children:"Vaciar carrito"}),v(tr,{to:"/cursoReact/purchase",children:v(rn,{className:"mx-1 btn",variant:"success",children:"Continuar pedido"})})]})]})}const PM="/cursoReact/assets/footer_img-90f211d2.png",MM="/cursoReact/assets/ubicacion-f764f71d.png",bM="/cursoReact/assets/telefono-e3e355ce.png",FM="/cursoReact/assets/facebook-82e3cdd0.png",BM="/cursoReact/assets/instagram-3438d735.png",UM=()=>v("footer",{className:"bg",children:v("div",{className:"container-fluid",children:M("div",{className:"row",children:[v("div",{className:"col text-start p-0",children:v("img",{className:"",src:PM,width:"98%"})}),M("div",{className:"col d-flex flex-column justify-content-center",children:[M("div",{className:"row d-flex flex-column",children:[M("div",{className:"col text-start p-2 d-flex align-items-start",children:[v("img",{className:"img-fluid",src:MM,width:"7%",alt:"ubicaciÃ³n"}),M("div",{className:"text-start p-2",children:[v("h4",{className:"text-secondary text-wrap fs-5 fw-bold",children:"Av. San MartÃ­n 1251"}),v("h4",{className:"text-secondary text-wrap fs-5 fw-bold",children:"Laprida, Buenos Aires."})]})]}),M("div",{className:"col text-start p-2 d-flex align-items-start",children:[v("img",{className:"img-fluid",src:bM,width:"7%",alt:"ubicaciÃ³n"}),v("span",{className:"text-secondary text-wrap px-2 fs-5 fw-bold",children:" 2284 304109"})]})]}),v("div",{className:"row",children:M("div",{className:"col text-start box me-5",children:[v("img",{className:"img-fluid m-1",src:FM,width:"7%",alt:"facebook"}),v("img",{className:"img-fluid m-1",src:BM,width:"7%",alt:"instagram"}),v("span",{className:"text-secondary m-1 text-wrap fs-5 fw-bold",children:"@yummy.helados"})]})})]})]})})}),jM=({carts:t})=>{const{cartQuantity:e}=h.useContext(gt),{cartTotal:n}=h.useContext(gt),{emptyCart:r}=h.useContext(gt),[i,s]=h.useState(!1),[o,a]=h.useState(!1),[l,u]=h.useState(""),[c,d]=h.useState(""),[f,g]=h.useState(""),[w,E]=h.useState(""),[S,m]=h.useState(""),[p,y]=h.useState(""),[C,x]=h.useState(""),k=T=>{T.preventDefault(),s(!0)},N=async T=>{if(T){const A={a_Usuario:["Nombre: "+l,"Apellido: "+c,"E-mail: "+f,"DirecciÃ³n: "+w,"Ciudad: "+S,"Provincia: "+p],b_Pago:C,c_Cart:t,d_Items:e,e_Total:n},R=ro(In,"orders");await k1(R,A).then(({id:F})=>alert("Numero de orden: "+F)),console.log("Compra realizada con Ã©xito"),r(),u(""),d(""),g(""),E(""),m(""),y(""),s(!1),a(!0)}else s(!1)};return M(un,{children:[v("div",{className:"w-100",children:v("h2",{className:"mt-4 mb-5",children:"Finaliza tu compra"})}),M("div",{className:"row d-flex",children:[M("div",{className:"col-7 ms-5 text-start",children:[v("h5",{className:"mb-5",children:"Para finalizar el pedido completa tus datos personales:"}),M(ge,{className:"d-flex flex-column",onSubmit:k,children:[M(ge.Group,{as:kn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"Nombre: "}),v(pn,{sm:8,children:v(ge.Control,{type:"text",value:l,onChange:T=>u(T.target.value),required:!0})})]}),M(ge.Group,{as:kn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"Apellido: "}),v(pn,{sm:8,children:v(ge.Control,{type:"text",value:c,onChange:T=>d(T.target.value),required:!0})})]}),M(ge.Group,{as:kn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"E-mail: "}),v(pn,{sm:8,children:v(ge.Control,{type:"email",value:f,onChange:T=>g(T.target.value),required:!0})})]}),M(ge.Group,{as:kn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"DirecciÃ³n: "}),v(pn,{sm:8,children:v(ge.Control,{type:"text",min:"1",value:w,onChange:T=>E(T.target.value),required:!0})})]}),M(ge.Group,{as:kn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"Ciudad: "}),v(pn,{sm:8,children:v(ge.Control,{type:"text",min:"1",value:S,onChange:T=>m(T.target.value),required:!0})})]}),M(ge.Group,{as:kn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"Provincia: "}),v(pn,{sm:8,children:v(ge.Control,{type:"text",min:"1",value:p,onChange:T=>y(T.target.value),required:!0})})]}),M(ge.Group,{as:kn,className:"mb-3 align-items-center",children:[v(ge.Label,{className:"text-start",column:!0,sm:5,children:"Selecciona un mÃ©todo de pago: "}),["radio"].map(T=>v(pn,{sm:5,children:M("div",{className:"d-flex flex-column align-items-start",children:[v(ge.Check,{inline:!0,label:"Transferencia bancaria",name:"group1",type:T,id:`inline-${T}-1`,value:"Transferencia bancaria",onChange:A=>x(A.target.value)}),v(ge.Check,{inline:!0,label:"Tarjeta de crÃ©dito",name:"group1",type:T,id:`inline-${T}-1`,value:"Tarjeta de crÃ©dito",onChange:A=>x(A.target.value)}),v(ge.Check,{inline:!0,label:"Efectivo al momento de la entrega",name:"group1",type:T,id:`inline-${T}-1`,value:"Efectivo al momento de la entrega",onChange:A=>x(A.target.value)})]},`inline-${T}`)}))]}),v(ge.Group,{as:kn,className:"my-4",children:M(pn,{sm:10,className:"d-flex justify-content-end ",children:[v(rn,{className:"mx-1 btn btn-success",type:"button",onClick:()=>{window.location.href(history.go(-1))},children:"Volver"}),v(rn,{className:"mx-1 btn btn-success",type:"submit",onClick:k,children:"Finalizar pedido"})]})})]})]}),M("div",{className:"col-4 me-5 text-start",children:[v("h5",{className:"mb-5",children:"Resumen de tu pedido:"}),M(kM,{children:[v("thead",{children:M("tr",{children:[v("th",{className:"w-50 text-start",children:"Items"}),v("th",{className:"w-25 text-center",children:"Unidades"}),v("th",{className:"w-25 text-end",children:"Subtotal"})]})}),t.map(T=>{const A=()=>(parseInt(T.quantity)*parseFloat(T.price)).toFixed(2);return v("tbody",{children:M("tr",{children:[v("td",{className:"w-50 text-start",children:T.title}),v("td",{className:"w-25 text-center",children:T.quantity}),M("td",{className:"w-25 text-end",children:["$ ",A()]})]})})}),v("tbody",{children:M("tr",{children:[v("th",{className:"w-50 text-start",children:"TOTAL"}),v("th",{className:"w-25 text-center",children:e}),M("th",{className:"w-25 text-end",children:["$ ",n]})]})})]})]})]}),v("div",{className:"modal show",style:{display:"block",position:"initial"},children:M(Rn,{show:i,onHide:()=>s(!1),children:[v(Rn.Header,{closeButton:!0,children:v(Rn.Title,{children:"Muchas gracias por realizar tu pedido!"})}),v(Rn.Body,{children:v("p",{children:"En breves nos pondremos en contacto para finalizar la compra."})}),M(Rn.Footer,{children:[v(rn,{variant:"success",onClick:()=>N(!0),children:"Realizar pedido"}),v(rn,{variant:"secondary",onClick:()=>N(!1),children:"Cancelar"})]})]})}),o&&v(vT,{to:"../cursoReact/"})]})};function VM(){const[t,e]=h.useState([]),n=ro(In,"products"),r=async()=>{const c=(await Yd(n)).docs.map(d=>({...d.data(),id:d.id}));e(c),l(!1)},{carts:i}=h.useContext(gt),{getCartList:s}=h.useContext(gt),{cartQuantity:o}=h.useContext(gt);h.useEffect(()=>{r(),s()},[]);const[a,l]=h.useState(!0);return a?M(un,{children:[v(PS,{animation:"border",role:"status",children:v("span",{className:"visually-hidden",children:"Loading..."})}),v("h2",{className:"m-4",children:"Cargando..."})]}):M("div",{className:"App",children:[v(MP,{cartQuantity:o}),M(wT,{children:[v(Fr,{path:"/cursoReact/",element:v(QP,{})}),v(Fr,{path:"/cursoReact/productos/:category",element:v(_M,{products:t,carts:i})}),v(Fr,{path:"/cursoReact/productos/:category/:id",element:v(OM,{})}),v(Fr,{path:"/cursoReact/carrito",element:v(LM,{carts:i})}),v(Fr,{path:"/cursoReact/purchase",element:v(jM,{carts:i})}),v(Fr,{path:"*",element:v("h4",{className:"m-4",children:"404 Oops..."})})]}),v(UM,{})]})}var ih={},Iy=Hl;ih.createRoot=Iy.createRoot,ih.hydrateRoot=Iy.hydrateRoot;ih.createRoot(document.getElementById("root")).render(v(Ue.StrictMode,{children:v(NM,{children:v(TT,{children:v(VM,{})})})}));
