function QS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ky(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var po={},XS={get exports(){return po},set exports(e){po=e}},vu={},h={},YS={get exports(){return h},set exports(e){h=e}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea=Symbol.for("react.element"),JS=Symbol.for("react.portal"),ZS=Symbol.for("react.fragment"),ex=Symbol.for("react.strict_mode"),tx=Symbol.for("react.profiler"),nx=Symbol.for("react.provider"),rx=Symbol.for("react.context"),ix=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ox=Symbol.for("react.memo"),ax=Symbol.for("react.lazy"),Lm=Symbol.iterator;function lx(e){return e===null||typeof e!="object"?null:(e=Lm&&e[Lm]||e["@@iterator"],typeof e=="function"?e:null)}var Ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iy=Object.assign,_y={};function ds(e,t,n){this.props=e,this.context=t,this.refs=_y,this.updater=n||Ny}ds.prototype.isReactComponent={};ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $y(){}$y.prototype=ds.prototype;function sh(e,t,n){this.props=e,this.context=t,this.refs=_y,this.updater=n||Ny}var oh=sh.prototype=new $y;oh.constructor=sh;Iy(oh,ds.prototype);oh.isPureReactComponent=!0;var Pm=Array.isArray,Dy=Object.prototype.hasOwnProperty,ah={current:null},Ry={key:!0,ref:!0,__self:!0,__source:!0};function Oy(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Dy.call(t,r)&&!Ry.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ea,type:e,key:s,ref:o,props:i,_owner:ah.current}}function ux(e,t){return{$$typeof:ea,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ea}function cx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mm=/\/+/g;function Ec(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cx(""+e.key):t.toString(36)}function sl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ea:case JS:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ec(o,0):r,Pm(i)?(n="",e!=null&&(n=e.replace(Mm,"$&/")+"/"),sl(i,t,n,"",function(u){return u})):i!=null&&(lh(i)&&(i=ux(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Mm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Pm(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Ec(s,a);o+=sl(s,t,n,l,i)}else if(l=lx(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Ec(s,a++),o+=sl(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ra(e,t,n){if(e==null)return e;var r=[],i=0;return sl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function dx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},ol={transition:null},fx={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:ol,ReactCurrentOwner:ah};re.Children={map:Ra,forEach:function(e,t,n){Ra(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ra(e,function(){t++}),t},toArray:function(e){return Ra(e,function(t){return t})||[]},only:function(e){if(!lh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=ds;re.Fragment=ZS;re.Profiler=tx;re.PureComponent=sh;re.StrictMode=ex;re.Suspense=sx;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fx;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Iy({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ah.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Dy.call(t,l)&&!Ry.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ea,type:e.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(e){return e={$$typeof:rx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nx,_context:e},e.Consumer=e};re.createElement=Oy;re.createFactory=function(e){var t=Oy.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:ix,render:e}};re.isValidElement=lh;re.lazy=function(e){return{$$typeof:ax,_payload:{_status:-1,_result:e},_init:dx}};re.memo=function(e,t){return{$$typeof:ox,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=ol.transition;ol.transition={};try{e()}finally{ol.transition=t}};re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};re.useCallback=function(e,t){return vt.current.useCallback(e,t)};re.useContext=function(e){return vt.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};re.useEffect=function(e,t){return vt.current.useEffect(e,t)};re.useId=function(){return vt.current.useId()};re.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return vt.current.useMemo(e,t)};re.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};re.useRef=function(e){return vt.current.useRef(e)};re.useState=function(e){return vt.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return vt.current.useTransition()};re.version="18.2.0";(function(e){e.exports=re})(YS);const Be=ky(h),pd=QS({__proto__:null,default:Be},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=h,px=Symbol.for("react.element"),mx=Symbol.for("react.fragment"),gx=Object.prototype.hasOwnProperty,vx=hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yx={key:!0,ref:!0,__self:!0,__source:!0};function Ay(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gx.call(t,r)&&!yx.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:px,type:e,key:s,ref:o,props:i,_owner:vx.current}}vu.Fragment=mx;vu.jsx=Ay;vu.jsxs=Ay;(function(e){e.exports=vu})(XS);const an=po.Fragment,v=po.jsx,M=po.jsxs;/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mo.apply(this,arguments)}var or;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(or||(or={}));const bm="popstate";function wx(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return md("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Sl(i)}return Sx(t,n,null,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ex(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cx(){return Math.random().toString(36).substr(2,8)}function Fm(e,t){return{usr:e.state,key:e.key,idx:t}}function md(e,t,n,r){return n===void 0&&(n=null),mo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fs(t):t,{state:n,key:t&&t.key||r||Cx()})}function Sl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Sx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=or.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(mo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){let C=or.Pop,g=c();if(g!=null){let p=g-u;a=C,u=g,l&&l({action:a,location:E.location,delta:p})}else Ex(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function f(C,g){a=or.Push;let p=md(E.location,C,g);n&&n(p,C),u=c()+1;let w=Fm(p,u),S=E.createHref(p);try{o.pushState(w,"",S)}catch{i.location.assign(S)}s&&l&&l({action:a,location:E.location,delta:1})}function m(C,g){a=or.Replace;let p=md(E.location,C,g);n&&n(p,C),u=c();let w=Fm(p,u),S=E.createHref(p);o.replaceState(w,"",S),s&&l&&l({action:a,location:E.location,delta:0})}function y(C){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof C=="string"?C:Sl(C);return je(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let E={get action(){return a},get location(){return e(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bm,d),l=C,()=>{i.removeEventListener(bm,d),l=null}},createHref(C){return t(i,C)},createURL:y,encodeLocation(C){let g=y(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(C){return o.go(C)}};return E}var Bm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bm||(Bm={}));function xx(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?fs(t):t,i=My(r.pathname||"/",n);if(i==null)return null;let s=Ly(e);Tx(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Ax(s[a],Mx(i));return o}function Ly(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=cr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ly(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Rx(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Py(s.path))i(s,o,l)}),t}function Py(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Py(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Tx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ox(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kx=/^:\w+$/,Nx=3,Ix=2,_x=1,$x=10,Dx=-2,Um=e=>e==="*";function Rx(e,t){let n=e.split("/"),r=n.length;return n.some(Um)&&(r+=Dx),t&&(r+=Ix),n.filter(i=>!Um(i)).reduce((i,s)=>i+(kx.test(s)?Nx:s===""?_x:$x),r)}function Ox(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Ax(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=Lx({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:cr([i,c.pathname]),pathnameBase:Ux(cr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=cr([i,c.pathnameBase]))}return s}function Lx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Px(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=bx(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Px(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),uh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Mx(e){try{return decodeURI(e)}catch(t){return uh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bx(e,t){try{return decodeURIComponent(e)}catch(n){return uh(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function My(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function uh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?fs(e):e;return{pathname:n?n.startsWith("/")?n:Bx(n,t):t,search:jx(r),hash:Vx(i)}}function Bx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function by(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Fy(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=fs(e):(i=mo({},e),je(!i.pathname||!i.pathname.includes("?"),Cc("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),Cc("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),Cc("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=Fx(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const cr=e=>e.join("/").replace(/\/\/+/g,"/"),Ux=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class zx{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Hx(e){return e instanceof zx}const Wx=["post","put","patch","delete"];[...Wx];/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gd.apply(this,arguments)}function qx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Kx=typeof Object.is=="function"?Object.is:qx,{useState:Gx,useEffect:Qx,useLayoutEffect:Xx,useDebugValue:Yx}=pd;function Jx(e,t,n){const r=t(),[{inst:i},s]=Gx({inst:{value:r,getSnapshot:t}});return Xx(()=>{i.value=r,i.getSnapshot=t,Sc(i)&&s({inst:i})},[e,r,t]),Qx(()=>(Sc(i)&&s({inst:i}),e(()=>{Sc(i)&&s({inst:i})})),[e]),Yx(r),r}function Sc(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!Kx(n,r)}catch{return!0}}function Zx(e,t,n){return t()}const eT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tT=!eT,nT=tT?Zx:Jx;"useSyncExternalStore"in pd&&(e=>e.useSyncExternalStore)(pd);const By=h.createContext(null),Uy=h.createContext(null),yu=h.createContext(null),wu=h.createContext(null),ci=h.createContext({outlet:null,matches:[]}),jy=h.createContext(null);function rT(e,t){let{relative:n}=t===void 0?{}:t;ta()||je(!1);let{basename:r,navigator:i}=h.useContext(yu),{hash:s,pathname:o,search:a}=Vy(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:cr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ta(){return h.useContext(wu)!=null}function na(){return ta()||je(!1),h.useContext(wu).location}function iT(){ta()||je(!1);let{basename:e,navigator:t}=h.useContext(yu),{matches:n}=h.useContext(ci),{pathname:r}=na(),i=JSON.stringify(by(n).map(a=>a.pathnameBase)),s=h.useRef(!1);return h.useEffect(()=>{s.current=!0}),h.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let u=Fy(a,JSON.parse(i),r,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:cr([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,i,r])}function vd(){let{matches:e}=h.useContext(ci),t=e[e.length-1];return t?t.params:{}}function Vy(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=h.useContext(ci),{pathname:i}=na(),s=JSON.stringify(by(r).map(o=>o.pathnameBase));return h.useMemo(()=>Fy(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function sT(e,t){ta()||je(!1);let{navigator:n}=h.useContext(yu),r=h.useContext(Uy),{matches:i}=h.useContext(ci),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=na(),u;if(t){var c;let E=typeof t=="string"?fs(t):t;a==="/"||(c=E.pathname)!=null&&c.startsWith(a)||je(!1),u=E}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",m=xx(e,{pathname:f}),y=uT(m&&m.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:cr([a,n.encodeLocation?n.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?a:cr([a,n.encodeLocation?n.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,r||void 0);return t&&y?h.createElement(wu.Provider,{value:{location:gd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:or.Pop}},y):y}function oT(){let e=hT(),t=Hx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unhandled Thrown Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:i},n):null,h.createElement("p",null,"💿 Hey developer 👋"),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:s},"errorElement")," props on ",h.createElement("code",{style:s},"<Route>")))}class aT extends h.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?h.createElement(ci.Provider,{value:this.props.routeContext},h.createElement(jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lT(e){let{routeContext:t,match:n,children:r}=e,i=h.useContext(By);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(ci.Provider,{value:t},r)}function uT(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||je(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=n?o.route.errorElement||h.createElement(oT,null):null,c=t.concat(r.slice(0,a+1)),d=()=>h.createElement(lT,{match:o,routeContext:{outlet:s,matches:c}},l?u:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?h.createElement(aT,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var jm;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(jm||(jm={}));var xl;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(xl||(xl={}));function cT(e){let t=h.useContext(Uy);return t||je(!1),t}function dT(e){let t=h.useContext(ci);return t||je(!1),t}function fT(e){let t=dT(),n=t.matches[t.matches.length-1];return n.route.id||je(!1),n.route.id}function hT(){var e;let t=h.useContext(jy),n=cT(xl.UseRouteError),r=fT(xl.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Fr(e){je(!1)}function pT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=or.Pop,navigator:s,static:o=!1}=e;ta()&&je(!1);let a=t.replace(/^\/*/,"/"),l=h.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=fs(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:m="default"}=r,y=h.useMemo(()=>{let E=My(u,a);return E==null?null:{pathname:E,search:c,hash:d,state:f,key:m}},[a,u,c,d,f,m]);return y==null?null:h.createElement(yu.Provider,{value:l},h.createElement(wu.Provider,{children:n,value:{location:y,navigationType:i}}))}function mT(e){let{children:t,location:n}=e,r=h.useContext(By),i=r&&!t?r.router.routes:yd(t);return sT(i,n)}var Vm;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Vm||(Vm={}));new Promise(()=>{});function yd(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,i)=>{if(!h.isValidElement(r))return;if(r.type===h.Fragment){n.push.apply(n,yd(r.props.children,t));return}r.type!==Fr&&je(!1),!r.props.index||!r.props.children||je(!1);let s=[...t,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=yd(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wd.apply(this,arguments)}function gT(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function vT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yT(e,t){return e.button===0&&(!t||t==="_self")&&!vT(e)}const wT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function ET(e){let{basename:t,children:n,window:r}=e,i=h.useRef();i.current==null&&(i.current=wx({window:r,v5Compat:!0}));let s=i.current,[o,a]=h.useState({action:s.action,location:s.location});return h.useLayoutEffect(()=>s.listen(a),[s]),h.createElement(pT,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}const er=h.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=t,d=gT(t,wT),f=rT(u,{relative:i}),m=CT(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function y(E){r&&r(E),E.defaultPrevented||m(E)}return h.createElement("a",wd({},d,{href:f,onClick:s?r:y,ref:n,target:l}))});var zm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(zm||(zm={}));var Hm;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hm||(Hm={}));function CT(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=iT(),l=na(),u=Vy(e,{relative:o});return h.useCallback(c=>{if(yT(c,n)){c.preventDefault();let d=r!==void 0?r:Sl(l)===Sl(u);a(e,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,e,s,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ST=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Hy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[c],n[d],n[f],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ST(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},xT=function(e){const t=zy(e);return Hy.encodeByteArray(t,!0)},Tl=function(e){return xT(e).replace(/\./g,"")},TT=function(e){try{return Hy.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=()=>kT().__FIREBASE_DEFAULTS__,IT=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},_T=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&TT(e[1]);return t&&JSON.parse(t)},Wy=()=>{try{return NT()||IT()||_T()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},$T=e=>{var t,n;return(n=(t=Wy())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},DT=e=>{const t=$T(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},RT=()=>{var e;return(e=Wy())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Tl(JSON.stringify(n)),Tl(JSON.stringify(o)),a].join(".")}function LT(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="FirebaseError";class hs extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=MT,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qy.prototype.create)}}class qy{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?bT(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new hs(i,a,r)}}function bT(e,t){return e.replace(FT,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const FT=/\{\$([^}]+)}/g;function Ed(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Wm(s)&&Wm(o)){if(!Ed(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(e){return e&&e._delegate?e._delegate:e}class go{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new OT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jT(t))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Br){return this.instances.has(t)}getOptions(t=Br){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UT(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Br){return this.component?this.component.multipleInstances?t:Br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UT(e){return e===Br?void 0:e}function jT(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new BT(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ce||(ce={}));const zT={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},HT=ce.INFO,WT={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},qT=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=WT[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ky{constructor(t){this.name=t,this._logLevel=HT,this._logHandler=qT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...t),this._logHandler(this,ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...t),this._logHandler(this,ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...t),this._logHandler(this,ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...t),this._logHandler(this,ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...t),this._logHandler(this,ce.ERROR,...t)}}const KT=(e,t)=>t.some(n=>e instanceof n);let qm,Km;function GT(){return qm||(qm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QT(){return Km||(Km=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gy=new WeakMap,Cd=new WeakMap,Qy=new WeakMap,xc=new WeakMap,ch=new WeakMap;function XT(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(dr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Gy.set(n,e)}).catch(()=>{}),ch.set(t,e),t}function YT(e){if(Cd.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Cd.set(e,t)}let Sd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Cd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Qy.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function JT(e){Sd=e(Sd)}function ZT(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Tc(this),t,...n);return Qy.set(r,t.sort?t.sort():[t]),dr(r)}:QT().includes(e)?function(...t){return e.apply(Tc(this),t),dr(Gy.get(this))}:function(...t){return dr(e.apply(Tc(this),t))}}function ek(e){return typeof e=="function"?ZT(e):(e instanceof IDBTransaction&&YT(e),KT(e,GT())?new Proxy(e,Sd):e)}function dr(e){if(e instanceof IDBRequest)return XT(e);if(xc.has(e))return xc.get(e);const t=ek(e);return t!==e&&(xc.set(e,t),ch.set(t,e)),t}const Tc=e=>ch.get(e);function tk(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=dr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(dr(o.result),l.oldVersion,l.newVersion,dr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const nk=["get","getKey","getAll","getAllKeys","count"],rk=["put","add","delete","clear"],kc=new Map;function Gm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(kc.get(t))return kc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=rk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nk.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return kc.set(t,s),s}JT(e=>({...e,get:(t,n,r)=>Gm(t,n)||e.get(t,n,r),has:(t,n)=>!!Gm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xd="@firebase/app",Qm="0.9.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Ky("@firebase/app"),ok="@firebase/app-compat",ak="@firebase/analytics-compat",lk="@firebase/analytics",uk="@firebase/app-check-compat",ck="@firebase/app-check",dk="@firebase/auth",fk="@firebase/auth-compat",hk="@firebase/database",pk="@firebase/database-compat",mk="@firebase/functions",gk="@firebase/functions-compat",vk="@firebase/installations",yk="@firebase/installations-compat",wk="@firebase/messaging",Ek="@firebase/messaging-compat",Ck="@firebase/performance",Sk="@firebase/performance-compat",xk="@firebase/remote-config",Tk="@firebase/remote-config-compat",kk="@firebase/storage",Nk="@firebase/storage-compat",Ik="@firebase/firestore",_k="@firebase/firestore-compat",$k="firebase",Dk="9.17.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",Rk={[xd]:"fire-core",[ok]:"fire-core-compat",[lk]:"fire-analytics",[ak]:"fire-analytics-compat",[ck]:"fire-app-check",[uk]:"fire-app-check-compat",[dk]:"fire-auth",[fk]:"fire-auth-compat",[hk]:"fire-rtdb",[pk]:"fire-rtdb-compat",[mk]:"fire-fn",[gk]:"fire-fn-compat",[vk]:"fire-iid",[yk]:"fire-iid-compat",[wk]:"fire-fcm",[Ek]:"fire-fcm-compat",[Ck]:"fire-perf",[Sk]:"fire-perf-compat",[xk]:"fire-rc",[Tk]:"fire-rc-compat",[kk]:"fire-gcs",[Nk]:"fire-gcs-compat",[Ik]:"fire-fst",[_k]:"fire-fst-compat","fire-js":"fire-js",[$k]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new Map,kd=new Map;function Ok(e,t){try{e.container.addComponent(t)}catch(n){ei.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Nl(e){const t=e.name;if(kd.has(t))return ei.debug(`There were multiple attempts to register component ${t}.`),!1;kd.set(t,e);for(const n of kl.values())Ok(n,e);return!0}function Ak(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fr=new qy("app","Firebase",Lk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=Dk;function Xy(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Td,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=RT()),!n)throw fr.create("no-options");const s=kl.get(i);if(s){if(Ed(n,s.options)&&Ed(r,s.config))return s;throw fr.create("duplicate-app",{appName:i})}const o=new VT(i);for(const l of kd.values())o.addComponent(l);const a=new Pk(n,r,o);return kl.set(i,a),a}function bk(e=Td){const t=kl.get(e);if(!t&&e===Td)return Xy();if(!t)throw fr.create("no-app",{appName:e});return t}function Bi(e,t,n){var r;let i=(r=Rk[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}Nl(new go(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="firebase-heartbeat-database",Bk=1,vo="firebase-heartbeat-store";let Nc=null;function Yy(){return Nc||(Nc=tk(Fk,Bk,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(vo)}}}).catch(e=>{throw fr.create("idb-open",{originalErrorMessage:e.message})})),Nc}async function Uk(e){try{return(await Yy()).transaction(vo).objectStore(vo).get(Jy(e))}catch(t){if(t instanceof hs)ei.warn(t.message);else{const n=fr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ei.warn(n.message)}}}async function Xm(e,t){try{const r=(await Yy()).transaction(vo,"readwrite");return await r.objectStore(vo).put(t,Jy(e)),r.done}catch(n){if(n instanceof hs)ei.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(r.message)}}}function Jy(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=1024,Vk=30*24*60*60*1e3;class zk{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ym();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Vk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ym(),{heartbeatsToSend:n,unsentEntries:r}=Hk(this._heartbeatsCache.heartbeats),i=Tl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ym(){return new Date().toISOString().substring(0,10)}function Hk(e,t=jk){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Jm(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Wk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LT()?PT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Uk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Jm(e){return Tl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(e){Nl(new go("platform-logger",t=>new ik(t),"PRIVATE")),Nl(new go("heartbeat",t=>new zk(t),"PRIVATE")),Bi(xd,Qm,e),Bi(xd,Qm,"esm2017"),Bi("fire-js","")}qk("");var Kk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,dh=dh||{},q=Kk||self;function Il(){}function Eu(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ra(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Gk(e){return Object.prototype.hasOwnProperty.call(e,Ic)&&e[Ic]||(e[Ic]=++Qk)}var Ic="closure_uid_"+(1e9*Math.random()>>>0),Qk=0;function Xk(e,t,n){return e.call.apply(e.bind,arguments)}function Yk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function ut(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ut=Xk:ut=Yk,ut.apply(null,arguments)}function Oa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function nt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function _r(){this.s=this.s,this.o=this.o}var Jk=0;_r.prototype.s=!1;_r.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Jk!=0)&&Gk(this)};_r.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zy=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function fh(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zm(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Eu(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ct(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var Zk=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{q.addEventListener("test",Il,t),q.removeEventListener("test",Il,t)}catch{}return e}();function _l(e){return/^[\s\xa0]*$/.test(e)}var eg=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function _c(e,t){return e<t?-1:e>t?1:0}function Cu(){var e=q.navigator;return e&&(e=e.userAgent)?e:""}function hn(e){return Cu().indexOf(e)!=-1}function hh(e){return hh[" "](e),e}hh[" "]=Il;function eN(e){var t=rN;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var tN=hn("Opera"),Gi=hn("Trident")||hn("MSIE"),e0=hn("Edge"),Nd=e0||Gi,t0=hn("Gecko")&&!(Cu().toLowerCase().indexOf("webkit")!=-1&&!hn("Edge"))&&!(hn("Trident")||hn("MSIE"))&&!hn("Edge"),nN=Cu().toLowerCase().indexOf("webkit")!=-1&&!hn("Edge");function n0(){var e=q.document;return e?e.documentMode:void 0}var $l;e:{var $c="",Dc=function(){var e=Cu();if(t0)return/rv:([^\);]+)(\)|;)/.exec(e);if(e0)return/Edge\/([\d\.]+)/.exec(e);if(Gi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(nN)return/WebKit\/(\S+)/.exec(e);if(tN)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Dc&&($c=Dc?Dc[1]:""),Gi){var Rc=n0();if(Rc!=null&&Rc>parseFloat($c)){$l=String(Rc);break e}}$l=$c}var rN={};function iN(){return eN(function(){let e=0;const t=eg(String($l)).split("."),n=eg("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=_c(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||_c(i[2].length==0,s[2].length==0)||_c(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}var Id;if(q.document&&Gi){var tg=n0();Id=tg||parseInt($l,10)||void 0}else Id=void 0;var sN=Id;function yo(e,t){if(ct.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(t0){e:{try{hh(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:oN[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&yo.X.h.call(this)}}nt(yo,ct);var oN={2:"touch",3:"pen",4:"mouse"};yo.prototype.h=function(){yo.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ia="closure_listenable_"+(1e6*Math.random()|0),aN=0;function lN(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++aN,this.ba=this.ea=!1}function Su(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ph(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function r0(e){const t={};for(const n in e)t[n]=e[n];return t}const ng="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function i0(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<ng.length;s++)n=ng[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function xu(e){this.src=e,this.g={},this.h=0}xu.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=$d(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new lN(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function _d(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Zy(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Su(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function $d(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var mh="closure_lm_"+(1e6*Math.random()|0),Oc={};function s0(e,t,n,r,i){if(r&&r.once)return a0(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)s0(e,t[s],n,r,i);return null}return n=yh(n),e&&e[ia]?e.N(t,n,ra(r)?!!r.capture:!!r,i):o0(e,t,n,!1,r,i)}function o0(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ra(i)?!!i.capture:!!i,a=vh(e);if(a||(e[mh]=a=new xu(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=uN(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zk||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(u0(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uN(){function e(n){return t.call(e.src,e.listener,n)}const t=cN;return e}function a0(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)a0(e,t[s],n,r,i);return null}return n=yh(n),e&&e[ia]?e.O(t,n,ra(r)?!!r.capture:!!r,i):o0(e,t,n,!0,r,i)}function l0(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)l0(e,t[s],n,r,i);else r=ra(r)?!!r.capture:!!r,n=yh(n),e&&e[ia]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=$d(s,n,r,i),-1<n&&(Su(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=vh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$d(t,n,r,i)),(n=-1<e?t[e]:null)&&gh(n))}function gh(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[ia])_d(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(u0(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=vh(t))?(_d(n,e),n.h==0&&(n.src=null,t[mh]=null)):Su(e)}}}function u0(e){return e in Oc?Oc[e]:Oc[e]="on"+e}function cN(e,t){if(e.ba)e=!0;else{t=new yo(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&gh(e),e=n.call(r,t)}return e}function vh(e){return e=e[mh],e instanceof xu?e:null}var Ac="__closure_events_fn_"+(1e9*Math.random()>>>0);function yh(e){return typeof e=="function"?e:(e[Ac]||(e[Ac]=function(t){return e.handleEvent(t)}),e[Ac])}function Qe(){_r.call(this),this.i=new xu(this),this.P=this,this.I=null}nt(Qe,_r);Qe.prototype[ia]=!0;Qe.prototype.removeEventListener=function(e,t,n,r){l0(this,e,t,n,r)};function Ze(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new ct(t,e);else if(t instanceof ct)t.target=t.target||e;else{var i=t;t=new ct(r,e),i0(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Aa(o,r,!0,t)&&i}if(o=t.g=e,i=Aa(o,r,!0,t)&&i,i=Aa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Aa(o,r,!1,t)&&i}Qe.prototype.M=function(){if(Qe.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Su(n[r]);delete e.g[t],e.h--}}this.I=null};Qe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Qe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Aa(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&_d(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var wh=q.JSON.stringify;function dN(){var e=f0;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}let fN=class{constructor(){this.h=this.g=null}add(t,n){const r=c0.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}};var c0=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new hN,e=>e.reset());let hN=class{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function pN(e){q.setTimeout(()=>{throw e},0)}function d0(e,t){Dd||mN(),Rd||(Dd(),Rd=!0),f0.add(e,t)}var Dd;function mN(){var e=q.Promise.resolve(void 0);Dd=function(){e.then(gN)}}var Rd=!1,f0=new fN;function gN(){for(var e;e=dN();){try{e.h.call(e.g)}catch(n){pN(n)}var t=c0;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Rd=!1}function Tu(e,t){Qe.call(this),this.h=e||1,this.g=t||q,this.j=ut(this.lb,this),this.l=Date.now()}nt(Tu,Qe);F=Tu.prototype;F.ca=!1;F.R=null;F.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ze(this,"tick"),this.ca&&(Eh(this),this.start()))}};F.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Eh(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}F.M=function(){Tu.X.M.call(this),Eh(this),delete this.g};function Ch(e,t,n){if(typeof e=="function")n&&(e=ut(e,n));else if(e&&typeof e.handleEvent=="function")e=ut(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:q.setTimeout(e,t||0)}function h0(e){e.g=Ch(()=>{e.g=null,e.i&&(e.i=!1,h0(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}let vN=class extends _r{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:h0(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function wo(e){_r.call(this),this.h=e,this.g={}}nt(wo,_r);var rg=[];function p0(e,t,n,r){Array.isArray(n)||(n&&(rg[0]=n.toString()),n=rg);for(var i=0;i<n.length;i++){var s=s0(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function m0(e){ph(e.g,function(t,n){this.g.hasOwnProperty(n)&&gh(t)},e),e.g={}}wo.prototype.M=function(){wo.X.M.call(this),m0(this)};wo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ku(){this.g=!0}ku.prototype.Aa=function(){this.g=!1};function yN(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function wN(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Ti(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+CN(e,n)+(r?" "+r:"")})}function EN(e,t){e.info(function(){return"TIMEOUT: "+t})}ku.prototype.info=function(){};function CN(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return wh(n)}catch{return t}}var di={},ig=null;function Nu(){return ig=ig||new Qe}di.Pa="serverreachability";function g0(e){ct.call(this,di.Pa,e)}nt(g0,ct);function Eo(e){const t=Nu();Ze(t,new g0(t))}di.STAT_EVENT="statevent";function v0(e,t){ct.call(this,di.STAT_EVENT,e),this.stat=t}nt(v0,ct);function mt(e){const t=Nu();Ze(t,new v0(t,e))}di.Qa="timingevent";function y0(e,t){ct.call(this,di.Qa,e),this.size=t}nt(y0,ct);function sa(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){e()},t)}var Iu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},w0={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sh(){}Sh.prototype.h=null;function sg(e){return e.h||(e.h=e.i())}function E0(){}var oa={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function xh(){ct.call(this,"d")}nt(xh,ct);function Th(){ct.call(this,"c")}nt(Th,ct);var Od;function _u(){}nt(_u,Sh);_u.prototype.g=function(){return new XMLHttpRequest};_u.prototype.i=function(){return{}};Od=new _u;function aa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new wo(this),this.O=SN,e=Nd?125:void 0,this.T=new Tu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new C0}function C0(){this.i=null,this.g="",this.h=!1}var SN=45e3,Ad={},Dl={};F=aa.prototype;F.setTimeout=function(e){this.O=e};function Ld(e,t,n){e.K=1,e.v=Du(Fn(t)),e.s=n,e.P=!0,S0(e,null)}function S0(e,t){e.F=Date.now(),la(e),e.A=Fn(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),D0(n.i,"t",r),e.C=0,n=e.l.H,e.h=new C0,e.g=Y0(e.l,n?t:null,!e.s),0<e.N&&(e.L=new vN(ut(e.La,e,e.g),e.N)),p0(e.S,e.g,"readystatechange",e.ib),t=e.H?r0(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Eo(),yN(e.j,e.u,e.A,e.m,e.U,e.s)}F.ib=function(e){e=e.target;const t=this.L;t&&Dn(e)==3?t.l():this.La(e)};F.La=function(e){try{if(e==this.g)e:{const c=Dn(this.g);var t=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||Nd||this.g&&(this.h.h||this.g.fa()||ug(this.g)))){this.I||c!=4||t==7||(t==8||0>=d?Eo(3):Eo(2)),$u(this);var n=this.g.aa();this.Y=n;t:if(x0(this)){var r=ug(this.g);e="";var i=r.length,s=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),Qs(this);var o="";break t}this.h.i=new q.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,wN(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_l(a)){var u=a;break t}}u=null}if(n=u)Ti(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pd(this,n);else{this.i=!1,this.o=3,mt(12),Vr(this),Qs(this);break e}}this.P?(T0(this,c,o),Nd&&this.i&&c==3&&(p0(this.S,this.T,"tick",this.hb),this.T.start())):(Ti(this.j,this.m,o,null),Pd(this,o)),c==4&&Vr(this),this.i&&!this.I&&(c==4?K0(this.l,this):(this.i=!1,la(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,mt(12)):(this.o=0,mt(13)),Vr(this),Qs(this)}}}catch{}finally{}};function x0(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function T0(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=xN(e,n),i==Dl){t==4&&(e.o=4,mt(14),r=!1),Ti(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Ad){e.o=4,mt(15),Ti(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Ti(e.j,e.m,i,null),Pd(e,i);x0(e)&&i!=Dl&&i!=Ad&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,mt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rh(t),t.K=!0,mt(11))):(Ti(e.j,e.m,n,"[Invalid Chunked Response]"),Vr(e),Qs(e))}F.hb=function(){if(this.g){var e=Dn(this.g),t=this.g.fa();this.C<t.length&&($u(this),T0(this,e,t),this.i&&e!=4&&la(this))}};function xN(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Dl:(n=Number(t.substring(n,r)),isNaN(n)?Ad:(r+=1,r+n>t.length?Dl:(t=t.substr(r,n),e.C=r+n,t)))}F.cancel=function(){this.I=!0,Vr(this)};function la(e){e.V=Date.now()+e.O,k0(e,e.O)}function k0(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=sa(ut(e.gb,e),t)}function $u(e){e.B&&(q.clearTimeout(e.B),e.B=null)}F.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(EN(this.j,this.A),this.K!=2&&(Eo(),mt(17)),Vr(this),this.o=2,Qs(this)):k0(this,this.V-e)};function Qs(e){e.l.G==0||e.I||K0(e.l,e)}function Vr(e){$u(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Eh(e.T),m0(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pd(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Md(n.h,e))){if(!e.J&&Md(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Al(n),Au(n);else break e;Dh(n),mt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=sa(ut(n.cb,n),6e3));if(1>=A0(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else zr(n,11)}else if((e.J||n.g==e)&&Al(n),!_l(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.h;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(kh(s,s.h),s.h=null))}if(r.D){const E=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.za=E,xe(r.F,r.D,E))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=X0(r,r.H?r.ka:null,r.V),o.J){L0(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&($u(a),la(a)),r.g=o}else W0(r);0<n.i.length&&Lu(n)}else u[0]!="stop"&&u[0]!="close"||zr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?zr(n,7):$h(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Eo(4)}catch{}}function TN(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Eu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function kN(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Eu(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function N0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Eu(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=kN(e),r=TN(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var I0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NN(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qr(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Qr){this.h=t!==void 0?t:e.h,Rl(this,e.j),this.s=e.s,this.g=e.g,Ol(this,e.m),this.l=e.l,t=e.i;var n=new Co;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),og(this,n),this.o=e.o}else e&&(n=String(e).match(I0))?(this.h=!!t,Rl(this,n[1]||"",!0),this.s=Us(n[2]||""),this.g=Us(n[3]||"",!0),Ol(this,n[4]),this.l=Us(n[5]||"",!0),og(this,n[6]||"",!0),this.o=Us(n[7]||"")):(this.h=!!t,this.i=new Co(null,this.h))}Qr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(js(t,ag,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(js(t,ag,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(js(n,n.charAt(0)=="/"?$N:_N,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",js(n,RN)),e.join("")};function Fn(e){return new Qr(e)}function Rl(e,t,n){e.j=n?Us(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ol(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function og(e,t,n){t instanceof Co?(e.i=t,ON(e.i,e.h)):(n||(t=js(t,DN)),e.i=new Co(t,e.h))}function xe(e,t,n){e.i.set(t,n)}function Du(e){return xe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Us(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function js(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,IN),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function IN(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var ag=/[#\/\?@]/g,_N=/[#\?:]/g,$N=/[#\?]/g,DN=/[#\?@]/g,RN=/#/g;function Co(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $r(e){e.g||(e.g=new Map,e.h=0,e.i&&NN(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}F=Co.prototype;F.add=function(e,t){$r(this),this.i=null,e=ps(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function _0(e,t){$r(e),t=ps(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $0(e,t){return $r(e),t=ps(e,t),e.g.has(t)}F.forEach=function(e,t){$r(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};F.oa=function(){$r(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};F.W=function(e){$r(this);let t=[];if(typeof e=="string")$0(this,e)&&(t=t.concat(this.g.get(ps(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};F.set=function(e,t){return $r(this),this.i=null,e=ps(this,e),$0(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};F.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function D0(e,t,n){_0(e,t),0<n.length&&(e.i=null,e.g.set(ps(e,t),fh(n)),e.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function ps(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ON(e,t){t&&!e.j&&($r(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_0(this,r),D0(this,i,n))},e)),e.j=t}var AN=class{constructor(t,n){this.h=t,this.g=n}};function R0(e){this.l=e||LN,q.PerformanceNavigationTiming?(e=q.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(q.g&&q.g.Ga&&q.g.Ga()&&q.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var LN=10;function O0(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function A0(e){return e.h?1:e.g?e.g.size:0}function Md(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function kh(e,t){e.g?e.g.add(t):e.h=t}function L0(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}R0.prototype.cancel=function(){if(this.i=P0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function P0(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return fh(e.i)}function Nh(){}Nh.prototype.stringify=function(e){return q.JSON.stringify(e,void 0)};Nh.prototype.parse=function(e){return q.JSON.parse(e,void 0)};function PN(){this.g=new Nh}function MN(e,t,n){const r=n||"";try{N0(e,function(i,s){let o=i;ra(i)&&(o=wh(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bN(e,t){const n=new ku;if(q.Image){const r=new Image;r.onload=Oa(La,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Oa(La,n,r,"TestLoadImage: error",!1,t),r.onabort=Oa(La,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Oa(La,n,r,"TestLoadImage: timeout",!1,t),q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function La(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function ua(e){this.l=e.ac||null,this.j=e.jb||!1}nt(ua,Sh);ua.prototype.g=function(){return new Ru(this.l,this.j)};ua.prototype.i=function(e){return function(){return e}}({});function Ru(e,t){Qe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ih,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nt(Ru,Qe);var Ih=0;F=Ru.prototype;F.open=function(e,t){if(this.readyState!=Ih)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,So(this)};F.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||q).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=Ih};F.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,So(this)),this.g&&(this.readyState=3,So(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;M0(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function M0(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}F.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ca(this):So(this),this.readyState==3&&M0(this)}};F.Va=function(e){this.g&&(this.response=this.responseText=e,ca(this))};F.Ua=function(e){this.g&&(this.response=e,ca(this))};F.ga=function(){this.g&&ca(this)};function ca(e){e.readyState=4,e.l=null,e.j=null,e.A=null,So(e)}F.setRequestHeader=function(e,t){this.v.append(e,t)};F.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function So(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var FN=q.JSON.parse;function Oe(e){Qe.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=b0,this.K=this.L=!1}nt(Oe,Qe);var b0="",BN=/^https?$/i,UN=["POST","PUT"];F=Oe.prototype;F.Ka=function(e){this.L=e};F.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Od.g(),this.C=this.u?sg(this.u):sg(Od),this.g.onreadystatechange=ut(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){lg(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=q.FormData&&e instanceof q.FormData,!(0<=Zy(UN,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{U0(this),0<this.B&&((this.K=jN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.qa,this)):this.A=Ch(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){lg(this,s)}};function jN(e){return Gi&&iN()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}F.qa=function(){typeof dh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ze(this,"timeout"),this.abort(8))};function lg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,F0(e),Ou(e)}function F0(e){e.D||(e.D=!0,Ze(e,"complete"),Ze(e,"error"))}F.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ze(this,"complete"),Ze(this,"abort"),Ou(this))};F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ou(this,!0)),Oe.X.M.call(this)};F.Ha=function(){this.s||(this.F||this.v||this.l?B0(this):this.fb())};F.fb=function(){B0(this)};function B0(e){if(e.h&&typeof dh<"u"&&(!e.C[1]||Dn(e)!=4||e.aa()!=2)){if(e.v&&Dn(e)==4)Ch(e.Ha,0,e);else if(Ze(e,"readystatechange"),Dn(e)==4){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var i=String(e.H).match(I0)[1]||null;if(!i&&q.self&&q.self.location){var s=q.self.location.protocol;i=s.substr(0,s.length-1)}r=!BN.test(i?i.toLowerCase():"")}n=r}if(n)Ze(e,"complete"),Ze(e,"success");else{e.m=6;try{var o=2<Dn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",F0(e)}}finally{Ou(e)}}}}function Ou(e,t){if(e.g){U0(e);const n=e.g,r=e.C[0]?Il:null;e.g=null,e.C=null,t||Ze(e,"ready");try{n.onreadystatechange=r}catch{}}}function U0(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(q.clearTimeout(e.A),e.A=null)}function Dn(e){return e.g?e.g.readyState:0}F.aa=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}};F.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),FN(t)}};function ug(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case b0:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}F.Ea=function(){return this.m};F.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function j0(e){let t="";return ph(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function _h(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=j0(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):xe(e,t,n))}function $s(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function V0(e){this.Ca=0,this.i=[],this.j=new ku,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=$s("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=$s("baseRetryDelayMs",5e3,e),this.bb=$s("retryDelaySeedMs",1e4,e),this.$a=$s("forwardChannelMaxRetries",2,e),this.ta=$s("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new R0(e&&e.concurrentRequestLimit),this.Fa=new PN,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}F=V0.prototype;F.ma=8;F.G=1;function $h(e){if(z0(e),e.G==3){var t=e.U++,n=Fn(e.F);xe(n,"SID",e.I),xe(n,"RID",t),xe(n,"TYPE","terminate"),da(e,n),t=new aa(e,e.j,t,void 0),t.K=2,t.v=Du(Fn(n)),n=!1,q.navigator&&q.navigator.sendBeacon&&(n=q.navigator.sendBeacon(t.v.toString(),"")),!n&&q.Image&&(new Image().src=t.v,n=!0),n||(t.g=Y0(t.l,null),t.g.da(t.v)),t.F=Date.now(),la(t)}Q0(e)}function Au(e){e.g&&(Rh(e),e.g.cancel(),e.g=null)}function z0(e){Au(e),e.u&&(q.clearTimeout(e.u),e.u=null),Al(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&q.clearTimeout(e.m),e.m=null)}function Lu(e){O0(e.h)||e.m||(e.m=!0,d0(e.Ja,e),e.C=0)}function VN(e,t){return A0(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=sa(ut(e.Ja,e,t),G0(e,e.C)),e.C++,!0)}F.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new aa(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=r0(s),i0(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=H0(this,i,t),n=Fn(this.F),xe(n,"RID",e),xe(n,"CVER",22),this.D&&xe(n,"X-HTTP-Session-Id",this.D),da(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(j0(s)))+"&"+t:this.o&&_h(n,this.o,s)),kh(this.h,i),this.Ya&&xe(n,"TYPE","init"),this.O?(xe(n,"$req",t),xe(n,"SID","null"),i.Z=!0,Ld(i,n,null)):Ld(i,n,t),this.G=2}}else this.G==3&&(e?cg(this,e):this.i.length==0||O0(this.h)||cg(this))};function cg(e,t){var n;t?n=t.m:n=e.U++;const r=Fn(e.F);xe(r,"SID",e.I),xe(r,"RID",n),xe(r,"AID",e.T),da(e,r),e.o&&e.s&&_h(r,e.o,e.s),n=new aa(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=H0(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),kh(e.h,n),Ld(n,r,t)}function da(e,t){e.ia&&ph(e.ia,function(n,r){xe(t,r,n)}),e.l&&N0({},function(n,r){xe(t,r,n)})}function H0(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ut(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{MN(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function W0(e){e.g||e.u||(e.Z=1,d0(e.Ia,e),e.A=0)}function Dh(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=sa(ut(e.Ia,e),G0(e,e.A)),e.A++,!0)}F.Ia=function(){if(this.u=null,q0(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=sa(ut(this.eb,this),e)}};F.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mt(10),Au(this),q0(this))};function Rh(e){e.B!=null&&(q.clearTimeout(e.B),e.B=null)}function q0(e){e.g=new aa(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Fn(e.sa);xe(t,"RID","rpc"),xe(t,"SID",e.I),xe(t,"CI",e.L?"0":"1"),xe(t,"AID",e.T),xe(t,"TYPE","xmlhttp"),da(e,t),e.o&&e.s&&_h(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Du(Fn(t)),n.s=null,n.P=!0,S0(n,e)}F.cb=function(){this.v!=null&&(this.v=null,Au(this),Dh(this),mt(19))};function Al(e){e.v!=null&&(q.clearTimeout(e.v),e.v=null)}function K0(e,t){var n=null;if(e.g==t){Al(e),Rh(e),e.g=null;var r=2}else if(Md(e.h,t))n=t.D,L0(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Nu(),Ze(r,new y0(r,n)),Lu(e)}else W0(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&VN(e,t)||r==2&&Dh(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:zr(e,5);break;case 4:zr(e,10);break;case 3:zr(e,6);break;default:zr(e,2)}}}function G0(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function zr(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=ut(e.kb,e);n||(n=new Qr("//www.google.com/images/cleardot.gif"),q.location&&q.location.protocol=="http"||Rl(n,"https"),Du(n)),bN(n.toString(),r)}else mt(2);e.G=0,e.l&&e.l.va(t),Q0(e),z0(e)}F.kb=function(e){e?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Q0(e){if(e.G=0,e.la=[],e.l){const t=P0(e.h);(t.length!=0||e.i.length!=0)&&(Zm(e.la,t),Zm(e.la,e.i),e.h.i.length=0,fh(e.i),e.i.length=0),e.l.ua()}}function X0(e,t,n){var r=n instanceof Qr?Fn(n):new Qr(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),Ol(r,r.m);else{var i=q.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Qr(null,void 0);r&&Rl(s,r),t&&(s.g=t),i&&Ol(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&xe(r,n,t),xe(r,"VER",e.ma),da(e,r),r}function Y0(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new Oe(new ua({jb:!0})):new Oe(e.ra),t.Ka(e.H),t}function J0(){}F=J0.prototype;F.xa=function(){};F.wa=function(){};F.va=function(){};F.ua=function(){};F.Ra=function(){};function Ll(){if(Gi&&!(10<=Number(sN)))throw Error("Environmental error: no available transport.")}Ll.prototype.g=function(e,t){return new At(e,t)};function At(e,t){Qe.call(this),this.g=new V0(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!_l(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_l(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ms(this)}nt(At,Qe);At.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;mt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=X0(e,null,e.V),Lu(e)};At.prototype.close=function(){$h(this.g)};At.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=wh(e),e=n);t.i.push(new AN(t.ab++,e)),t.G==3&&Lu(t)};At.prototype.M=function(){this.g.l=null,delete this.j,$h(this.g),delete this.g,At.X.M.call(this)};function Z0(e){xh.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}nt(Z0,xh);function ew(){Th.call(this),this.status=1}nt(ew,Th);function ms(e){this.g=e}nt(ms,J0);ms.prototype.xa=function(){Ze(this.g,"a")};ms.prototype.wa=function(e){Ze(this.g,new Z0(e))};ms.prototype.va=function(e){Ze(this.g,new ew)};ms.prototype.ua=function(){Ze(this.g,"b")};Ll.prototype.createWebChannel=Ll.prototype.g;At.prototype.send=At.prototype.u;At.prototype.open=At.prototype.m;At.prototype.close=At.prototype.close;Iu.NO_ERROR=0;Iu.TIMEOUT=8;Iu.HTTP_ERROR=6;w0.COMPLETE="complete";E0.EventType=oa;oa.OPEN="a";oa.CLOSE="b";oa.ERROR="c";oa.MESSAGE="d";Qe.prototype.listen=Qe.prototype.N;Oe.prototype.listenOnce=Oe.prototype.O;Oe.prototype.getLastError=Oe.prototype.Oa;Oe.prototype.getLastErrorCode=Oe.prototype.Ea;Oe.prototype.getStatus=Oe.prototype.aa;Oe.prototype.getResponseJson=Oe.prototype.Sa;Oe.prototype.getResponseText=Oe.prototype.fa;Oe.prototype.send=Oe.prototype.da;Oe.prototype.setWithCredentials=Oe.prototype.Ka;var zN=function(){return new Ll},HN=function(){return Nu()},Lc=Iu,WN=w0,qN=di,dg={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},KN=ua,Pa=E0,GN=Oe;const fg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let st=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gs="9.17.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Ky("@firebase/firestore");function hg(){return ti.logLevel}function U(e,...t){if(ti.logLevel<=ce.DEBUG){const n=t.map(Oh);ti.debug(`Firestore (${gs}): ${e}`,...n)}}function Bn(e,...t){if(ti.logLevel<=ce.ERROR){const n=t.map(Oh);ti.error(`Firestore (${gs}): ${e}`,...n)}}function bd(e,...t){if(ti.logLevel<=ce.WARN){const n=t.map(Oh);ti.warn(`Firestore (${gs}): ${e}`,...n)}}function Oh(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e="Unexpected state"){const t=`FIRESTORE (${gs}) INTERNAL ASSERTION FAILED: `+e;throw Bn(t),new Error(t)}function ye(e,t){e||W()}function X(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let P=class extends hs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tw=class{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},QN=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}},XN=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},YN=class{constructor(t){this.t=t,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new An;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new An,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new An)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new tw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ye(t===null||typeof t=="string"),new st(t)}};class JN{constructor(t,n,r,i){this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=st.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ye(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}let ZN=class{constructor(t,n,r,i){this.h=t,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new JN(this.h,this.l,this.m,this.g))}start(t,n){t.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}},eI=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},tI=class{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,n){const r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ye(typeof n.token=="string"),this.A=n.token,new eI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nw=class{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=nI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}};function de(e,t){return e<t?-1:e>t?1:0}function Qi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new P(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new P(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new P(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new P(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ve(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?de(this.nanoseconds,t.nanoseconds):de(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Q(t)}static min(){return new Q(new Ve(0,0))}static max(){return new Q(new Ve(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,n,r){n===void 0?n=0:n>t.length&&W(),r===void 0?r=t.length-n:r>t.length-n&&W(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return xo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof xo?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ee extends xo{construct(t,n,r){return new Ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new P(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const rI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends xo{construct(t,n,r){return new lt(t,n,r)}static isValidIdentifier(t){return rI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new P(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new P(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new P(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new P(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.path=t}static fromPath(t){return new j(Ee.fromString(t))}static fromName(t){return new j(Ee.fromString(t).popFirst(5))}static empty(){return new j(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new j(new Ee(t.slice()))}}function iI(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new Sr(i,j.empty(),t)}function sI(e){return new Sr(e.readTime,e.key,-1)}class Sr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Sr(Q.min(),j.empty(),-1)}static max(){return new Sr(Q.max(),j.empty(),-1)}}function oI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=j.comparator(e.documentKey,t.documentKey),n!==0?n:de(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(e){if(e.code!==N.FAILED_PRECONDITION||e.message!==aI)throw e;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,r)=>{n(t)})}static reject(t){return new $((n,r)=>{r(t)})}static waitFor(t){return new $((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=$.resolve(!1);for(const r of t)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new $((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new $((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function ha(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}Ah.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n,r,i,s,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class To{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new To("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof To&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(e){return e==null}function Pl(e){return e===0&&1/e==-1/0}function cI(e){return typeof e=="number"&&Number.isInteger(e)&&!Pl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new dt(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new dt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return de(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const dI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(e){if(ye(!!e),typeof e=="string"){let t=0;const n=dI.exec(e);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pe(e.seconds),nanos:Pe(e.nanos)}}function Pe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Xi(e){return typeof e=="string"?dt.fromBase64String(e):dt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sw(e){const t=e.mapValue.fields.__previous_value__;return iw(t)?sw(t):t}function ko(e){const t=xr(e.mapValue.fields.__local_write_time__.timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ni(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?iw(e)?4:fI(e)?9007199254740991:10:W()}function Cn(e,t){if(e===t)return!0;const n=ni(e);if(n!==ni(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ko(e).isEqual(ko(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=xr(r.timestampValue),o=xr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Xi(r.bytesValue).isEqual(Xi(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Pe(r.geoPointValue.latitude)===Pe(i.geoPointValue.latitude)&&Pe(r.geoPointValue.longitude)===Pe(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pe(r.integerValue)===Pe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Pe(r.doubleValue),o=Pe(i.doubleValue);return s===o?Pl(s)===Pl(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Qi(e.arrayValue.values||[],t.arrayValue.values||[],Cn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(pg(s)!==pg(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Cn(s[a],o[a])))return!1;return!0}(e,t);default:return W()}}function No(e,t){return(e.values||[]).find(n=>Cn(n,t))!==void 0}function Yi(e,t){if(e===t)return 0;const n=ni(e),r=ni(t);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Pe(i.integerValue||i.doubleValue),a=Pe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return mg(e.timestampValue,t.timestampValue);case 4:return mg(ko(e),ko(t));case 5:return de(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Xi(i),a=Xi(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=de(o[l],a[l]);if(u!==0)return u}return de(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=de(Pe(i.latitude),Pe(s.latitude));return o!==0?o:de(Pe(i.longitude),Pe(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Yi(o[l],a[l]);if(u)return u}return de(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===Ma.mapValue&&s===Ma.mapValue)return 0;if(i===Ma.mapValue)return 1;if(s===Ma.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=de(a[c],u[c]);if(d!==0)return d;const f=Yi(o[a[c]],l[u[c]]);if(f!==0)return f}return de(a.length,u.length)}(e.mapValue,t.mapValue);default:throw W()}}function mg(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return de(e,t);const n=xr(e),r=xr(t),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function Ji(e){return Fd(e)}function Fd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=xr(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Xi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,j.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Fd(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Fd(r.fields[a])}`;return s+"}"}(e.mapValue):W();var t,n}function gg(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Bd(e){return!!e&&"integerValue"in e}function Lh(e){return!!e&&"arrayValue"in e}function vg(e){return!!e&&"nullValue"in e}function yg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function al(e){return!!e&&"mapValue"in e}function Xs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return fi(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Xs(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function fI(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml=class{constructor(t,n){this.position=t,this.inclusive=n}};function wg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),n.key):r=Yi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Eg(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Cn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ow=class{},Fe=class extends ow{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new pI(t,n,r):n==="array-contains"?new vI(t,r):n==="in"?new yI(t,r):n==="not-in"?new wI(t,r):n==="array-contains-any"?new EI(t,r):new Fe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new mI(t,r):new gI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yi(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(Yi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},Sn=class extends ow{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new Sn(t,n)}matches(t){return aw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}};function aw(e){return e.op==="and"}function lw(e){return hI(e)&&aw(e)}function hI(e){for(const t of e.filters)if(t instanceof Sn)return!1;return!0}function Ud(e){if(e instanceof Fe)return e.field.canonicalString()+e.op.toString()+Ji(e.value);if(lw(e))return e.filters.map(t=>Ud(t)).join(",");{const t=e.filters.map(n=>Ud(n)).join(",");return`${e.op}(${t})`}}function uw(e,t){return e instanceof Fe?function(n,r){return r instanceof Fe&&n.op===r.op&&n.field.isEqual(r.field)&&Cn(n.value,r.value)}(e,t):e instanceof Sn?function(n,r){return r instanceof Sn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&uw(s,r.filters[o]),!0):!1}(e,t):void W()}function cw(e){return e instanceof Fe?function(t){return`${t.field.canonicalString()} ${t.op} ${Ji(t.value)}`}(e):e instanceof Sn?function(t){return t.op.toString()+" {"+t.getFilters().map(cw).join(" ,")+"}"}(e):"Filter"}let pI=class extends Fe{constructor(t,n,r){super(t,n,r),this.key=j.fromName(r.referenceValue)}matches(t){const n=j.comparator(t.key,this.key);return this.matchesComparison(n)}},mI=class extends Fe{constructor(t,n){super(t,"in",n),this.keys=dw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}},gI=class extends Fe{constructor(t,n){super(t,"not-in",n),this.keys=dw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}};function dw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}let vI=class extends Fe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Lh(n)&&No(n.arrayValue,this.value)}},yI=class extends Fe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&No(this.value.arrayValue,n)}},wI=class extends Fe{constructor(t,n){super(t,"not-in",n)}matches(t){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!No(this.value.arrayValue,n)}},EI=class extends Fe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>No(this.value.arrayValue,r))}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ys=class{constructor(t,n="asc"){this.field=t,this.dir=n}};function CI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xe=class{constructor(t,n){this.comparator=t,this.root=n||ot.EMPTY}insert(t,n){return new Xe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(t){return new Xe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ot.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ba(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ba(this.root,t,this.comparator,!1)}getReverseIterator(){return new ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ba(this.root,t,this.comparator,!0)}},ba=class{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},ot=class{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??ot.RED,this.left=i??ot.EMPTY,this.right=s??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new ot(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const t=this.left.check();if(t!==this.right.check())throw W();return t+(this.isRed()?0:1)}};ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ke=class{constructor(t){this.comparator=t,this.data=new Xe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cg(this.data.getIterator())}getIteratorFrom(t){return new Cg(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ke(this.comparator);return n.data=t,n}},Cg=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jt=class{constructor(t){this.fields=t,t.sort(lt.comparator)}static empty(){return new jt([])}unionWith(t){let n=new Ke(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new jt(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Qi(this.fields,t.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t=class{constructor(t){this.value=t}static empty(){return new $t({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!al(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xs(n)}setAll(t){let n=lt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Xs(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());al(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Cn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];al(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){fi(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new $t(Xs(this.value))}};function fw(e){const t=[];return fi(e.fields,(n,r)=>{const i=new lt([n]);if(al(r)){const s=fw(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new jt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pt=class{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new pt(t,0,Q.min(),Q.min(),Q.min(),$t.empty(),0)}static newFoundDocument(t,n,r,i){return new pt(t,1,n,Q.min(),r,i,0)}static newNoDocument(t,n){return new pt(t,2,n,Q.min(),Q.min(),$t.empty(),0)}static newUnknownDocument(t,n){return new pt(t,3,n,Q.min(),Q.min(),$t.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Sg(e,t=null,n=[],r=[],i=null,s=null,o=null){return new SI(e,t,n,r,i,s,o)}function Ph(e){const t=X(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Ud(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Pu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ji(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ji(r)).join(",")),t.ft=n}return t.ft}function Mh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!CI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!uw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Eg(e.startAt,t.startAt)&&Eg(e.endAt,t.endAt)}function jd(e){return j.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function xI(e,t,n,r,i,s,o,a){return new pa(e,t,n,r,i,s,o,a)}function bh(e){return new pa(e)}function xg(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function hw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Fh(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function pw(e){return e.collectionGroup!==null}function Ui(e){const t=X(e);if(t.dt===null){t.dt=[];const n=Fh(t),r=hw(t);if(n!==null&&r===null)n.isKeyField()||t.dt.push(new Ys(n)),t.dt.push(new Ys(lt.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Ys(lt.keyField(),s))}}}return t.dt}function Un(e){const t=X(e);if(!t._t)if(t.limitType==="F")t._t=Sg(t.path,t.collectionGroup,Ui(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of Ui(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ys(s.field,o))}const r=t.endAt?new Ml(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ml(t.startAt.position,t.startAt.inclusive):null;t._t=Sg(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t._t}function Vd(e,t){t.getFirstInequalityField(),Fh(e);const n=e.filters.concat([t]);return new pa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function zd(e,t,n){return new pa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mu(e,t){return Mh(Un(e),Un(t))&&e.limitType===t.limitType}function mw(e){return`${Ph(Un(e))}|lt:${e.limitType}`}function Hd(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>cw(r)).join(", ")}]`),Pu(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ji(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ji(r)).join(",")),`Target(${n})`}(Un(e))}; limitType=${e.limitType})`}function bu(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):j.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of Ui(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=wg(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ui(n),r)||n.endAt&&!function(i,s,o){const a=wg(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ui(n),r))}(e,t)}function TI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gw(e){return(t,n)=>{let r=!1;for(const i of Ui(e)){const s=kI(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kI(e,t,n){const r=e.field.isKeyField()?j.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Yi(a,l):W()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pl(t)?"-0":t}}function yw(e){return{integerValue:""+e}}function NI(e,t){return cI(t)?yw(t):vw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this._=void 0}}function II(e,t,n){return e instanceof bl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Io?Ew(e,t):e instanceof _o?Cw(e,t):function(r,i){const s=ww(r,i),o=Tg(s)+Tg(r.gt);return Bd(s)&&Bd(r.gt)?yw(o):vw(r.yt,o)}(e,t)}function _I(e,t,n){return e instanceof Io?Ew(e,t):e instanceof _o?Cw(e,t):n}function ww(e,t){return e instanceof Fl?Bd(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class bl extends Fu{}class Io extends Fu{constructor(t){super(),this.elements=t}}function Ew(e,t){const n=Sw(t);for(const r of e.elements)n.some(i=>Cn(i,r))||n.push(r);return{arrayValue:{values:n}}}class _o extends Fu{constructor(t){super(),this.elements=t}}function Cw(e,t){let n=Sw(t);for(const r of e.elements)n=n.filter(i=>!Cn(i,r));return{arrayValue:{values:n}}}class Fl extends Fu{constructor(t,n){super(),this.yt=t,this.gt=n}}function Tg(e){return Pe(e.integerValue||e.doubleValue)}function Sw(e){return Lh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function $I(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Io&&r instanceof Io||n instanceof _o&&r instanceof _o?Qi(n.elements,r.elements,Cn):n instanceof Fl&&r instanceof Fl?Cn(n.gt,r.gt):n instanceof bl&&r instanceof bl}(e.transform,t.transform)}class DI{constructor(t,n){this.version=t,this.transformResults=n}}class nn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new nn}static exists(t){return new nn(void 0,t)}static updateTime(t){return new nn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ll(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Bu{}function xw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Bh(e.key,nn.none()):new ma(e.key,e.data,nn.none());{const n=e.data,r=$t.empty();let i=new Ke(lt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Dr(e.key,r,new jt(i.toArray()),nn.none())}}function RI(e,t,n){e instanceof ma?function(r,i,s){const o=r.value.clone(),a=Ng(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Dr?function(r,i,s){if(!ll(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Ng(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Tw(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Js(e,t,n,r){return e instanceof ma?function(i,s,o,a){if(!ll(i.precondition,s))return o;const l=i.value.clone(),u=Ig(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dr?function(i,s,o,a){if(!ll(i.precondition,s))return o;const l=Ig(i.fieldTransforms,a,s),u=s.data;return u.setAll(Tw(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return ll(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function OI(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=ww(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function kg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Qi(n,r,(i,s)=>$I(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ma extends Bu{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Dr extends Bu{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Tw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ng(e,t,n){const r=new Map;ye(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,_I(o,a,n[i]))}return r}function Ig(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,II(s,o,t))}return r}class Bh extends Bu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AI extends Bu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,oe;function PI(e){switch(e){default:return W();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function kw(e){if(e===void 0)return Bn("GRPC error has no .code"),N.UNKNOWN;switch(e){case Le.OK:return N.OK;case Le.CANCELLED:return N.CANCELLED;case Le.UNKNOWN:return N.UNKNOWN;case Le.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Le.INTERNAL:return N.INTERNAL;case Le.UNAVAILABLE:return N.UNAVAILABLE;case Le.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Le.NOT_FOUND:return N.NOT_FOUND;case Le.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Le.ABORTED:return N.ABORTED;case Le.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Le.DATA_LOSS:return N.DATA_LOSS;default:return W()}}(oe=Le||(Le={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){fi(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return rw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Xe(j.comparator);function jn(){return MI}const Nw=new Xe(j.comparator);function Vs(...e){let t=Nw;for(const n of e)t=t.insert(n.key,n);return t}function Iw(e){let t=Nw;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Hr(){return Zs()}function _w(){return Zs()}function Zs(){return new vs(e=>e.toString(),(e,t)=>e.isEqual(t))}const bI=new Xe(j.comparator),FI=new Ke(j.comparator);function ne(...e){let t=FI;for(const n of e)t=t.add(n);return t}const BI=new Ke(de);function $w(){return BI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,ga.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Uu(Q.min(),i,$w(),jn(),ne())}}class ga{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ga(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t,n,r,i){this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i}}class Dw{constructor(t,n){this.targetId=t,this.Et=n}}class Rw{constructor(t,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _g{constructor(){this.At=0,this.Rt=Dg(),this.bt=dt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=ne(),n=ne(),r=ne();return this.Rt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new ga(this.bt,this.Pt,t,n,r)}xt(){this.vt=!1,this.Rt=Dg()}Nt(t,n){this.vt=!0,this.Rt=this.Rt.insert(t,n)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class UI{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=jn(),this.qt=$g(),this.Ut=new Ke(de)}Kt(t){for(const n of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(n,t.Tt):this.Qt(n,t.key,t.Tt);for(const n of t.removedTargetIds)this.Qt(n,t.key,t.Tt)}jt(t){this.forEachTarget(t,n=>{const r=this.Wt(n);switch(t.state){case 0:this.zt(n)&&r.Dt(t.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(t.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(t.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(t.resumeToken));break;default:W()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(t){const n=t.targetId,r=t.Et.count,i=this.Yt(n);if(i){const s=i.target;if(jd(s))if(r===0){const o=new j(s.path);this.Qt(n,o,pt.newNoDocument(o,Q.min()))}else ye(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(t){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&jd(a.target)){const l=new j(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,pt.newNoDocument(l,t))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ne();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(t));const i=new Uu(t,n,this.Ut,this.Lt,r);return this.Lt=jn(),this.qt=$g(),this.Ut=new Ke(de),i}Gt(t,n){if(!this.zt(t))return;const r=this.te(t,n.key)?2:0;this.Wt(t).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(t))}Qt(t,n,r){if(!this.zt(t))return;const i=this.Wt(t);this.te(t,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(t)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(t){this.Bt.delete(t)}Xt(t){const n=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let n=this.Bt.get(t);return n||(n=new _g,this.Bt.set(t,n)),n}ee(t){let n=this.qt.get(t);return n||(n=new Ke(de),this.qt=this.qt.insert(t,n)),n}zt(t){const n=this.Yt(t)!==null;return n||U("WatchChangeAggregator","Detected inactive target",t),n}Yt(t){const n=this.Bt.get(t);return n&&n.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new _g),this.$t.getRemoteKeysForTarget(t).forEach(n=>{this.Qt(t,n,null)})}te(t,n){return this.$t.getRemoteKeysForTarget(t).has(n)}}function $g(){return new Xe(j.comparator)}function Dg(){return new Xe(j.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),VI=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),zI=(()=>({and:"AND",or:"OR"}))();class HI{constructor(t,n){this.databaseId=t,this.wt=n}}function Bl(e,t){return e.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ow(e,t){return e.wt?t.toBase64():t.toUint8Array()}function WI(e,t){return Bl(e,t.toTimestamp())}function mn(e){return ye(!!e),Q.fromTimestamp(function(t){const n=xr(t);return new Ve(n.seconds,n.nanos)}(e))}function Uh(e,t){return function(n){return new Ee(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Aw(e){const t=Ee.fromString(e);return ye(bw(t)),t}function Wd(e,t){return Uh(e.databaseId,t.path)}function Pc(e,t){const n=Aw(t);if(n.get(1)!==e.databaseId.projectId)throw new P(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new P(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new j(Lw(n))}function qd(e,t){return Uh(e.databaseId,t)}function qI(e){const t=Aw(e);return t.length===4?Ee.emptyPath():Lw(t)}function Kd(e){return new Ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lw(e){return ye(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Rg(e,t,n){return{name:Wd(e,t),fields:n.value.mapValue.fields}}function KI(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,u){return l.wt?(ye(u===void 0||typeof u=="string"),dt.fromBase64String(u||"")):(ye(u===void 0||u instanceof Uint8Array),dt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?N.UNKNOWN:kw(l.code);return new P(u,l.message||"")}(o);n=new Rw(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pc(e,r.document.name),s=mn(r.document.updateTime),o=r.document.createTime?mn(r.document.createTime):Q.min(),a=new $t({mapValue:{fields:r.document.fields}}),l=pt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ul(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Pc(e,r.document),s=r.readTime?mn(r.readTime):Q.min(),o=pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ul([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Pc(e,r.document),s=r.removedTargetIds||[];n=new ul([],s,i,null)}else{if(!("filter"in t))return W();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,s=new LI(i),o=r.targetId;n=new Dw(o,s)}}return n}function GI(e,t){let n;if(t instanceof ma)n={update:Rg(e,t.key,t.value)};else if(t instanceof Bh)n={delete:Wd(e,t.key)};else if(t instanceof Dr)n={update:Rg(e,t.key,t.data),updateMask:r_(t.fieldMask)};else{if(!(t instanceof AI))return W();n={verify:Wd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof bl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Io)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof _o)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Fl)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw W()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:WI(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:W()}(e,t.precondition)),n}function QI(e,t){return e&&e.length>0?(ye(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?mn(r.updateTime):mn(i);return s.isEqual(Q.min())&&(s=mn(i)),new DI(s,r.transformResults||[])}(n,t))):[]}function XI(e,t){return{documents:[qd(e,t.path)]}}function YI(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=qd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=qd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Mw(Sn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Si(c.field),direction:e_(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||Pu(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function JI(e){let t=qI(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=Pw(c);return d instanceof Sn&&lw(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Ys(xi(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Pu(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new Ml(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new Ml(f,d)}(n.endAt)),xI(t,i,o,s,a,"F",l,u)}function ZI(e,t){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return W()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function Pw(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=xi(t.unaryFilter.field);return Fe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=xi(t.unaryFilter.field);return Fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xi(t.unaryFilter.field);return Fe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xi(t.unaryFilter.field);return Fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(e):e.fieldFilter!==void 0?function(t){return Fe.create(xi(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return Sn.create(t.compositeFilter.filters.map(n=>Pw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return W()}}(t.compositeFilter.op))}(e):W()}function e_(e){return jI[e]}function t_(e){return VI[e]}function n_(e){return zI[e]}function Si(e){return{fieldPath:e.canonicalString()}}function xi(e){return lt.fromServerFormat(e.fieldPath)}function Mw(e){return e instanceof Fe?function(t){if(t.op==="=="){if(yg(t.value))return{unaryFilter:{field:Si(t.field),op:"IS_NAN"}};if(vg(t.value))return{unaryFilter:{field:Si(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yg(t.value))return{unaryFilter:{field:Si(t.field),op:"IS_NOT_NAN"}};if(vg(t.value))return{unaryFilter:{field:Si(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Si(t.field),op:t_(t.op),value:t.value}}}(e):e instanceof Sn?function(t){const n=t.getFilters().map(r=>Mw(r));return n.length===1?n[0]:{compositeFilter:{op:n_(t.op),filters:n}}}(e):W()}function r_(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function bw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i_=class{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&RI(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Js(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Js(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=_w();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=xw(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ne())}isEqual(t){return this.batchId===t.batchId&&Qi(this.mutations,t.mutations,(n,r)=>kg(n,r))&&Qi(this.baseMutations,t.baseMutations,(n,r)=>kg(n,r))}},Fw=class{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){ye(t.mutations.length===r.length);let i=bI;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Fw(t,n,r,i)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s_=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ji=class{constructor(t,n,r,i,s=Q.min(),o=Q.min(),a=dt.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new ji(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o_=class{constructor(t){this.ie=t}};function a_(e){const t=JI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?zd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.Je=new u_}addToCollectionParentIndex(t,n){return this.Je.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Je.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(Sr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(Sr.min())}updateCollectionGroup(t,n,r){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class u_{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ke(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ke(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Zi(0)}static vn(){return new Zi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.changes=new vs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,pt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Js(r.mutation,i,jt.empty(),Ve.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ne()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ne()){const i=Hr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Vs();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Hr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ne()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=jn();const o=Zs(),a=Zs();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Dr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Js(c.mutation,u,c.mutation.getFieldMask(),Ve.now())):o.set(u.key,jt.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new d_(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Zs();let i=new Xe((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||jt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ne()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=_w();c.forEach(f=>{if(!s.has(f)){const m=xw(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return j.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):$.resolve(Hr());let a=-1,l=s;return o.next(u=>$.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?$.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ne())).next(c=>({batchId:a,changes:Iw(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new j(n)).next(r=>{let i=Vs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=Vs();return this.indexManager.getCollectionParents(t,i).next(o=>$.forEach(o,a=>{const l=function(u,c){return new pa(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,pt.newInvalidDocument(u)))});let o=Vs();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Js(u.mutation,l,jt.empty(),Ve.now()),bu(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,n){return $.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:mn(r.createTime)}),$.resolve()}getNamedQuery(t,n){return $.resolve(this.ts.get(n))}saveNamedQuery(t,n){return this.ts.set(n.name,function(r){return{name:r.name,query:a_(r.bundledQuery),readTime:mn(r.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.overlays=new Xe(j.comparator),this.es=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Hr();return $.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.oe(t,n,s)}),$.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),$.resolve()}getOverlaysForCollection(t,n,r){const i=Hr(),s=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Xe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Hr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Hr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return $.resolve(a)}oe(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s_(n,r));let s=this.es.get(n);s===void 0&&(s=ne(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.ns=new Ke(We.ss),this.rs=new Ke(We.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,n){const r=new We(t,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.cs(new We(t,n))}hs(t,n){t.forEach(r=>this.removeReference(r,n))}ls(t){const n=new j(new Ee([])),r=new We(n,t),i=new We(n,t+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const n=new j(new Ee([])),r=new We(n,t),i=new We(n,t+1);let s=ne();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new We(t,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class We{constructor(t,n){this.key=t,this._s=n}static ss(t,n){return j.comparator(t.key,n.key)||de(t._s,n._s)}static os(t,n){return de(t._s,n._s)||j.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Ke(We.ss)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new i_(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new We(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(t,n){return $.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ke(de);return n.forEach(i=>{const s=new We(i,0),o=new We(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),$.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;j.isDocumentKey(s)||(s=s.child(""));const o=new We(new j(s),0);let a=new Ke(de);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),$.resolve(this.Is(a))}Is(t){const n=[];return t.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ye(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return $.forEach(n.mutations,i=>{const s=new We(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.gs=r})}An(t){}containsKey(t,n){const r=new We(n,0),i=this.gs.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}Ts(t,n){return this.ps(t)}ps(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ys(t){const n=this.ps(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t){this.Es=t,this.docs=new Xe(j.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(t,n){let r=jn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=jn();const o=n.path,a=new j(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||oI(sI(c),r)<=0||(i.has(c.key)||bu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(t,n,r,i){W()}As(t,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new v_(this)}getSize(t){return $.resolve(this.size)}}class v_ extends c_{constructor(t){super(),this.Yn=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(t,i)):this.Yn.removeEntry(r)}),$.waitFor(n)}getFromCache(t,n){return this.Yn.getEntry(t,n)}getAllFromCache(t,n){return this.Yn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(t){this.persistence=t,this.Rs=new vs(n=>Ph(n),Mh),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new jh,this.targetCount=0,this.vs=Zi.Pn()}forEachTarget(t,n){return this.Rs.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),$.resolve()}Dn(t){this.Rs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.vs=new Zi(n),this.highestTargetId=n),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,n){return this.Dn(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Dn(n),$.resolve()}removeTargetData(t,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const r=this.Rs.get(n)||null;return $.resolve(r)}addMatchingKeys(t,n,r){return this.Ps.us(n,r),$.resolve()}removeMatchingKeys(t,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Ps.ls(n),$.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Ps.ds(n);return $.resolve(r)}containsKey(t,n){return $.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(t,n){this.Vs={},this.overlays={},this.Ss=new Ah(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new y_(this),this.indexManager=new l_,this.remoteDocumentCache=function(r){return new g_(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new o_(n),this.Ns=new h_(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new p_,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Vs[t.toKey()];return r||(r=new m_(n,this.referenceDelegate),this.Vs[t.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,n,r){U("MemoryPersistence","Starting transaction:",t);const i=new E_(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(t,n){return $.or(Object.values(this.Vs).map(r=>()=>r.containsKey(t,n)))}}class E_ extends lI{constructor(t){super(),this.currentSequenceNumber=t}}class Vh{constructor(t){this.persistence=t,this.Fs=new jh,this.$s=null}static Bs(t){return new Vh(t)}get Ls(){if(this.$s)return this.$s;throw W()}addReference(t,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),$.resolve()}removeReference(t,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.Ls.add(n.toString()),$.resolve()}removeTarget(t,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}ks(){this.$s=new Set}Os(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Ls,r=>{const i=j.fromPath(r);return this.qs(t,i).next(s=>{s||n.removeEntry(i,Q.min())})}).next(()=>(this.$s=null,n.apply(t)))}updateLimboDocument(t,n){return this.qs(t,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(t){return 0}qs(t,n){return $.or([()=>$.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ms(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}static Ci(t,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zh(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.xi=!1}initialize(t,n){this.Ni=t,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(t,n,r,i){return this.ki(t,n).next(s=>s||this.Oi(t,n,i,r)).next(s=>s||this.Mi(t,n))}ki(t,n){if(xg(n))return $.resolve(null);let r=Un(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zd(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ne(...s);return this.Ni.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(t,zd(n,null,"F")):this.Bi(t,u,n,l)}))})))}Oi(t,n,r,i){return xg(n)||i.isEqual(Q.min())?this.Mi(t,n):this.Ni.getDocuments(t,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(t,n):(hg()<=ce.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hd(n)),this.Bi(t,o,n,iI(i,-1)))})}Fi(t,n){let r=new Ke(gw(t));return n.forEach((i,s)=>{bu(t,s)&&(r=r.add(s))}),r}$i(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(t,n){return hg()<=ce.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Hd(n)),this.Ni.getDocumentsMatchingQuery(t,n,Sr.min())}Bi(t,n,r,i){return this.Ni.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(t,n,r,i){this.persistence=t,this.Li=n,this.yt=i,this.qi=new Xe(de),this.Ui=new vs(s=>Ph(s),Mh),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new f_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.qi))}}function x_(e,t,n,r){return new S_(e,t,n,r)}async function Bw(e,t){const n=X(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ne();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function T_(e,t){const n=X(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=$.resolve();return d.forEach(m=>{f=f.next(()=>u.getEntry(a,m)).next(y=>{const E=l.docVersions.get(m);ye(E!==null),y.version.compareTo(E)<0&&(c.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ne();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Uw(e){const t=X(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Cs.getLastRemoteSnapshotVersion(n))}function k_(e,t){const n=X(e),r=t.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];t.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(d)?m=m.withResumeToken(dt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(y,E,C){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(f,m,c)&&a.push(n.Cs.updateTargetData(s,m))});let l=jn(),u=ne();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(N_(s,o,t.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(Q.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=i,s))}function N_(e,t,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=jn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function I_(e,t){const n=X(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function __(e,t){const n=X(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,t).next(s=>s?(i=s,$.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new ji(t,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(t,r.targetId)),r})}async function Gd(e,t,n){const r=X(e),i=r.qi.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ha(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.qi=r.qi.remove(t),r.Ui.delete(i.target)}function Og(e,t,n){const r=X(e);let i=Q.min(),s=ne();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=X(a),d=c.Ui.get(u);return d!==void 0?$.resolve(c.qi.get(d)):c.Cs.getTargetData(l,u)}(r,o,Un(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,t,n?i:Q.min(),n?s:ne())).next(a=>($_(r,TI(t),a),{documents:a,Hi:s})))}function $_(e,t,n){let r=e.Ki.get(t)||Q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Ki.set(t,r)}class Ag{constructor(){this.activeTargetIds=$w()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class D_{constructor(){this.Lr=new Ag,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,n,r){this.qr[t]=n}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Ag,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{Ur(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,n,r,i,s){const o=this.ho(t,n);U("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(t,o,a,r).then(l=>(U("RestConnection","Received: ",l),l),l=>{throw bd("RestConnection",`${t} failed with error: `,l,"url: ",o,"request:",r),l})}_o(t,n,r,i,s,o){return this.ao(t,n,r,i,s)}lo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+gs,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}ho(t,n){const r=O_[t];return`${this.oo}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,n,r,i){return new Promise((s,o)=>{const a=new GN;a.setWithCredentials(!0),a.listenOnce(WN.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Lc.NO_ERROR:const u=a.getResponseJson();U("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Lc.TIMEOUT:U("Connection",'RPC "'+t+'" timed out'),o(new P(N.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const c=a.getStatus();if(U("Connection",'RPC "'+t+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const m=function(y){const E=y.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(E)>=0?E:N.UNKNOWN}(f.status);o(new P(m,f.message))}else o(new P(N.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new P(N.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{U("Connection",'RPC "'+t+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(t,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=zN(),o=HN(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new KN({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");U("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const f=new A_({Hr:y=>{d?U("Connection","Not sending because WebChannel is closed:",y):(c||(U("Connection","Opening WebChannel transport."),u.open(),c=!0),U("Connection","WebChannel sending:",y),u.send(y))},Jr:()=>u.close()}),m=(y,E,C)=>{y.listen(E,g=>{try{C(g)}catch(p){setTimeout(()=>{throw p},0)}})};return m(u,Pa.EventType.OPEN,()=>{d||U("Connection","WebChannel transport opened.")}),m(u,Pa.EventType.CLOSE,()=>{d||(d=!0,U("Connection","WebChannel transport closed"),f.io())}),m(u,Pa.EventType.ERROR,y=>{d||(d=!0,bd("Connection","WebChannel transport errored:",y),f.io(new P(N.UNAVAILABLE,"The operation could not be completed")))}),m(u,Pa.EventType.MESSAGE,y=>{var E;if(!d){const C=y.data[0];ye(!!C);const g=C,p=g.error||((E=g[0])===null||E===void 0?void 0:E.error);if(p){U("Connection","WebChannel received error:",p);const w=p.status;let S=function(x){const k=Le[x];if(k!==void 0)return kw(k)}(w),T=p.message;S===void 0&&(S=N.INTERNAL,T="Unknown error status: "+w+" with message "+p.message),d=!0,f.io(new P(S,T)),u.close()}else U("Connection","WebChannel received:",C),f.ro(C)}}),m(o,qN.STAT_EVENT,y=>{y.stat===dg.PROXY?U("Connection","Detected buffering proxy"):y.stat===dg.NOPROXY&&U("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function Mc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(e){return new HI(e,!0)}class jw{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,n,r,i,s,o,a,l){this.Hs=t,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new jw(t,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,t!==4?this.xo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Bn(n.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{t(()=>{const i=new P(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(t,n){const r=this.Ko(this.So);this.stream=this.jo(t,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return n=>{this.Hs.enqueueAndForget(()=>this.So===t?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P_ extends Vw{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.xo.reset();const n=KI(this.yt,t),r=function(i){if(!("targetChange"in i))return Q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?mn(s.readTime):Q.min()}(t);return this.listener.Wo(n,r)}zo(t){const n={};n.database=Kd(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=jd(a)?{documents:XI(i,a)}:{query:YI(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Ow(i,s.resumeToken):s.snapshotVersion.compareTo(Q.min())>0&&(o.readTime=Bl(i,s.snapshotVersion.toTimestamp())),o}(this.yt,t);const r=ZI(this.yt,t);r&&(n.labels=r),this.Bo(n)}Ho(t){const n={};n.database=Kd(this.yt),n.removeTarget=t,this.Bo(n)}}class M_ extends Vw{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(ye(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const n=QI(t.writeResults,t.commitTime),r=mn(t.commitTime);return this.listener.Zo(r,n)}return ye(!t.writeResults||t.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Kd(this.yt),this.Bo(t)}Xo(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>GI(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_ extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new P(N.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new P(N.UNKNOWN,i.toString())})}_o(t,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new P(N.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class F_{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,t==="Online"&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Bn(n),this.ou=!1):U("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{hi(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=X(a);l._u.add(4),await va(l),l.gu.set("Unknown"),l._u.delete(4),await Vu(l)}(this))})}),this.gu=new F_(r,i)}}async function Vu(e){if(hi(e))for(const t of e.wu)await t(!0)}async function va(e){for(const t of e.wu)await t(!1)}function zw(e,t){const n=X(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),qh(n)?Wh(n):ys(n).ko()&&Hh(n,t))}function Hw(e,t){const n=X(e),r=ys(n);n.du.delete(t),r.ko()&&Ww(n,t),n.du.size===0&&(r.ko()?r.Fo():hi(n)&&n.gu.set("Unknown"))}function Hh(e,t){e.yu.Ot(t.targetId),ys(e).zo(t)}function Ww(e,t){e.yu.Ot(t),ys(e).Ho(t)}function Wh(e){e.yu=new UI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.du.get(t)||null}),ys(e).start(),e.gu.uu()}function qh(e){return hi(e)&&!ys(e).No()&&e.du.size>0}function hi(e){return X(e)._u.size===0}function qw(e){e.yu=void 0}async function U_(e){e.du.forEach((t,n)=>{Hh(e,t)})}async function j_(e,t){qw(e),qh(e)?(e.gu.hu(t),Wh(e)):e.gu.set("Unknown")}async function V_(e,t,n){if(e.gu.set("Online"),t instanceof Rw&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(e,t)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ul(e,r)}else if(t instanceof ul?e.yu.Kt(t):t instanceof Dw?e.yu.Jt(t):e.yu.jt(t),!n.isEqual(Q.min()))try{const r=await Uw(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(dt.EMPTY_BYTE_STRING,l.snapshotVersion)),Ww(i,a);const u=new ji(l.target,a,1,l.sequenceNumber);Hh(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await Ul(e,r)}}async function Ul(e,t,n){if(!ha(t))throw t;e._u.add(1),await va(e),e.gu.set("Offline"),n||(n=()=>Uw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await Vu(e)})}function Kw(e,t){return t().catch(n=>Ul(e,n,t))}async function zu(e){const t=X(e),n=Tr(t);let r=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;z_(t);)try{const i=await I_(t.localStore,r);if(i===null){t.fu.length===0&&n.Fo();break}r=i.batchId,H_(t,i)}catch(i){await Ul(t,i)}Gw(t)&&Qw(t)}function z_(e){return hi(e)&&e.fu.length<10}function H_(e,t){e.fu.push(t);const n=Tr(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Gw(e){return hi(e)&&!Tr(e).No()&&e.fu.length>0}function Qw(e){Tr(e).start()}async function W_(e){Tr(e).eu()}async function q_(e){const t=Tr(e);for(const n of e.fu)t.Xo(n.mutations)}async function K_(e,t,n){const r=e.fu.shift(),i=Fw.from(r,t,n);await Kw(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await zu(e)}async function G_(e,t){t&&Tr(e).Yo&&await async function(n,r){if(i=r.code,PI(i)&&i!==N.ABORTED){const s=n.fu.shift();Tr(n).Mo(),await Kw(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await zu(n)}var i}(e,t),Gw(e)&&Qw(e)}async function Pg(e,t){const n=X(e);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=hi(n);n._u.add(3),await va(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n._u.delete(3),await Vu(n)}async function Q_(e,t){const n=X(e);t?(n._u.delete(2),await Vu(n)):t||(n._u.add(2),await va(n),n.gu.set("Unknown"))}function ys(e){return e.pu||(e.pu=function(t,n,r){const i=X(t);return i.su(),new P_(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(e.datastore,e.asyncQueue,{Yr:U_.bind(null,e),Zr:j_.bind(null,e),Wo:V_.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Mo(),qh(e)?Wh(e):e.gu.set("Unknown")):(await e.pu.stop(),qw(e))})),e.pu}function Tr(e){return e.Iu||(e.Iu=function(t,n,r){const i=X(t);return i.su(),new M_(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(e.datastore,e.asyncQueue,{Yr:W_.bind(null,e),Zr:G_.bind(null,e),tu:q_.bind(null,e),Zo:K_.bind(null,e)}),e.wu.push(async t=>{t?(e.Iu.Mo(),await zu(e)):(await e.Iu.stop(),e.fu.length>0&&(U("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))})),e.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xw=class{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Xw(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new P(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Kh(e,t){if(Bn("AsyncQueue",`${t}: ${e}`),ha(e))return new P(N.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo=class{constructor(t){this.comparator=t?(n,r)=>t(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=Vs(),this.sortedSet=new Xe(this.comparator)}static emptySet(t){return new eo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg=class{constructor(){this.Tu=new Xe(j.comparator)}track(t){const n=t.doc.key,r=this.Tu.get(n);r?t.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,t):t.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Tu=this.Tu.remove(n):t.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:t.doc}):W():this.Tu=this.Tu.insert(n,t)}Eu(){const t=[];return this.Tu.inorderTraversal((n,r)=>{t.push(r)}),t}},$o=class{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $o(t,n,eo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X_=class{constructor(){this.Au=void 0,this.listeners=[]}},Y_=class{constructor(){this.queries=new vs(t=>mw(t),Mu),this.onlineState="Unknown",this.Ru=new Set}};async function Yw(e,t){const n=X(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new X_),i)try{s.Au=await n.onListen(r)}catch(o){const a=Kh(o,`Initialization of query '${Hd(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.bu(n.onlineState),s.Au&&t.Pu(s.Au)&&Gh(n)}async function Jw(e,t){const n=X(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function J_(e,t){const n=X(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&Gh(n)}function Z_(e,t,n){const r=X(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Gh(e){e.Ru.forEach(t=>{t.next()})}class Zw{constructor(t,n,r){this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new $o(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),n=!0):this.Cu(t,this.onlineState)&&(this.xu(t),n=!0),this.Su=t,n}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),n=!0),n}Cu(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Du(t){if(t.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(t){t=$o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e1=class{constructor(t){this.key=t}},t1=class{constructor(t){this.key=t}},e$=class{constructor(t,n){this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ne(),this.mutatedKeys=ne(),this.Gu=gw(t),this.Qu=new eo(this.Gu)}get ju(){return this.qu}Wu(t,n){const r=n?n.zu:new Mg,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const f=i.get(c),m=bu(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let C=!1;f&&m?f.data.isEqual(m.data)?y!==E&&(r.track({type:3,doc:m}),C=!0):this.Hu(f,m)||(r.track({type:2,doc:m}),C=!0,(l&&this.Gu(m,l)>0||u&&this.Gu(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),C=!0):f&&!m&&(r.track({type:1,doc:f}),C=!0,(l||u)&&(a=!0)),C&&(m?(o=o.add(m),s=E?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((u,c)=>function(d,f){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return m(d)-m(f)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new $o(this.query,t.Qu,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Mg,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=ne(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return t.forEach(r=>{this.Ku.has(r)||n.push(new t1(r))}),this.Ku.forEach(r=>{t.has(r)||n.push(new e1(r))}),n}tc(t){this.qu=t.Hi,this.Ku=ne();const n=this.Wu(t.documents);return this.applyChanges(n,!0)}ec(){return $o.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}},t$=class{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}},n$=class{constructor(t){this.key=t,this.nc=!1}},r$=class{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new vs(a=>mw(a),Mu),this.rc=new Map,this.oc=new Set,this.uc=new Xe(j.comparator),this.cc=new Map,this.ac=new jh,this.hc={},this.lc=new Map,this.fc=Zi.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}};async function i$(e,t){const n=p$(e);let r,i;const s=n.ic.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await __(n.localStore,Un(t));n.isPrimaryClient&&zw(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await s$(n,t,r,a==="current",o.resumeToken)}return i}async function s$(e,t,n,r,i){e._c=(d,f,m)=>async function(y,E,C,g){let p=E.view.Wu(C);p.$i&&(p=await Og(y.localStore,E.query,!1).then(({documents:T})=>E.view.Wu(T,p)));const w=g&&g.targetChanges.get(E.targetId),S=E.view.applyChanges(p,y.isPrimaryClient,w);return Fg(y,E.targetId,S.Xu),S.snapshot}(e,d,f,m);const s=await Og(e.localStore,t,!0),o=new e$(t,s.Hi),a=o.Wu(s.documents),l=ga.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);Fg(e,n,u.Xu);const c=new t$(t,n,o);return e.ic.set(t,c),e.rc.has(n)?e.rc.get(n).push(t):e.rc.set(n,[t]),u.snapshot}async function o$(e,t){const n=X(e),r=n.ic.get(t),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!Mu(s,t))),void n.ic.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Gd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hw(n.remoteStore,r.targetId),Qd(n,r.targetId)}).catch(fa)):(Qd(n,r.targetId),await Gd(n.localStore,r.targetId,!0))}async function a$(e,t,n){const r=m$(e);try{const i=await function(s,o){const a=X(s),l=Ve.now(),u=o.reduce((f,m)=>f.add(m.key),ne());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=jn(),y=ne();return a.Gi.getEntries(f,u).next(E=>{m=E,m.forEach((C,g)=>{g.isValidDocument()||(y=y.add(C))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(E=>{c=E;const C=[];for(const g of o){const p=OI(g,c.get(g.key).overlayedDocument);p!=null&&C.push(new Dr(g.key,p,fw(p.value.mapValue),nn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,C,o)}).next(E=>{d=E;const C=E.applyToLocalDocumentSet(c,y);return a.documentOverlayCache.saveOverlays(f,E.batchId,C)})}).then(()=>({batchId:d.batchId,changes:Iw(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Xe(de)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await ya(r,i.changes),await zu(r.remoteStore)}catch(i){const s=Kh(i,"Failed to persist write");n.reject(s)}}async function n1(e,t){const n=X(e);try{const r=await k_(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?ye(o.nc):i.removedDocuments.size>0&&(ye(o.nc),o.nc=!1))}),await ya(n,r,t)}catch(r){await fa(r)}}function bg(e,t,n){const r=X(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=X(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&Gh(a)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function l$(e,t,n){const r=X(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.cc.get(t),s=i&&i.key;if(s){let o=new Xe(j.comparator);o=o.insert(s,pt.newNoDocument(s,Q.min()));const a=ne().add(s),l=new Uu(Q.min(),new Map,new Ke(de),o,a);await n1(r,l),r.uc=r.uc.remove(s),r.cc.delete(t),Qh(r)}else await Gd(r.localStore,t,!1).then(()=>Qd(r,t,n)).catch(fa)}async function u$(e,t){const n=X(e),r=t.batch.batchId;try{const i=await T_(n.localStore,t);i1(n,r,null),r1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ya(n,i)}catch(i){await fa(i)}}async function c$(e,t,n){const r=X(e);try{const i=await function(s,o){const a=X(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(ye(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,t);i1(r,t,n),r1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ya(r,i)}catch(i){await fa(i)}}function r1(e,t){(e.lc.get(t)||[]).forEach(n=>{n.resolve()}),e.lc.delete(t)}function i1(e,t,n){const r=X(e);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Qd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.rc.get(t))e.ic.delete(r),n&&e.sc.wc(r,n);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach(r=>{e.ac.containsKey(r)||s1(e,r)})}function s1(e,t){e.oc.delete(t.path.canonicalString());const n=e.uc.get(t);n!==null&&(Hw(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Qh(e))}function Fg(e,t,n){for(const r of n)r instanceof e1?(e.ac.addReference(r.key,t),d$(e,r)):r instanceof t1?(U("SyncEngine","Document no longer in limbo: "+r.key),e.ac.removeReference(r.key,t),e.ac.containsKey(r.key)||s1(e,r.key)):W()}function d$(e,t){const n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(U("SyncEngine","New document in limbo: "+n),e.oc.add(r),Qh(e))}function Qh(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){const t=e.oc.values().next().value;e.oc.delete(t);const n=new j(Ee.fromString(t)),r=e.fc.next();e.cc.set(r,new n$(n)),e.uc=e.uc.insert(n,r),zw(e.remoteStore,new ji(Un(bh(n.path)),r,2,Ah.at))}}async function ya(e,t,n){const r=X(e),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=zh.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=X(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>$.forEach(l,d=>$.forEach(d.Si,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>$.forEach(d.Di,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!ha(c))throw c;U("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.qi.get(d),m=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(m);u.qi=u.qi.insert(d,y)}}}(r.localStore,s))}async function f$(e,t){const n=X(e);if(!n.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const r=await Bw(n.localStore,t);n.currentUser=t,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new P(N.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ya(n,r.ji)}}function h$(e,t){const n=X(e),r=n.cc.get(t);if(r&&r.nc)return ne().add(r.key);{let i=ne();const s=n.rc.get(t);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function p$(e){const t=X(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=n1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=h$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=l$.bind(null,t),t.sc.Wo=J_.bind(null,t.eventManager),t.sc.wc=Z_.bind(null,t.eventManager),t}function m$(e){const t=X(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=u$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=c$.bind(null,t),t}let g$=class{constructor(){this.synchronizeTabs=!1}async initialize(t){this.yt=ju(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),await this.persistence.start(),this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore)}Tc(t,n){return null}Ec(t,n){return null}Ic(t){return x_(this.persistence,new C_,t.initialUser,this.yt)}yc(t){return new w_(Vh.Bs,this.yt)}gc(t){return new D_}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},v$=class{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f$.bind(null,this.syncEngine),await Q_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Y_}createDatastore(t){const n=ju(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new L_(i));var i;return function(s,o,a,l){return new b_(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>bg(this.syncEngine,a,0),o=Lg.C()?new Lg:new R_,new B_(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,l,u){const c=new r$(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=X(t);U("RemoteStore","RemoteStore shutting down."),n._u.add(5),await va(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(e,t,n){if(!n)throw new P(N.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function y$(e,t,n,r){if(t===!0&&r===!0)throw new P(N.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Bg(e){if(!j.isDocumentKey(e))throw new P(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ug(e){if(j.isDocumentKey(e))throw new P(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hu(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":W()}function Vn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new P(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hu(e);throw new P(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=new Map;let Vg=class{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new P(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new P(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,y$("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=class{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new P(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vg(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new QN;switch(n.type){case"gapi":const r=n.client;return new ZN(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new P(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=jg.get(t);n&&(U("ComponentProvider","Removing Datastore"),jg.delete(t),n.terminate())}(this),Promise.resolve()}};function w$(e,t,n,r={}){var i;const s=(e=Vn(e,Wu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&bd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=st.MOCK_USER;else{o=AT(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new P(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new st(l)}e._authCredentials=new XN(new tw(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rt=class{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Rt(this.firestore,t,this._key)}},wa=class{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new wa(this.firestore,t,this._query)}},Xr=class extends wa{constructor(t,n,r){super(t,n,bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Rt(this.firestore,null,new j(t))}withConverter(t){return new Xr(this.firestore,t,this._path)}};function Do(e,t,...n){if(e=bn(e),o1("collection","path",t),e instanceof Wu){const r=Ee.fromString(t,...n);return Ug(r),new Xr(e,null,r)}{if(!(e instanceof Rt||e instanceof Xr))throw new P(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ee.fromString(t,...n));return Ug(r),new Xr(e.firestore,null,r)}}function Ea(e,t,...n){if(e=bn(e),arguments.length===1&&(t=nw.R()),o1("doc","path",t),e instanceof Wu){const r=Ee.fromString(t,...n);return Bg(r),new Rt(e,null,new j(r))}{if(!(e instanceof Rt||e instanceof Xr))throw new P(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ee.fromString(t,...n));return Bg(r),new Rt(e.firestore,e instanceof Xr?e.converter:null,new j(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Bn("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E$=class{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=st.UNAUTHENTICATED,this.clientId=nw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{U("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Kh(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}};async function C$(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Bw(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function S$(e,t){e.asyncQueue.verifyOperationInProgress();const n=await x$(e);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Pg(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Pg(t.remoteStore,s)),e.onlineComponents=t}async function x$(e){return e.offlineComponents||(U("FirestoreClient","Using default OfflineComponentProvider"),await C$(e,new g$)),e.offlineComponents}async function l1(e){return e.onlineComponents||(U("FirestoreClient","Using default OnlineComponentProvider"),await S$(e,new v$)),e.onlineComponents}function T$(e){return l1(e).then(t=>t.syncEngine)}async function u1(e){const t=await l1(e),n=t.eventManager;return n.onListen=i$.bind(null,t.syncEngine),n.onUnlisten=o$.bind(null,t.syncEngine),n}function k$(e,t,n={}){const r=new An;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new a1({next:d=>{s.enqueueAndForget(()=>Jw(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new P(N.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new P(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Zw(bh(o.path),u,{includeMetadataChanges:!0,Nu:!0});return Yw(i,c)}(await u1(e),e.asyncQueue,t,n,r)),r.promise}function N$(e,t,n={}){const r=new An;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new a1({next:d=>{s.enqueueAndForget(()=>Jw(i,c)),d.fromCache&&a.source==="server"?l.reject(new P(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Zw(o,u,{includeMetadataChanges:!0,Nu:!0});return Yw(i,c)}(await u1(e),e.asyncQueue,t,n,r)),r.promise}let I$=class{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new jw(this,"async_queue_retry"),this.Wc=()=>{const n=Mc();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const t=Mc();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const n=Mc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const n=new An;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!ha(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(t){const n=this.Bc.then(()=>(this.Gc=!0,t().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Bn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(t,n,r){this.zc(),this.jc.indexOf(t)>-1&&(n=0);const i=Xw.createAndSchedule(this,t,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&W()}verifyOperationInProgress(){}async Xc(){let t;do t=this.Bc,await t;while(t!==this.Bc)}Zc(t){for(const n of this.Uc)if(n.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const n=this.Uc.indexOf(t);this.Uc.splice(n,1)}},ws=class extends Wu{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new I$,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||c1(this),this._firestoreClient.terminate()}};function _$(e,t){const n=typeof e=="object"?e:bk(),r=typeof e=="string"?e:t||"(default)",i=Ak(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=DT("firestore");s&&w$(i,...s)}return i}function Xh(e){return e._firestoreClient||c1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function c1(e){var t;const n=e._freezeSettings(),r=function(i,s,o,a){return new uI(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new E$(e._authCredentials,e._appCheckCredentials,e._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro=class{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ro(dt.fromBase64String(t))}catch(n){throw new P(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ro(dt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=class{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new P(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=class{constructor(t){this._methodName=t}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=class{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new P(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new P(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return de(this._lat,t._lat)||de(this._long,t._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=/^__.*__$/;let D$=class{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Dr(t,this.data,this.fieldMask,n,this.fieldTransforms):new ma(t,this.data,n,this.fieldTransforms)}},d1=class{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Dr(t,this.data,this.fieldMask,n,this.fieldTransforms)}};function f1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}let h1=class{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new h1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ia({path:r,oa:!1});return i.ua(t),i}ca(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ia({path:r,oa:!1});return i.na(),i}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return jl(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(t.length===0)throw this.ha("Document fields must not be empty");if(f1(this.sa)&&$$.test(t))throw this.ha('Document fields cannot begin and end with "__"')}},R$=class{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||ju(t)}da(t,n,r,i=!1){return new h1({sa:t,methodName:n,fa:r,path:lt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}};function Zh(e){const t=e._freezeSettings(),n=ju(e._databaseId);return new R$(e._databaseId,!!t.ignoreUndefinedProperties,n)}function O$(e,t,n,r,i,s={}){const o=e.da(s.merge||s.mergeFields?2:0,t,n,i);tp("Data must be an object, but it was:",o,r);const a=p1(r,o);let l,u;if(s.merge)l=new jt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=Xd(t,d,n);if(!o.contains(f))throw new P(N.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);g1(c,f)||c.push(f)}l=new jt(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new D$(new $t(a),l,u)}let ep=class extends Yh{_toFieldTransform(t){if(t.sa!==2)throw t.sa===1?t.ha(`${this._methodName}() can only appear at the top level of your update data`):t.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ep}};function A$(e,t,n,r){const i=e.da(1,t,n);tp("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();fi(r,(l,u)=>{const c=np(t,l,n);u=bn(u);const d=i.ca(c);if(u instanceof ep)s.push(c);else{const f=Ca(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new jt(s);return new d1(o,a,i.fieldTransforms)}function L$(e,t,n,r,i,s){const o=e.da(1,t,n),a=[Xd(t,r,n)],l=[i];if(s.length%2!=0)throw new P(N.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Xd(t,s[f])),l.push(s[f+1]);const u=[],c=$t.empty();for(let f=a.length-1;f>=0;--f)if(!g1(u,a[f])){const m=a[f];let y=l[f];y=bn(y);const E=o.ca(m);if(y instanceof ep)u.push(m);else{const C=Ca(y,E);C!=null&&(u.push(m),c.set(m,C))}}const d=new jt(u);return new d1(c,d,o.fieldTransforms)}function P$(e,t,n,r=!1){return Ca(n,e.da(r?4:3,t))}function Ca(e,t){if(m1(e=bn(e)))return tp("Unsupported field value:",t,e),p1(e,t);if(e instanceof Yh)return function(n,r){if(!f1(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&t.sa!==4)throw t.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ca(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=bn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return NI(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ve.fromDate(n);return{timestampValue:Bl(r.yt,i)}}if(n instanceof Ve){const i=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Bl(r.yt,i)}}if(n instanceof Jh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ro)return{bytesValue:Ow(r.yt,n._byteString)};if(n instanceof Rt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Uh(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Hu(n)}`)}(e,t)}function p1(e,t){const n={};return rw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fi(e,(r,i)=>{const s=Ca(i,t.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function m1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ve||e instanceof Jh||e instanceof Ro||e instanceof Rt||e instanceof Yh)}function tp(e,t,n){if(!m1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Hu(n);throw r==="an object"?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function Xd(e,t,n){if((t=bn(t))instanceof qu)return t._internalPath;if(typeof t=="string")return np(e,t);throw jl("Field path arguments must be of type string or ",e,!1,void 0,n)}const M$=new RegExp("[~\\*/\\[\\]]");function np(e,t,n){if(t.search(M$)>=0)throw jl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new qu(...t.split("."))._internalPath}catch{throw jl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function jl(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new P(N.INVALID_ARGUMENT,a+e+l)}function g1(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v1=class{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new b$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}},b$=class extends v1{data(){return super.data()}};function rp(e,t){return typeof t=="string"?np(e,t):t instanceof qu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new P(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let ip=class{},B$=class extends ip{};function U$(e,t,...n){let r=[];t instanceof ip&&r.push(t),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof y1).length,o=i.filter(a=>a instanceof sp).length;if(s>1||s>0&&o>0)throw new P(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}let sp=class extends B${constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new sp(t,n,r)}_apply(t){const n=this._parse(t);return w1(t._query,n),new wa(t.firestore,t.converter,Vd(t._query,n))}_parse(t){const n=Zh(t.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new P(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Hg(c,u);const f=[];for(const m of c)f.push(zg(a,i,m));d={arrayValue:{values:f}}}else d=zg(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Hg(c,u),d=P$(o,s,c,u==="in"||u==="not-in");return Fe.create(l,u,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}};function j$(e,t,n){const r=t,i=rp("where",e);return sp._create(i,r,n)}let y1=class extends ip{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new y1(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)w1(s,a),s=Vd(s,a)}(t._query,n),new wa(t.firestore,t.converter,Vd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function zg(e,t,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new P(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pw(t)&&n.indexOf("/")!==-1)throw new P(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ee.fromString(n));if(!j.isDocumentKey(r))throw new P(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gg(e,new j(r))}if(n instanceof Rt)return gg(e,n._key);throw new P(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hu(n)}.`)}function Hg(e,t){if(!Array.isArray(e)||e.length===0)throw new P(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new P(N.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function w1(e,t){if(t.isInequality()){const r=Fh(e),i=t.field;if(r!==null&&!r.isEqual(i))throw new P(N.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=hw(e);s!==null&&V$(e,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new P(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new P(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function V$(e,t,n){if(!n.isEqual(t))throw new P(N.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class z${convertValue(t,n="none"){switch(ni(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Xi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw W()}}convertObject(t,n){const r={};return fi(t.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Jh(Pe(t.latitude),Pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=sw(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ko(t));default:return null}}convertTimestamp(t){const n=xr(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ee.fromString(t);ye(bw(r));const i=new To(r.get(1),r.get(3)),s=new j(r.popFirst(5));return i.isEqual(n)||Bn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class E1 extends v1{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(rp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cl extends E1{data(t={}){return super.data(t)}}class W${constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new zs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new cl(this._firestore,this._userDataWriter,r.key,r,new zs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new P(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new cl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new cl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:q$(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function q$(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(e){e=Vn(e,Rt);const t=Vn(e.firestore,ws);return k$(Xh(t),e._key).then(n=>Q$(t,e,n))}class C1 extends z${constructor(t){super(),this.firestore=t}convertBytes(t){return new Ro(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Yd(e){e=Vn(e,wa);const t=Vn(e.firestore,ws),n=Xh(t),r=new C1(t);return F$(e._query),N$(n,e._query).then(i=>new W$(t,r,e,i))}function G$(e,t,n,...r){e=Vn(e,Rt);const i=Vn(e.firestore,ws),s=Zh(i);let o;return o=typeof(t=bn(t))=="string"||t instanceof qu?L$(s,"updateDoc",e._key,t,n,r):A$(s,"updateDoc",e._key,t),op(i,[o.toMutation(e._key,nn.exists(!0))])}function S1(e){return op(Vn(e.firestore,ws),[new Bh(e._key,nn.none())])}function x1(e,t){const n=Vn(e.firestore,ws),r=Ea(e),i=H$(e.converter,t);return op(n,[O$(Zh(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,nn.exists(!1))]).then(()=>r)}function op(e,t){return function(n,r){const i=new An;return n.asyncQueue.enqueueAndForget(async()=>a$(await T$(n),r,i)),i.promise}(Xh(e),t)}function Q$(e,t,n){const r=n.docs.get(t._key),i=new C1(e);return new E1(e,i,t._key,r,new zs(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(n){gs=n})(Mk),Nl(new go("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ws(new YN(n.getProvider("auth-internal")),new tI(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new P(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Bi(fg,"3.8.2",e),Bi(fg,"3.8.2","esm2017")})();var X$="firebase",Y$="9.17.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(X$,Y$,"app");const J$={apiKey:"AIzaSyDqqq7hzT7b3WAni-mgX3WF6K1WTzUEr1Y",authDomain:"yummy-helados.firebaseapp.com",projectId:"yummy-helados",storageBucket:"yummy-helados.appspot.com",messagingSenderId:"657891710978",appId:"1:657891710978:web:d8933d35fc16e1ea1d6f1b"},Z$=Xy(J$),Ln=_$(Z$);var Jd={},eD={get exports(){return Jd},set exports(e){Jd=e}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)t.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(eD);const z=Jd,tD=["xxl","xl","lg","md","sm","xs"],nD="xs",Ku=h.createContext({prefixes:{},breakpoints:tD,minBreakpoint:nD});function ee(e,t){const{prefixes:n}=h.useContext(Ku);return e||n[t]||t}function T1(){const{breakpoints:e}=h.useContext(Ku);return e}function k1(){const{minBreakpoint:e}=h.useContext(Ku);return e}function ap(){const{dir:e}=h.useContext(Ku);return e==="rtl"}const rD={fluid:!1},Gu=h.forwardRef(({bsPrefix:e,fluid:t,as:n="div",className:r,...i},s)=>{const o=ee(e,"container"),a=typeof t=="string"?`-${t}`:"-fluid";return v(n,{ref:s,...i,className:z(r,t?`${o}${a}`:o)})});Gu.displayName="Container";Gu.defaultProps=rD;var Zd={},iD={get exports(){return Zd},set exports(e){Zd=e}},Vl={},sD={get exports(){return Vl},set exports(e){Vl=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){function i(o,a,l,u,c,d){var f=u||"<<anonymous>>",m=d||l;if(a[l]==null)return o?new Error("Required "+c+" `"+m+"` was not specified "+("in `"+f+"`.")):null;for(var y=arguments.length,E=Array(y>6?y-6:0),C=6;C<y;C++)E[C-6]=arguments[C];return r.apply(void 0,[a,l,f,c,m].concat(E))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}e.exports=t.default})(sD,Vl);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=Vl,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function u(){for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=null;return a.forEach(function(y){if(m==null){var E=y.apply(void 0,d);E!=null&&(m=E)}}),m}return(0,r.default)(u)}e.exports=t.default})(iD,Zd);function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ef.apply(this,arguments)}function N1(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Wg(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function oD(e){var t=aD(e,"string");return typeof t=="symbol"?t:String(t)}function aD(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I1(e,t,n){var r=h.useRef(e!==void 0),i=h.useState(t),s=i[0],o=i[1],a=e!==void 0,l=r.current;return r.current=a,!a&&l&&s!==t&&o(t),[a?e:s,h.useCallback(function(u){for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(d)),o(u)},[n])]}function Qu(e,t){return Object.keys(t).reduce(function(n,r){var i,s=n,o=s[Wg(r)],a=s[r],l=N1(s,[Wg(r),r].map(oD)),u=t[r],c=I1(a,o,e[u]),d=c[0],f=c[1];return ef({},l,(i={},i[r]=d,i[u]=f,i))},e)}function tf(e,t){return tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tf(e,t)}function lD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tf(e,t)}var uD=Function.prototype.bind.call(Function.prototype.call,[].slice);function Nn(e,t){return uD(e.querySelectorAll(t))}function _1(){var e=h.useReducer(function(n){return!n},!1),t=e[1];return t}var qg=function(t){return!t||typeof t=="function"?t:function(n){t.current=n}};function cD(e,t){var n=qg(e),r=qg(t);return function(i){n&&n(i),r&&r(i)}}function Sa(e,t){return h.useMemo(function(){return cD(e,t)},[e,t])}const Xu=h.createContext(null);Xu.displayName="NavContext";const ri=h.createContext(null),Oo=(e,t=null)=>e!=null?String(e):t||null,$1=h.createContext(null),dD="data-rr-ui-",fD="rrUi";function Es(e){return`${dD}${e}`}function hD(e){return`${fD}${e}`}function D1(e){var t=h.useRef(e);return h.useEffect(function(){t.current=e},[e]),t}function Re(e){var t=D1(e);return h.useCallback(function(){return t.current&&t.current.apply(t,arguments)},[t])}const pD=["as","disabled"];function mD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function gD(e){return!e||e.trim()==="#"}function lp({tagName:e,disabled:t,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){e||(n!=null||r!=null||i!=null?e="a":e="button");const u={tagName:e};if(e==="button")return[{type:l||"button",disabled:t},u];const c=f=>{if((t||e==="a"&&gD(n))&&f.preventDefault(),t){f.stopPropagation();return}o==null||o(f)},d=f=>{f.key===" "&&(f.preventDefault(),c(f))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:a,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:c,onKeyDown:d},u]}const up=h.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=mD(e,pD);const[s,{tagName:o}]=lp(Object.assign({tagName:n,disabled:r},i));return v(o,Object.assign({},i,s,{ref:t}))});up.displayName="Button";const vD=["as","active","eventKey"];function yD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function R1({key:e,onClick:t,active:n,id:r,role:i,disabled:s}){const o=h.useContext(ri),a=h.useContext(Xu),l=h.useContext($1);let u=n;const c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");const d=a.getControllerId(e??null),f=a.getControlledId(e??null);c[Es("event-key")]=e,c.id=d||r,u=n==null&&e!=null?a.activeKey===e:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=f)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),s&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=Re(d=>{s||(t==null||t(d),e!=null&&o&&!d.isPropagationStopped()&&o(e,d))}),[c,{isActive:u}]}const O1=h.forwardRef((e,t)=>{let{as:n=up,active:r,eventKey:i}=e,s=yD(e,vD);const[o,a]=R1(Object.assign({key:Oo(i,s.href),active:r},s));return o[Es("active")]=a.isActive,v(n,Object.assign({},s,o,{ref:t}))});O1.displayName="NavItem";const wD=["as","onSelect","activeKey","role","onKeyDown"];function ED(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Kg=()=>{},Gg=Es("event-key"),A1=h.forwardRef((e,t)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=e,a=ED(e,wD);const l=_1(),u=h.useRef(!1),c=h.useContext(ri),d=h.useContext($1);let f,m;d&&(s=s||"tablist",i=d.activeKey,f=d.getControlledId,m=d.getControllerId);const y=h.useRef(null),E=w=>{const S=y.current;if(!S)return null;const T=Nn(S,`[${Gg}]:not([aria-disabled=true])`),x=S.querySelector("[aria-selected=true]");if(!x||x!==document.activeElement)return null;const k=T.indexOf(x);if(k===-1)return null;let I=k+w;return I>=T.length&&(I=0),I<0&&(I=T.length-1),T[I]},C=(w,S)=>{w!=null&&(r==null||r(w,S),c==null||c(w,S))},g=w=>{if(o==null||o(w),!d)return;let S;switch(w.key){case"ArrowLeft":case"ArrowUp":S=E(-1);break;case"ArrowRight":case"ArrowDown":S=E(1);break;default:return}S&&(w.preventDefault(),C(S.dataset[hD("EventKey")]||null,w),u.current=!0,l())};h.useEffect(()=>{if(y.current&&u.current){const w=y.current.querySelector(`[${Gg}][aria-selected=true]`);w==null||w.focus()}u.current=!1});const p=Sa(t,y);return v(ri.Provider,{value:C,children:v(Xu.Provider,{value:{role:s,activeKey:Oo(i),getControlledId:f||Kg,getControllerId:m||Kg},children:v(n,Object.assign({},a,{onKeyDown:g,ref:p,role:s}))})})});A1.displayName="Nav";const CD=Object.assign(A1,{Item:O1}),Rr=h.createContext(null);Rr.displayName="NavbarContext";const cp=h.createContext(null);cp.displayName="CardHeaderContext";var SD=/-(.)/g;function xD(e){return e.replace(SD,function(t,n){return n.toUpperCase()})}const TD=e=>e[0].toUpperCase()+xD(e).slice(1);function ze(e,{displayName:t=TD(e),Component:n,defaultProps:r}={}){const i=h.forwardRef(({className:s,bsPrefix:o,as:a=n||"div",...l},u)=>{const c=ee(o,e);return v(a,{ref:u,className:z(s,c),...l})});return i.defaultProps=r,i.displayName=t,i}const kD=ze("nav-item");function L1(){return h.useState(null)}function ND(e,t,n,r){r===void 0&&(r=!1);var i=Re(n);h.useEffect(function(){var s=typeof e=="function"?e():e;return s.addEventListener(t,i,r),function(){return s.removeEventListener(t,i,r)}},[e])}function dp(){var e=h.useRef(!0),t=h.useRef(function(){return e.current});return h.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t.current}function P1(e){var t=h.useRef(null);return h.useEffect(function(){t.current=e}),t.current}var ID=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",_D=typeof document<"u";const M1=_D||ID?h.useLayoutEffect:h.useEffect,$D=["onKeyDown"];function DD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function RD(e){return!e||e.trim()==="#"}const Ao=h.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=DD(e,$D);const[i]=lp(Object.assign({tagName:"a"},r)),s=Re(o=>{i.onKeyDown(o),n==null||n(o)});return RD(r.href)||r.role==="button"?v("a",Object.assign({ref:t},r,i,{onKeyDown:s})):v("a",Object.assign({ref:t},r,{onKeyDown:n}))});Ao.displayName="Anchor";const OD={disabled:!1},Yu=h.forwardRef(({bsPrefix:e,className:t,as:n=Ao,active:r,eventKey:i,...s},o)=>{e=ee(e,"nav-link");const[a,l]=R1({key:Oo(i,s.href),active:r,...s});return v(n,{...s,...a,ref:o,className:z(t,e,s.disabled&&"disabled",l.isActive&&"active")})});Yu.displayName="NavLink";Yu.defaultProps=OD;const AD={justify:!1,fill:!1},fp=h.forwardRef((e,t)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s,justify:o,navbar:a,navbarScroll:l,className:u,activeKey:c,...d}=Qu(e,{activeKey:"onSelect"}),f=ee(r,"nav");let m,y,E=!1;const C=h.useContext(Rr),g=h.useContext(cp);return C?(m=C.bsPrefix,E=a??!0):g&&({cardHeaderBsPrefix:y}=g),v(CD,{as:n,ref:t,activeKey:c,className:z(u,{[f]:!E,[`${m}-nav`]:E,[`${m}-nav-scroll`]:E&&l,[`${y}-${i}`]:!!y,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:o}),...d})});fp.displayName="Nav";fp.defaultProps=AD;const Fa=Object.assign(fp,{Item:kD,Link:Yu}),b1=h.forwardRef(({bsPrefix:e,className:t,as:n,...r},i)=>{e=ee(e,"navbar-brand");const s=n||(r.href?"a":"span");return v(s,{...r,ref:i,className:z(t,e)})});b1.displayName="NavbarBrand";function xa(e){return e&&e.ownerDocument||document}function LD(e){var t=xa(e);return t&&t.defaultView||window}function PD(e,t){return LD(e).getComputedStyle(e,t)}var MD=/([A-Z])/g;function bD(e){return e.replace(MD,"-$1").toLowerCase()}var FD=/^ms-/;function Ba(e){return bD(e).replace(FD,"-ms-")}var BD=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function UD(e){return!!(e&&BD.test(e))}function Pn(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Ba(t))||PD(e).getPropertyValue(Ba(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(Ba(i)):UD(i)?r+=i+"("+s+") ":n+=Ba(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var rn={},jD={get exports(){return rn},set exports(e){rn=e}},VD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zD=VD,HD=zD;function F1(){}function B1(){}B1.resetWarningCache=F1;var WD=function(){function e(r,i,s,o,a,l){if(l!==HD){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:B1,resetWarningCache:F1};return n.PropTypes=n,n};jD.exports=WD();var zl={},qD={get exports(){return zl},set exports(e){zl=e}},Pt={},nf={},KD={get exports(){return nf},set exports(e){nf=e}},U1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var O=D.length;D.push(L);e:for(;0<O;){var Z=O-1>>>1,Y=D[Z];if(0<i(Y,L))D[Z]=L,D[O]=Y,O=Z;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var L=D[0],O=D.pop();if(O!==L){D[0]=O;e:for(var Z=0,Y=D.length,he=Y>>>1;Z<he;){var Se=2*(Z+1)-1,K=D[Se],pe=Se+1,ke=D[pe];if(0>i(K,O))pe<Y&&0>i(ke,K)?(D[Z]=ke,D[pe]=O,Z=pe):(D[Z]=K,D[Se]=O,Z=Se);else if(pe<Y&&0>i(ke,O))D[Z]=ke,D[pe]=O,Z=pe;else break e}}return L}function i(D,L){var O=D.sortIndex-L.sortIndex;return O!==0?O:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,m=!1,y=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=D)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function S(D){if(E=!1,w(D),!y)if(n(l)!==null)y=!0,te(T);else{var L=n(u);L!==null&&ue(S,L.startTime-D)}}function T(D,L){y=!1,E&&(E=!1,g(I),I=-1),m=!0;var O=f;try{for(w(L),d=n(l);d!==null&&(!(d.expirationTime>L)||D&&!b());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,f=d.priorityLevel;var Y=Z(d.expirationTime<=L);L=e.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(l)&&r(l),w(L)}else r(l);d=n(l)}if(d!==null)var he=!0;else{var Se=n(u);Se!==null&&ue(S,Se.startTime-L),he=!1}return he}finally{d=null,f=O,m=!1}}var x=!1,k=null,I=-1,B=5,R=-1;function b(){return!(e.unstable_now()-R<B)}function V(){if(k!==null){var D=e.unstable_now();R=D;var L=!0;try{L=k(!0,D)}finally{L?H():(x=!1,k=null)}}else x=!1}var H;if(typeof p=="function")H=function(){p(V)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,J=ie.port2;ie.port1.onmessage=V,H=function(){J.postMessage(null)}}else H=function(){C(V,0)};function te(D){k=D,x||(x=!0,H())}function ue(D,L){I=C(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,te(T))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var O=f;f=L;try{return D()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var O=f;f=D;try{return L()}finally{f=O}},e.unstable_scheduleCallback=function(D,L,O){var Z=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Z+O:Z):O=Z,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=O+Y,D={id:c++,callback:L,priorityLevel:D,startTime:O,expirationTime:Y,sortIndex:-1},O>Z?(D.sortIndex=O,t(u,D),n(l)===null&&D===n(u)&&(E?(g(I),I=-1):E=!0,ue(S,O-Z))):(D.sortIndex=Y,t(l,D),y||m||(y=!0,te(T))),D},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(D){var L=f;return function(){var O=f;f=L;try{return D.apply(this,arguments)}finally{f=O}}}})(U1);(function(e){e.exports=U1})(KD);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=h,Lt=nf;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V1=new Set,Lo={};function pi(e,t){es(e,t),es(e+"Capture",t)}function es(e,t){for(Lo[e]=t,e=0;e<t.length;e++)V1.add(t[e])}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rf=Object.prototype.hasOwnProperty,GD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qg={},Xg={};function QD(e){return rf.call(Xg,e)?!0:rf.call(Qg,e)?!1:GD.test(e)?Xg[e]=!0:(Qg[e]=!0,!1)}function XD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YD(e,t,n,r){if(t===null||typeof t>"u"||XD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var hp=/[\-:]([a-z])/g;function pp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hp,pp);tt[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hp,pp);tt[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hp,pp);tt[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function mp(e,t,n,r){var i=tt.hasOwnProperty(t)?tt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YD(t,n,i,r)&&(n=null),r||i===null?QD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qn=j1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ua=Symbol.for("react.element"),ki=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),gp=Symbol.for("react.strict_mode"),sf=Symbol.for("react.profiler"),z1=Symbol.for("react.provider"),H1=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),of=Symbol.for("react.suspense"),af=Symbol.for("react.suspense_list"),yp=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),W1=Symbol.for("react.offscreen"),Yg=Symbol.iterator;function Ds(e){return e===null||typeof e!="object"?null:(e=Yg&&e[Yg]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,bc;function Hs(e){if(bc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bc=t&&t[1]||""}return`
`+bc+e}var Fc=!1;function Bc(e,t){if(!e||Fc)return"";Fc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hs(e):""}function JD(e){switch(e.tag){case 5:return Hs(e.type);case 16:return Hs("Lazy");case 13:return Hs("Suspense");case 19:return Hs("SuspenseList");case 0:case 2:case 15:return e=Bc(e.type,!1),e;case 11:return e=Bc(e.type.render,!1),e;case 1:return e=Bc(e.type,!0),e;default:return""}}function lf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ni:return"Fragment";case ki:return"Portal";case sf:return"Profiler";case gp:return"StrictMode";case of:return"Suspense";case af:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H1:return(e.displayName||"Context")+".Consumer";case z1:return(e._context.displayName||"Context")+".Provider";case vp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yp:return t=e.displayName||null,t!==null?t:lf(e.type)||"Memo";case tr:t=e._payload,e=e._init;try{return lf(e(t))}catch{}}return null}function ZD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lf(t);case 8:return t===gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eR(e){var t=q1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ja(e){e._valueTracker||(e._valueTracker=eR(e))}function K1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uf(e,t){var n=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Jg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G1(e,t){t=t.checked,t!=null&&mp(e,"checked",t,!1)}function cf(e,t){G1(e,t);var n=kr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?df(e,t.type,n):t.hasOwnProperty("defaultValue")&&df(e,t.type,kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function df(e,t,n){(t!=="number"||Hl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ws=Array.isArray;function Vi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ff(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ev(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(Ws(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kr(n)}}function Q1(e,t){var n=kr(t.value),r=kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function X1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?X1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Va,Y1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Va=Va||document.createElement("div"),Va.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Va.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Po(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tR=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(e){tR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),to[t]=to[e]})});function J1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||to.hasOwnProperty(e)&&to[e]?(""+t).trim():t+"px"}function Z1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=J1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var nR=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pf(e,t){if(t){if(nR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function mf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=null;function wp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vf=null,zi=null,Hi=null;function nv(e){if(e=Na(e)){if(typeof vf!="function")throw Error(_(280));var t=e.stateNode;t&&(t=nc(t),vf(e.stateNode,e.type,t))}}function eE(e){zi?Hi?Hi.push(e):Hi=[e]:zi=e}function tE(){if(zi){var e=zi,t=Hi;if(Hi=zi=null,nv(e),t)for(e=0;e<t.length;e++)nv(t[e])}}function nE(e,t){return e(t)}function rE(){}var Uc=!1;function iE(e,t,n){if(Uc)return e(t,n);Uc=!0;try{return nE(e,t,n)}finally{Uc=!1,(zi!==null||Hi!==null)&&(rE(),tE())}}function Mo(e,t){var n=e.stateNode;if(n===null)return null;var r=nc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var yf=!1;if(zn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){yf=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{yf=!1}function rR(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var no=!1,Wl=null,ql=!1,wf=null,iR={onError:function(e){no=!0,Wl=e}};function sR(e,t,n,r,i,s,o,a,l){no=!1,Wl=null,rR.apply(iR,arguments)}function oR(e,t,n,r,i,s,o,a,l){if(sR.apply(this,arguments),no){if(no){var u=Wl;no=!1,Wl=null}else throw Error(_(198));ql||(ql=!0,wf=u)}}function mi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rv(e){if(mi(e)!==e)throw Error(_(188))}function aR(e){var t=e.alternate;if(!t){if(t=mi(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return rv(i),e;if(s===r)return rv(i),t;s=s.sibling}throw Error(_(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function oE(e){return e=aR(e),e!==null?aE(e):null}function aE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aE(e);if(t!==null)return t;e=e.sibling}return null}var lE=Lt.unstable_scheduleCallback,iv=Lt.unstable_cancelCallback,lR=Lt.unstable_shouldYield,uR=Lt.unstable_requestPaint,Ae=Lt.unstable_now,cR=Lt.unstable_getCurrentPriorityLevel,Ep=Lt.unstable_ImmediatePriority,uE=Lt.unstable_UserBlockingPriority,Kl=Lt.unstable_NormalPriority,dR=Lt.unstable_LowPriority,cE=Lt.unstable_IdlePriority,Ju=null,gn=null;function fR(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Ju,e,void 0,(e.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:mR,hR=Math.log,pR=Math.LN2;function mR(e){return e>>>=0,e===0?32:31-(hR(e)/pR|0)|0}var za=64,Ha=4194304;function qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=qs(a):(s&=o,s!==0&&(r=qs(s)))}else o=n&~i,o!==0?r=qs(o):s!==0&&(r=qs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-sn(t),i=1<<n,r|=e[n],t&=~i;return r}function gR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vR(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-sn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=gR(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Ef(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dE(){var e=za;return za<<=1,!(za&4194240)&&(za=64),e}function jc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ta(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sn(t),e[t]=n}function yR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-sn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Cp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-sn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var fe=0;function fE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hE,Sp,pE,mE,gE,Cf=!1,Wa=[],hr=null,pr=null,mr=null,bo=new Map,Fo=new Map,ir=[],wR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sv(e,t){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(t.pointerId)}}function Os(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Na(t),t!==null&&Sp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ER(e,t,n,r,i){switch(t){case"focusin":return hr=Os(hr,e,t,n,r,i),!0;case"dragenter":return pr=Os(pr,e,t,n,r,i),!0;case"mouseover":return mr=Os(mr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return bo.set(s,Os(bo.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fo.set(s,Os(Fo.get(s)||null,e,t,n,r,i)),!0}return!1}function vE(e){var t=Wr(e.target);if(t!==null){var n=mi(t);if(n!==null){if(t=n.tag,t===13){if(t=sE(n),t!==null){e.blockedOn=t,gE(e.priority,function(){pE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gf=r,n.target.dispatchEvent(r),gf=null}else return t=Na(n),t!==null&&Sp(t),e.blockedOn=n,!1;t.shift()}return!0}function ov(e,t,n){dl(e)&&n.delete(t)}function CR(){Cf=!1,hr!==null&&dl(hr)&&(hr=null),pr!==null&&dl(pr)&&(pr=null),mr!==null&&dl(mr)&&(mr=null),bo.forEach(ov),Fo.forEach(ov)}function As(e,t){e.blockedOn===t&&(e.blockedOn=null,Cf||(Cf=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,CR)))}function Bo(e){function t(i){return As(i,e)}if(0<Wa.length){As(Wa[0],e);for(var n=1;n<Wa.length;n++){var r=Wa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hr!==null&&As(hr,e),pr!==null&&As(pr,e),mr!==null&&As(mr,e),bo.forEach(t),Fo.forEach(t),n=0;n<ir.length;n++)r=ir[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)vE(n),n.blockedOn===null&&ir.shift()}var Wi=Qn.ReactCurrentBatchConfig,Ql=!0;function SR(e,t,n,r){var i=fe,s=Wi.transition;Wi.transition=null;try{fe=1,xp(e,t,n,r)}finally{fe=i,Wi.transition=s}}function xR(e,t,n,r){var i=fe,s=Wi.transition;Wi.transition=null;try{fe=4,xp(e,t,n,r)}finally{fe=i,Wi.transition=s}}function xp(e,t,n,r){if(Ql){var i=Sf(e,t,n,r);if(i===null)Yc(e,t,r,Xl,n),sv(e,r);else if(ER(i,e,t,n,r))r.stopPropagation();else if(sv(e,r),t&4&&-1<wR.indexOf(e)){for(;i!==null;){var s=Na(i);if(s!==null&&hE(s),s=Sf(e,t,n,r),s===null&&Yc(e,t,r,Xl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yc(e,t,r,null,n)}}var Xl=null;function Sf(e,t,n,r){if(Xl=null,e=wp(r),e=Wr(e),e!==null)if(t=mi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xl=e,null}function yE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cR()){case Ep:return 1;case uE:return 4;case Kl:case dR:return 16;case cE:return 536870912;default:return 16}default:return 16}}var ar=null,Tp=null,fl=null;function wE(){if(fl)return fl;var e,t=Tp,n=t.length,r,i="value"in ar?ar.value:ar.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return fl=i.slice(e,1<r?1-r:void 0)}function hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qa(){return!0}function av(){return!1}function Mt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qa:av,this.isPropagationStopped=av,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qa)},persist:function(){},isPersistent:qa}),t}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kp=Mt(Cs),ka=_e({},Cs,{view:0,detail:0}),TR=Mt(ka),Vc,zc,Ls,Zu=_e({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Np,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?(Vc=e.screenX-Ls.screenX,zc=e.screenY-Ls.screenY):zc=Vc=0,Ls=e),Vc)},movementY:function(e){return"movementY"in e?e.movementY:zc}}),lv=Mt(Zu),kR=_e({},Zu,{dataTransfer:0}),NR=Mt(kR),IR=_e({},ka,{relatedTarget:0}),Hc=Mt(IR),_R=_e({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),$R=Mt(_R),DR=_e({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),RR=Mt(DR),OR=_e({},Cs,{data:0}),uv=Mt(OR),AR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PR[e])?!!t[e]:!1}function Np(){return MR}var bR=_e({},ka,{key:function(e){if(e.key){var t=AR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Np,charCode:function(e){return e.type==="keypress"?hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FR=Mt(bR),BR=_e({},Zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cv=Mt(BR),UR=_e({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Np}),jR=Mt(UR),VR=_e({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),zR=Mt(VR),HR=_e({},Zu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WR=Mt(HR),qR=[9,13,27,32],Ip=zn&&"CompositionEvent"in window,ro=null;zn&&"documentMode"in document&&(ro=document.documentMode);var KR=zn&&"TextEvent"in window&&!ro,EE=zn&&(!Ip||ro&&8<ro&&11>=ro),dv=String.fromCharCode(32),fv=!1;function CE(e,t){switch(e){case"keyup":return qR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function GR(e,t){switch(e){case"compositionend":return SE(t);case"keypress":return t.which!==32?null:(fv=!0,dv);case"textInput":return e=t.data,e===dv&&fv?null:e;default:return null}}function QR(e,t){if(Ii)return e==="compositionend"||!Ip&&CE(e,t)?(e=wE(),fl=Tp=ar=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return EE&&t.locale!=="ko"?null:t.data;default:return null}}var XR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XR[e.type]:t==="textarea"}function xE(e,t,n,r){eE(r),t=Yl(t,"onChange"),0<t.length&&(n=new kp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var io=null,Uo=null;function YR(e){LE(e,0)}function ec(e){var t=Di(e);if(K1(t))return e}function JR(e,t){if(e==="change")return t}var TE=!1;if(zn){var Wc;if(zn){var qc="oninput"in document;if(!qc){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),qc=typeof pv.oninput=="function"}Wc=qc}else Wc=!1;TE=Wc&&(!document.documentMode||9<document.documentMode)}function mv(){io&&(io.detachEvent("onpropertychange",kE),Uo=io=null)}function kE(e){if(e.propertyName==="value"&&ec(Uo)){var t=[];xE(t,Uo,e,wp(e)),iE(YR,t)}}function ZR(e,t,n){e==="focusin"?(mv(),io=t,Uo=n,io.attachEvent("onpropertychange",kE)):e==="focusout"&&mv()}function eO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ec(Uo)}function tO(e,t){if(e==="click")return ec(t)}function nO(e,t){if(e==="input"||e==="change")return ec(t)}function rO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:rO;function jo(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rf.call(t,i)||!ln(e[i],t[i]))return!1}return!0}function gv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vv(e,t){var n=gv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gv(n)}}function NE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?NE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function IE(){for(var e=window,t=Hl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hl(e.document)}return t}function _p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iO(e){var t=IE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&NE(n.ownerDocument.documentElement,n)){if(r!==null&&_p(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=vv(n,s);var o=vv(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sO=zn&&"documentMode"in document&&11>=document.documentMode,_i=null,xf=null,so=null,Tf=!1;function yv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tf||_i==null||_i!==Hl(r)||(r=_i,"selectionStart"in r&&_p(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),so&&jo(so,r)||(so=r,r=Yl(xf,"onSelect"),0<r.length&&(t=new kp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_i)))}function Ka(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $i={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},Kc={},_E={};zn&&(_E=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function tc(e){if(Kc[e])return Kc[e];if(!$i[e])return e;var t=$i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _E)return Kc[e]=t[n];return e}var $E=tc("animationend"),DE=tc("animationiteration"),RE=tc("animationstart"),OE=tc("transitionend"),AE=new Map,wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){AE.set(e,t),pi(t,[e])}for(var Gc=0;Gc<wv.length;Gc++){var Qc=wv[Gc],oO=Qc.toLowerCase(),aO=Qc[0].toUpperCase()+Qc.slice(1);Or(oO,"on"+aO)}Or($E,"onAnimationEnd");Or(DE,"onAnimationIteration");Or(RE,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(OE,"onTransitionEnd");es("onMouseEnter",["mouseout","mouseover"]);es("onMouseLeave",["mouseout","mouseover"]);es("onPointerEnter",["pointerout","pointerover"]);es("onPointerLeave",["pointerout","pointerover"]);pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function Ev(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oR(r,t,void 0,e),e.currentTarget=null}function LE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ev(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ev(i,a,u),s=l}}}if(ql)throw e=wf,ql=!1,wf=null,e}function we(e,t){var n=t[$f];n===void 0&&(n=t[$f]=new Set);var r=e+"__bubble";n.has(r)||(PE(t,e,2,!1),n.add(r))}function Xc(e,t,n){var r=0;t&&(r|=4),PE(n,e,r,t)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[Ga]){e[Ga]=!0,V1.forEach(function(n){n!=="selectionchange"&&(lO.has(n)||Xc(n,!1,e),Xc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ga]||(t[Ga]=!0,Xc("selectionchange",!1,t))}}function PE(e,t,n,r){switch(yE(t)){case 1:var i=SR;break;case 4:i=xR;break;default:i=xp}n=i.bind(null,t,n,e),i=void 0,!yf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yc(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}iE(function(){var u=s,c=wp(n),d=[];e:{var f=AE.get(e);if(f!==void 0){var m=kp,y=e;switch(e){case"keypress":if(hl(n)===0)break e;case"keydown":case"keyup":m=FR;break;case"focusin":y="focus",m=Hc;break;case"focusout":y="blur",m=Hc;break;case"beforeblur":case"afterblur":m=Hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=jR;break;case $E:case DE:case RE:m=$R;break;case OE:m=zR;break;case"scroll":m=TR;break;case"wheel":m=WR;break;case"copy":case"cut":case"paste":m=RR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cv}var E=(t&4)!==0,C=!E&&e==="scroll",g=E?f!==null?f+"Capture":null:f;E=[];for(var p=u,w;p!==null;){w=p;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=Mo(p,g),S!=null&&E.push(zo(p,S,w)))),C)break;p=p.return}0<E.length&&(f=new m(f,y,null,n,c),d.push({event:f,listeners:E}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==gf&&(y=n.relatedTarget||n.fromElement)&&(Wr(y)||y[Hn]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Wr(y):null,y!==null&&(C=mi(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(E=lv,S="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(E=cv,S="onPointerLeave",g="onPointerEnter",p="pointer"),C=m==null?f:Di(m),w=y==null?f:Di(y),f=new E(S,p+"leave",m,n,c),f.target=C,f.relatedTarget=w,S=null,Wr(c)===u&&(E=new E(g,p+"enter",y,n,c),E.target=w,E.relatedTarget=C,S=E),C=S,m&&y)t:{for(E=m,g=y,p=0,w=E;w;w=yi(w))p++;for(w=0,S=g;S;S=yi(S))w++;for(;0<p-w;)E=yi(E),p--;for(;0<w-p;)g=yi(g),w--;for(;p--;){if(E===g||g!==null&&E===g.alternate)break t;E=yi(E),g=yi(g)}E=null}else E=null;m!==null&&Cv(d,f,m,E,!1),y!==null&&C!==null&&Cv(d,C,y,E,!0)}}e:{if(f=u?Di(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=JR;else if(hv(f))if(TE)T=nO;else{T=eO;var x=ZR}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=tO);if(T&&(T=T(e,u))){xE(d,T,n,c);break e}x&&x(e,f,u),e==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&df(f,"number",f.value)}switch(x=u?Di(u):window,e){case"focusin":(hv(x)||x.contentEditable==="true")&&(_i=x,xf=u,so=null);break;case"focusout":so=xf=_i=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,yv(d,n,c);break;case"selectionchange":if(sO)break;case"keydown":case"keyup":yv(d,n,c)}var k;if(Ip)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ii?CE(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(EE&&n.locale!=="ko"&&(Ii||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ii&&(k=wE()):(ar=c,Tp="value"in ar?ar.value:ar.textContent,Ii=!0)),x=Yl(u,I),0<x.length&&(I=new uv(I,e,null,n,c),d.push({event:I,listeners:x}),k?I.data=k:(k=SE(n),k!==null&&(I.data=k)))),(k=KR?GR(e,n):QR(e,n))&&(u=Yl(u,"onBeforeInput"),0<u.length&&(c=new uv("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}LE(d,t)})}function zo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Mo(e,n),s!=null&&r.unshift(zo(e,s,i)),s=Mo(e,t),s!=null&&r.push(zo(e,s,i))),e=e.return}return r}function yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cv(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Mo(n,s),l!=null&&o.unshift(zo(n,l,a))):i||(l=Mo(n,s),l!=null&&o.push(zo(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var uO=/\r\n?/g,cO=/\u0000|\uFFFD/g;function Sv(e){return(typeof e=="string"?e:""+e).replace(uO,`
`).replace(cO,"")}function Qa(e,t,n){if(t=Sv(t),Sv(e)!==t&&n)throw Error(_(425))}function Jl(){}var kf=null,Nf=null;function If(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,dO=typeof clearTimeout=="function"?clearTimeout:void 0,xv=typeof Promise=="function"?Promise:void 0,fO=typeof queueMicrotask=="function"?queueMicrotask:typeof xv<"u"?function(e){return xv.resolve(null).then(e).catch(hO)}:_f;function hO(e){setTimeout(function(){throw e})}function Jc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Bo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bo(t)}function gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),pn="__reactFiber$"+Ss,Ho="__reactProps$"+Ss,Hn="__reactContainer$"+Ss,$f="__reactEvents$"+Ss,pO="__reactListeners$"+Ss,mO="__reactHandles$"+Ss;function Wr(e){var t=e[pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hn]||n[pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tv(e);e!==null;){if(n=e[pn])return n;e=Tv(e)}return t}e=n,n=e.parentNode}return null}function Na(e){return e=e[pn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function nc(e){return e[Ho]||null}var Df=[],Ri=-1;function Ar(e){return{current:e}}function Ce(e){0>Ri||(e.current=Df[Ri],Df[Ri]=null,Ri--)}function ve(e,t){Ri++,Df[Ri]=e.current,e.current=t}var Nr={},ft=Ar(Nr),St=Ar(!1),ii=Nr;function ts(e,t){var n=e.type.contextTypes;if(!n)return Nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xt(e){return e=e.childContextTypes,e!=null}function Zl(){Ce(St),Ce(ft)}function kv(e,t,n){if(ft.current!==Nr)throw Error(_(168));ve(ft,t),ve(St,n)}function ME(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(_(108,ZD(e)||"Unknown",i));return _e({},n,r)}function eu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,ii=ft.current,ve(ft,e),ve(St,St.current),!0}function Nv(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=ME(e,t,ii),r.__reactInternalMemoizedMergedChildContext=e,Ce(St),Ce(ft),ve(ft,e)):Ce(St),ve(St,n)}var In=null,rc=!1,Zc=!1;function bE(e){In===null?In=[e]:In.push(e)}function gO(e){rc=!0,bE(e)}function Lr(){if(!Zc&&In!==null){Zc=!0;var e=0,t=fe;try{var n=In;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}In=null,rc=!1}catch(i){throw In!==null&&(In=In.slice(e+1)),lE(Ep,Lr),i}finally{fe=t,Zc=!1}}return null}var Oi=[],Ai=0,tu=null,nu=0,Bt=[],Ut=0,si=null,Rn=1,On="";function Ur(e,t){Oi[Ai++]=nu,Oi[Ai++]=tu,tu=e,nu=t}function FE(e,t,n){Bt[Ut++]=Rn,Bt[Ut++]=On,Bt[Ut++]=si,si=e;var r=Rn;e=On;var i=32-sn(r)-1;r&=~(1<<i),n+=1;var s=32-sn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rn=1<<32-sn(t)+i|n<<i|r,On=s+e}else Rn=1<<s|n<<i|r,On=e}function $p(e){e.return!==null&&(Ur(e,1),FE(e,1,0))}function Dp(e){for(;e===tu;)tu=Oi[--Ai],Oi[Ai]=null,nu=Oi[--Ai],Oi[Ai]=null;for(;e===si;)si=Bt[--Ut],Bt[Ut]=null,On=Bt[--Ut],Bt[Ut]=null,Rn=Bt[--Ut],Bt[Ut]=null}var Ot=null,Dt=null,Te=!1,en=null;function BE(e,t){var n=Vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Iv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Dt=gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=si!==null?{id:Rn,overflow:On}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,Dt=null,!0):!1;default:return!1}}function Rf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Of(e){if(Te){var t=Dt;if(t){var n=t;if(!Iv(e,t)){if(Rf(e))throw Error(_(418));t=gr(n.nextSibling);var r=Ot;t&&Iv(e,t)?BE(r,n):(e.flags=e.flags&-4097|2,Te=!1,Ot=e)}}else{if(Rf(e))throw Error(_(418));e.flags=e.flags&-4097|2,Te=!1,Ot=e}}}function _v(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function Xa(e){if(e!==Ot)return!1;if(!Te)return _v(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!If(e.type,e.memoizedProps)),t&&(t=Dt)){if(Rf(e))throw UE(),Error(_(418));for(;t;)BE(e,t),t=gr(t.nextSibling)}if(_v(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dt=gr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=Ot?gr(e.stateNode.nextSibling):null;return!0}function UE(){for(var e=Dt;e;)e=gr(e.nextSibling)}function ns(){Dt=Ot=null,Te=!1}function Rp(e){en===null?en=[e]:en.push(e)}var vO=Qn.ReactCurrentBatchConfig;function Jt(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ru=Ar(null),iu=null,Li=null,Op=null;function Ap(){Op=Li=iu=null}function Lp(e){var t=ru.current;Ce(ru),e._currentValue=t}function Af(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qi(e,t){iu=e,Op=Li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ct=!0),e.firstContext=null)}function Ht(e){var t=e._currentValue;if(Op!==e)if(e={context:e,memoizedValue:t,next:null},Li===null){if(iu===null)throw Error(_(308));Li=e,iu.dependencies={lanes:0,firstContext:e}}else Li=Li.next=e;return t}var qr=null;function Pp(e){qr===null?qr=[e]:qr.push(e)}function jE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Pp(t)):(n.next=i.next,i.next=n),t.interleaved=n,Wn(e,r)}function Wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nr=!1;function Mp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Wn(e,n)}return i=r.interleaved,i===null?(t.next=t,Pp(r)):(t.next=i.next,i.next=t),r.interleaved=t,Wn(e,n)}function pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cp(e,n)}}function $v(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function su(e,t,n,r){var i=e.updateQueue;nr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,E=a;switch(f=t,m=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){d=y.call(m,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,f=typeof y=="function"?y.call(m,d,f):y,f==null)break e;d=_e({},d,f);break e;case 2:nr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ai|=o,e.lanes=o,e.memoizedState=d}}function Dv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_(191,i));i.call(r)}}}var zE=new j1.Component().refs;function Lf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ic={isMounted:function(e){return(e=e._reactInternals)?mi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gt(),i=wr(e),s=Mn(r,i);s.payload=t,n!=null&&(s.callback=n),t=vr(e,s,i),t!==null&&(on(t,e,i,r),pl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gt(),i=wr(e),s=Mn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=vr(e,s,i),t!==null&&(on(t,e,i,r),pl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),r=wr(e),i=Mn(n,r);i.tag=2,t!=null&&(i.callback=t),t=vr(e,i,r),t!==null&&(on(t,e,r,n),pl(t,e,r))}};function Rv(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!jo(n,r)||!jo(i,s):!0}function HE(e,t,n){var r=!1,i=Nr,s=t.contextType;return typeof s=="object"&&s!==null?s=Ht(s):(i=xt(t)?ii:ft.current,r=t.contextTypes,s=(r=r!=null)?ts(e,i):Nr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ic,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ov(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function Pf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zE,Mp(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ht(s):(s=xt(t)?ii:ft.current,i.context=ts(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Lf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ic.enqueueReplaceState(i,i.state,null),su(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ps(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===zE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Ya(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Av(e){var t=e._init;return t(e._payload)}function WE(e){function t(g,p){if(e){var w=g.deletions;w===null?(g.deletions=[p],g.flags|=16):w.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Er(g,p),g.index=0,g.sibling=null,g}function s(g,p,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<p?(g.flags|=2,p):w):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,w,S){return p===null||p.tag!==6?(p=od(w,g.mode,S),p.return=g,p):(p=i(p,w),p.return=g,p)}function l(g,p,w,S){var T=w.type;return T===Ni?c(g,p,w.props.children,S,w.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===tr&&Av(T)===p.type)?(S=i(p,w.props),S.ref=Ps(g,p,w),S.return=g,S):(S=El(w.type,w.key,w.props,null,g.mode,S),S.ref=Ps(g,p,w),S.return=g,S)}function u(g,p,w,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=ad(w,g.mode,S),p.return=g,p):(p=i(p,w.children||[]),p.return=g,p)}function c(g,p,w,S,T){return p===null||p.tag!==7?(p=Jr(w,g.mode,S,T),p.return=g,p):(p=i(p,w),p.return=g,p)}function d(g,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=od(""+p,g.mode,w),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ua:return w=El(p.type,p.key,p.props,null,g.mode,w),w.ref=Ps(g,null,p),w.return=g,w;case ki:return p=ad(p,g.mode,w),p.return=g,p;case tr:var S=p._init;return d(g,S(p._payload),w)}if(Ws(p)||Ds(p))return p=Jr(p,g.mode,w,null),p.return=g,p;Ya(g,p)}return null}function f(g,p,w,S){var T=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(g,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ua:return w.key===T?l(g,p,w,S):null;case ki:return w.key===T?u(g,p,w,S):null;case tr:return T=w._init,f(g,p,T(w._payload),S)}if(Ws(w)||Ds(w))return T!==null?null:c(g,p,w,S,null);Ya(g,w)}return null}function m(g,p,w,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,a(p,g,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ua:return g=g.get(S.key===null?w:S.key)||null,l(p,g,S,T);case ki:return g=g.get(S.key===null?w:S.key)||null,u(p,g,S,T);case tr:var x=S._init;return m(g,p,w,x(S._payload),T)}if(Ws(S)||Ds(S))return g=g.get(w)||null,c(p,g,S,T,null);Ya(p,S)}return null}function y(g,p,w,S){for(var T=null,x=null,k=p,I=p=0,B=null;k!==null&&I<w.length;I++){k.index>I?(B=k,k=null):B=k.sibling;var R=f(g,k,w[I],S);if(R===null){k===null&&(k=B);break}e&&k&&R.alternate===null&&t(g,k),p=s(R,p,I),x===null?T=R:x.sibling=R,x=R,k=B}if(I===w.length)return n(g,k),Te&&Ur(g,I),T;if(k===null){for(;I<w.length;I++)k=d(g,w[I],S),k!==null&&(p=s(k,p,I),x===null?T=k:x.sibling=k,x=k);return Te&&Ur(g,I),T}for(k=r(g,k);I<w.length;I++)B=m(k,g,I,w[I],S),B!==null&&(e&&B.alternate!==null&&k.delete(B.key===null?I:B.key),p=s(B,p,I),x===null?T=B:x.sibling=B,x=B);return e&&k.forEach(function(b){return t(g,b)}),Te&&Ur(g,I),T}function E(g,p,w,S){var T=Ds(w);if(typeof T!="function")throw Error(_(150));if(w=T.call(w),w==null)throw Error(_(151));for(var x=T=null,k=p,I=p=0,B=null,R=w.next();k!==null&&!R.done;I++,R=w.next()){k.index>I?(B=k,k=null):B=k.sibling;var b=f(g,k,R.value,S);if(b===null){k===null&&(k=B);break}e&&k&&b.alternate===null&&t(g,k),p=s(b,p,I),x===null?T=b:x.sibling=b,x=b,k=B}if(R.done)return n(g,k),Te&&Ur(g,I),T;if(k===null){for(;!R.done;I++,R=w.next())R=d(g,R.value,S),R!==null&&(p=s(R,p,I),x===null?T=R:x.sibling=R,x=R);return Te&&Ur(g,I),T}for(k=r(g,k);!R.done;I++,R=w.next())R=m(k,g,I,R.value,S),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?I:R.key),p=s(R,p,I),x===null?T=R:x.sibling=R,x=R);return e&&k.forEach(function(V){return t(g,V)}),Te&&Ur(g,I),T}function C(g,p,w,S){if(typeof w=="object"&&w!==null&&w.type===Ni&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ua:e:{for(var T=w.key,x=p;x!==null;){if(x.key===T){if(T=w.type,T===Ni){if(x.tag===7){n(g,x.sibling),p=i(x,w.props.children),p.return=g,g=p;break e}}else if(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===tr&&Av(T)===x.type){n(g,x.sibling),p=i(x,w.props),p.ref=Ps(g,x,w),p.return=g,g=p;break e}n(g,x);break}else t(g,x);x=x.sibling}w.type===Ni?(p=Jr(w.props.children,g.mode,S,w.key),p.return=g,g=p):(S=El(w.type,w.key,w.props,null,g.mode,S),S.ref=Ps(g,p,w),S.return=g,g=S)}return o(g);case ki:e:{for(x=w.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(g,p.sibling),p=i(p,w.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=ad(w,g.mode,S),p.return=g,g=p}return o(g);case tr:return x=w._init,C(g,p,x(w._payload),S)}if(Ws(w))return y(g,p,w,S);if(Ds(w))return E(g,p,w,S);Ya(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,w),p.return=g,g=p):(n(g,p),p=od(w,g.mode,S),p.return=g,g=p),o(g)):n(g,p)}return C}var rs=WE(!0),qE=WE(!1),Ia={},vn=Ar(Ia),Wo=Ar(Ia),qo=Ar(Ia);function Kr(e){if(e===Ia)throw Error(_(174));return e}function bp(e,t){switch(ve(qo,t),ve(Wo,e),ve(vn,Ia),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hf(t,e)}Ce(vn),ve(vn,t)}function is(){Ce(vn),Ce(Wo),Ce(qo)}function KE(e){Kr(qo.current);var t=Kr(vn.current),n=hf(t,e.type);t!==n&&(ve(Wo,e),ve(vn,n))}function Fp(e){Wo.current===e&&(Ce(vn),Ce(Wo))}var Ne=Ar(0);function ou(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ed=[];function Bp(){for(var e=0;e<ed.length;e++)ed[e]._workInProgressVersionPrimary=null;ed.length=0}var ml=Qn.ReactCurrentDispatcher,td=Qn.ReactCurrentBatchConfig,oi=0,Ie=null,be=null,qe=null,au=!1,oo=!1,Ko=0,yO=0;function rt(){throw Error(_(321))}function Up(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function jp(e,t,n,r,i,s){if(oi=s,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ml.current=e===null||e.memoizedState===null?SO:xO,e=n(r,i),oo){s=0;do{if(oo=!1,Ko=0,25<=s)throw Error(_(301));s+=1,qe=be=null,t.updateQueue=null,ml.current=TO,e=n(r,i)}while(oo)}if(ml.current=lu,t=be!==null&&be.next!==null,oi=0,qe=be=Ie=null,au=!1,t)throw Error(_(300));return e}function Vp(){var e=Ko!==0;return Ko=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ie.memoizedState=qe=e:qe=qe.next=e,qe}function Wt(){if(be===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=qe===null?Ie.memoizedState:qe.next;if(t!==null)qe=t,be=e;else{if(e===null)throw Error(_(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},qe===null?Ie.memoizedState=qe=e:qe=qe.next=e}return qe}function Go(e,t){return typeof t=="function"?t(e):t}function nd(e){var t=Wt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=be,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((oi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ie.lanes|=c,ai|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ln(r,t.memoizedState)||(Ct=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ie.lanes|=s,ai|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rd(e){var t=Wt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ln(s,t.memoizedState)||(Ct=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function GE(){}function QE(e,t){var n=Ie,r=Wt(),i=t(),s=!ln(r.memoizedState,i);if(s&&(r.memoizedState=i,Ct=!0),r=r.queue,zp(JE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Qo(9,YE.bind(null,n,r,i,t),void 0,null),Ge===null)throw Error(_(349));oi&30||XE(n,t,i)}return i}function XE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function YE(e,t,n,r){t.value=n,t.getSnapshot=r,ZE(t)&&eC(e)}function JE(e,t,n){return n(function(){ZE(t)&&eC(e)})}function ZE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function eC(e){var t=Wn(e,1);t!==null&&on(t,e,1,-1)}function Lv(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t.queue=e,e=e.dispatch=CO.bind(null,Ie,e),[t.memoizedState,e]}function Qo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tC(){return Wt().memoizedState}function gl(e,t,n,r){var i=dn();Ie.flags|=e,i.memoizedState=Qo(1|t,n,void 0,r===void 0?null:r)}function sc(e,t,n,r){var i=Wt();r=r===void 0?null:r;var s=void 0;if(be!==null){var o=be.memoizedState;if(s=o.destroy,r!==null&&Up(r,o.deps)){i.memoizedState=Qo(t,n,s,r);return}}Ie.flags|=e,i.memoizedState=Qo(1|t,n,s,r)}function Pv(e,t){return gl(8390656,8,e,t)}function zp(e,t){return sc(2048,8,e,t)}function nC(e,t){return sc(4,2,e,t)}function rC(e,t){return sc(4,4,e,t)}function iC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sC(e,t,n){return n=n!=null?n.concat([e]):null,sc(4,4,iC.bind(null,t,e),n)}function Hp(){}function oC(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Up(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aC(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Up(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lC(e,t,n){return oi&21?(ln(n,t)||(n=dE(),Ie.lanes|=n,ai|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=n)}function wO(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=td.transition;td.transition={};try{e(!1),t()}finally{fe=n,td.transition=r}}function uC(){return Wt().memoizedState}function EO(e,t,n){var r=wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cC(e))dC(t,n);else if(n=jE(e,t,n,r),n!==null){var i=gt();on(n,e,r,i),fC(n,t,r)}}function CO(e,t,n){var r=wr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cC(e))dC(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ln(a,o)){var l=t.interleaved;l===null?(i.next=i,Pp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=jE(e,t,i,r),n!==null&&(i=gt(),on(n,e,r,i),fC(n,t,r))}}function cC(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function dC(e,t){oo=au=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cp(e,n)}}var lu={readContext:Ht,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},SO={readContext:Ht,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:Pv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gl(4194308,4,iC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){return gl(4,2,e,t)},useMemo:function(e,t){var n=dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=EO.bind(null,Ie,e),[r.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:Lv,useDebugValue:Hp,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=Lv(!1),t=e[0];return e=wO.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ie,i=dn();if(Te){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),Ge===null)throw Error(_(349));oi&30||XE(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Pv(JE.bind(null,r,s,e),[e]),r.flags|=2048,Qo(9,YE.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=dn(),t=Ge.identifierPrefix;if(Te){var n=On,r=Rn;n=(r&~(1<<32-sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ko++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yO++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xO={readContext:Ht,useCallback:oC,useContext:Ht,useEffect:zp,useImperativeHandle:sC,useInsertionEffect:nC,useLayoutEffect:rC,useMemo:aC,useReducer:nd,useRef:tC,useState:function(){return nd(Go)},useDebugValue:Hp,useDeferredValue:function(e){var t=Wt();return lC(t,be.memoizedState,e)},useTransition:function(){var e=nd(Go)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:GE,useSyncExternalStore:QE,useId:uC,unstable_isNewReconciler:!1},TO={readContext:Ht,useCallback:oC,useContext:Ht,useEffect:zp,useImperativeHandle:sC,useInsertionEffect:nC,useLayoutEffect:rC,useMemo:aC,useReducer:rd,useRef:tC,useState:function(){return rd(Go)},useDebugValue:Hp,useDeferredValue:function(e){var t=Wt();return be===null?t.memoizedState=e:lC(t,be.memoizedState,e)},useTransition:function(){var e=rd(Go)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:GE,useSyncExternalStore:QE,useId:uC,unstable_isNewReconciler:!1};function ss(e,t){try{var n="",r=t;do n+=JD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function id(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kO=typeof WeakMap=="function"?WeakMap:Map;function hC(e,t,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cu||(cu=!0,qf=r),Mf(e,t)},n}function pC(e,t,n){n=Mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Mf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mf(e,t),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Mv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kO;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=BO.bind(null,e,t,n),t.then(e,e))}function bv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mn(-1,1),t.tag=2,vr(n,t,1))),n.lanes|=1),e)}var NO=Qn.ReactCurrentOwner,Ct=!1;function ht(e,t,n,r){t.child=e===null?qE(t,null,n,r):rs(t,e.child,n,r)}function Bv(e,t,n,r,i){n=n.render;var s=t.ref;return qi(t,i),r=jp(e,t,n,r,s,i),n=Vp(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qn(e,t,i)):(Te&&n&&$p(t),t.flags|=1,ht(e,t,r,i),t.child)}function Uv(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Jp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,mC(e,t,s,r,i)):(e=El(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(o,r)&&e.ref===t.ref)return qn(e,t,i)}return t.flags|=1,e=Er(s,r),e.ref=t.ref,e.return=t,t.child=e}function mC(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(jo(s,r)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ct=!0);else return t.lanes=e.lanes,qn(e,t,i)}return bf(e,t,n,r,i)}function gC(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Mi,_t),_t|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(Mi,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ve(Mi,_t),_t|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ve(Mi,_t),_t|=r;return ht(e,t,i,n),t.child}function vC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bf(e,t,n,r,i){var s=xt(n)?ii:ft.current;return s=ts(t,s),qi(t,i),n=jp(e,t,n,r,s,i),r=Vp(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qn(e,t,i)):(Te&&r&&$p(t),t.flags|=1,ht(e,t,n,i),t.child)}function jv(e,t,n,r,i){if(xt(n)){var s=!0;eu(t)}else s=!1;if(qi(t,i),t.stateNode===null)vl(e,t),HE(t,n,r),Pf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ht(u):(u=xt(n)?ii:ft.current,u=ts(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ov(t,o,r,u),nr=!1;var f=t.memoizedState;o.state=f,su(t,r,o,i),l=t.memoizedState,a!==r||f!==l||St.current||nr?(typeof c=="function"&&(Lf(t,n,c,r),l=t.memoizedState),(a=nr||Rv(t,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,VE(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Jt(t.type,a),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ht(l):(l=xt(n)?ii:ft.current,l=ts(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Ov(t,o,r,l),nr=!1,f=t.memoizedState,o.state=f,su(t,r,o,i);var y=t.memoizedState;a!==d||f!==y||St.current||nr?(typeof m=="function"&&(Lf(t,n,m,r),y=t.memoizedState),(u=nr||Rv(t,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ff(e,t,n,r,s,i)}function Ff(e,t,n,r,i,s){vC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Nv(t,n,!1),qn(e,t,s);r=t.stateNode,NO.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=rs(t,e.child,null,s),t.child=rs(t,null,a,s)):ht(e,t,a,s),t.memoizedState=r.state,i&&Nv(t,n,!0),t.child}function yC(e){var t=e.stateNode;t.pendingContext?kv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kv(e,t.context,!1),bp(e,t.containerInfo)}function Vv(e,t,n,r,i){return ns(),Rp(i),t.flags|=256,ht(e,t,n,r),t.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function Uf(e){return{baseLanes:e,cachePool:null,transitions:null}}function wC(e,t,n){var r=t.pendingProps,i=Ne.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ve(Ne,i&1),e===null)return Of(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lc(o,r,0,null),e=Jr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Uf(n),t.memoizedState=Bf,e):Wp(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IO(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Er(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Er(a,s):(s=Jr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Uf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Bf,r}return s=e.child,e=s.sibling,r=Er(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wp(e,t){return t=lc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ja(e,t,n,r){return r!==null&&Rp(r),rs(t,e.child,null,n),e=Wp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IO(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=id(Error(_(422))),Ja(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=lc({mode:"visible",children:r.children},i,0,null),s=Jr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&rs(t,e.child,null,o),t.child.memoizedState=Uf(o),t.memoizedState=Bf,s);if(!(t.mode&1))return Ja(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(_(419)),r=id(s,r,void 0),Ja(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ct||a){if(r=Ge,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wn(e,i),on(r,e,i,-1))}return Yp(),r=id(Error(_(421))),Ja(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=UO.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Dt=gr(i.nextSibling),Ot=t,Te=!0,en=null,e!==null&&(Bt[Ut++]=Rn,Bt[Ut++]=On,Bt[Ut++]=si,Rn=e.id,On=e.overflow,si=t),t=Wp(t,r.children),t.flags|=4096,t)}function zv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Af(e.return,t,n)}function sd(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function EC(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ht(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zv(e,n,t);else if(e.tag===19)zv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ve(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ou(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sd(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ou(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sd(t,!0,n,null,s);break;case"together":sd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _O(e,t,n){switch(t.tag){case 3:yC(t),ns();break;case 5:KE(t);break;case 1:xt(t.type)&&eu(t);break;case 4:bp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ve(ru,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?wC(e,t,n):(ve(Ne,Ne.current&1),e=qn(e,t,n),e!==null?e.sibling:null);ve(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return EC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,gC(e,t,n)}return qn(e,t,n)}var CC,jf,SC,xC;CC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jf=function(){};SC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Kr(vn.current);var s=null;switch(n){case"input":i=uf(e,i),r=uf(e,r),s=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),s=[];break;case"textarea":i=ff(e,i),r=ff(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jl)}pf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};xC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ms(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $O(e,t,n){var r=t.pendingProps;switch(Dp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return xt(t.type)&&Zl(),it(t),null;case 3:return r=t.stateNode,is(),Ce(St),Ce(ft),Bp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(Qf(en),en=null))),jf(e,t),it(t),null;case 5:Fp(t);var i=Kr(qo.current);if(n=t.type,e!==null&&t.stateNode!=null)SC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return it(t),null}if(e=Kr(vn.current),Xa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[pn]=t,r[Ho]=s,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Ks.length;i++)we(Ks[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Jg(r,s),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},we("invalid",r);break;case"textarea":ev(r,s),we("invalid",r)}pf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Qa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Qa(r.textContent,a,e),i=["children",""+a]):Lo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":ja(r),Zg(r,s,!0);break;case"textarea":ja(r),tv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=X1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[pn]=t,e[Ho]=r,CC(e,t,!1,!1),t.stateNode=e;e:{switch(o=mf(n,r),n){case"dialog":we("cancel",e),we("close",e),i=r;break;case"iframe":case"object":case"embed":we("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ks.length;i++)we(Ks[i],e);i=r;break;case"source":we("error",e),i=r;break;case"img":case"image":case"link":we("error",e),we("load",e),i=r;break;case"details":we("toggle",e),i=r;break;case"input":Jg(e,r),i=uf(e,r),we("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),we("invalid",e);break;case"textarea":ev(e,r),i=ff(e,r),we("invalid",e);break;default:i=r}pf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Z1(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Y1(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Po(e,l):typeof l=="number"&&Po(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",e):l!=null&&mp(e,s,l,o))}switch(n){case"input":ja(e),Zg(e,r,!1);break;case"textarea":ja(e),tv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Vi(e,!!r.multiple,s,!1):r.defaultValue!=null&&Vi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)xC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=Kr(qo.current),Kr(vn.current),Xa(t)){if(r=t.stateNode,n=t.memoizedProps,r[pn]=t,(s=r.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:Qa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=t,t.stateNode=r}return it(t),null;case 13:if(Ce(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Dt!==null&&t.mode&1&&!(t.flags&128))UE(),ns(),t.flags|=98560,s=!1;else if(s=Xa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(_(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_(317));s[pn]=t}else ns(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),s=!1}else en!==null&&(Qf(en),en=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Ue===0&&(Ue=3):Yp())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return is(),jf(e,t),e===null&&Vo(t.stateNode.containerInfo),it(t),null;case 10:return Lp(t.type._context),it(t),null;case 17:return xt(t.type)&&Zl(),it(t),null;case 19:if(Ce(Ne),s=t.memoizedState,s===null)return it(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ms(s,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ou(e),o!==null){for(t.flags|=128,Ms(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Ne,Ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ae()>os&&(t.flags|=128,r=!0,Ms(s,!1),t.lanes=4194304)}else{if(!r)if(e=ou(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ms(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return it(t),null}else 2*Ae()-s.renderingStartTime>os&&n!==1073741824&&(t.flags|=128,r=!0,Ms(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ae(),t.sibling=null,n=Ne.current,ve(Ne,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Xp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_t&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function DO(e,t){switch(Dp(t),t.tag){case 1:return xt(t.type)&&Zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),Ce(St),Ce(ft),Bp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fp(t),null;case 13:if(Ce(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));ns()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Ne),null;case 4:return is(),null;case 10:return Lp(t.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var Za=!1,at=!1,RO=typeof WeakSet=="function"?WeakSet:Set,A=null;function Pi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(e,t,r)}else n.current=null}function Vf(e,t,n){try{n()}catch(r){De(e,t,r)}}var Hv=!1;function OO(e,t){if(kf=Ql,e=IE(),_p(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nf={focusedElem:e,selectionRange:n},Ql=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,C=y.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?E:Jt(t.type,E),C);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(S){De(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return y=Hv,Hv=!1,y}function ao(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vf(t,n,s)}i=i.next}while(i!==r)}}function oc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function TC(e){var t=e.alternate;t!==null&&(e.alternate=null,TC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pn],delete t[Ho],delete t[$f],delete t[pO],delete t[mO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kC(e){return e.tag===5||e.tag===3||e.tag===4}function Wv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jl));else if(r!==4&&(e=e.child,e!==null))for(Hf(e,t,n),e=e.sibling;e!==null;)Hf(e,t,n),e=e.sibling}function Wf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wf(e,t,n),e=e.sibling;e!==null;)Wf(e,t,n),e=e.sibling}var Ye=null,Zt=!1;function Zn(e,t,n){for(n=n.child;n!==null;)NC(e,t,n),n=n.sibling}function NC(e,t,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Ju,n)}catch{}switch(n.tag){case 5:at||Pi(n,t);case 6:var r=Ye,i=Zt;Ye=null,Zn(e,t,n),Ye=r,Zt=i,Ye!==null&&(Zt?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Zt?(e=Ye,n=n.stateNode,e.nodeType===8?Jc(e.parentNode,n):e.nodeType===1&&Jc(e,n),Bo(e)):Jc(Ye,n.stateNode));break;case 4:r=Ye,i=Zt,Ye=n.stateNode.containerInfo,Zt=!0,Zn(e,t,n),Ye=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vf(n,t,o),i=i.next}while(i!==r)}Zn(e,t,n);break;case 1:if(!at&&(Pi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){De(n,t,a)}Zn(e,t,n);break;case 21:Zn(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,Zn(e,t,n),at=r):Zn(e,t,n);break;default:Zn(e,t,n)}}function qv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new RO),t.forEach(function(r){var i=jO.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,Zt=!1;break e;case 3:Ye=a.stateNode.containerInfo,Zt=!0;break e;case 4:Ye=a.stateNode.containerInfo,Zt=!0;break e}a=a.return}if(Ye===null)throw Error(_(160));NC(s,o,i),Ye=null,Zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){De(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IC(t,e),t=t.sibling}function IC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(t,e),cn(e),r&4){try{ao(3,e,e.return),oc(3,e)}catch(E){De(e,e.return,E)}try{ao(5,e,e.return)}catch(E){De(e,e.return,E)}}break;case 1:Yt(t,e),cn(e),r&512&&n!==null&&Pi(n,n.return);break;case 5:if(Yt(t,e),cn(e),r&512&&n!==null&&Pi(n,n.return),e.flags&32){var i=e.stateNode;try{Po(i,"")}catch(E){De(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&G1(i,s),mf(a,o);var u=mf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Z1(i,d):c==="dangerouslySetInnerHTML"?Y1(i,d):c==="children"?Po(i,d):mp(i,c,d,u)}switch(a){case"input":cf(i,s);break;case"textarea":Q1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Vi(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Vi(i,!!s.multiple,s.defaultValue,!0):Vi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ho]=s}catch(E){De(e,e.return,E)}}break;case 6:if(Yt(t,e),cn(e),r&4){if(e.stateNode===null)throw Error(_(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){De(e,e.return,E)}}break;case 3:if(Yt(t,e),cn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bo(t.containerInfo)}catch(E){De(e,e.return,E)}break;case 4:Yt(t,e),cn(e);break;case 13:Yt(t,e),cn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gp=Ae())),r&4&&qv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(at=(u=at)||c,Yt(t,e),at=u):Yt(t,e),cn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(A=e,c=e.child;c!==null;){for(d=A=c;A!==null;){switch(f=A,m=f.child,f.tag){case 0:case 11:case 14:case 15:ao(4,f,f.return);break;case 1:Pi(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(E){De(r,n,E)}}break;case 5:Pi(f,f.return);break;case 22:if(f.memoizedState!==null){Gv(d);continue}}m!==null?(m.return=f,A=m):Gv(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=J1("display",o))}catch(E){De(e,e.return,E)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){De(e,e.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yt(t,e),cn(e),r&4&&qv(e);break;case 21:break;default:Yt(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kC(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Po(i,""),r.flags&=-33);var s=Wv(e);Wf(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Wv(e);Hf(e,a,o);break;default:throw Error(_(161))}}catch(l){De(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AO(e,t,n){A=e,_C(e)}function _C(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var i=A,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Za;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||at;a=Za;var u=at;if(Za=o,(at=l)&&!u)for(A=i;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?Qv(i):l!==null?(l.return=o,A=l):Qv(i);for(;s!==null;)A=s,_C(s),s=s.sibling;A=i,Za=a,at=u}Kv(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,A=s):Kv(e)}}function Kv(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||oc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Jt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Dv(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Dv(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Bo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}at||t.flags&512&&zf(t)}catch(f){De(t,t.return,f)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Gv(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Qv(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oc(4,t)}catch(l){De(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){De(t,i,l)}}var s=t.return;try{zf(t)}catch(l){De(t,s,l)}break;case 5:var o=t.return;try{zf(t)}catch(l){De(t,o,l)}}}catch(l){De(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var LO=Math.ceil,uu=Qn.ReactCurrentDispatcher,qp=Qn.ReactCurrentOwner,zt=Qn.ReactCurrentBatchConfig,le=0,Ge=null,Me=null,et=0,_t=0,Mi=Ar(0),Ue=0,Xo=null,ai=0,ac=0,Kp=0,lo=null,Et=null,Gp=0,os=1/0,kn=null,cu=!1,qf=null,yr=null,el=!1,lr=null,du=0,uo=0,Kf=null,yl=-1,wl=0;function gt(){return le&6?Ae():yl!==-1?yl:yl=Ae()}function wr(e){return e.mode&1?le&2&&et!==0?et&-et:vO.transition!==null?(wl===0&&(wl=dE()),wl):(e=fe,e!==0||(e=window.event,e=e===void 0?16:yE(e.type)),e):1}function on(e,t,n,r){if(50<uo)throw uo=0,Kf=null,Error(_(185));Ta(e,n,r),(!(le&2)||e!==Ge)&&(e===Ge&&(!(le&2)&&(ac|=n),Ue===4&&sr(e,et)),Tt(e,r),n===1&&le===0&&!(t.mode&1)&&(os=Ae()+500,rc&&Lr()))}function Tt(e,t){var n=e.callbackNode;vR(e,t);var r=Gl(e,e===Ge?et:0);if(r===0)n!==null&&iv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&iv(n),t===1)e.tag===0?gO(Xv.bind(null,e)):bE(Xv.bind(null,e)),fO(function(){!(le&6)&&Lr()}),n=null;else{switch(fE(r)){case 1:n=Ep;break;case 4:n=uE;break;case 16:n=Kl;break;case 536870912:n=cE;break;default:n=Kl}n=MC(n,$C.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $C(e,t){if(yl=-1,wl=0,le&6)throw Error(_(327));var n=e.callbackNode;if(Ki()&&e.callbackNode!==n)return null;var r=Gl(e,e===Ge?et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fu(e,r);else{t=r;var i=le;le|=2;var s=RC();(Ge!==e||et!==t)&&(kn=null,os=Ae()+500,Yr(e,t));do try{bO();break}catch(a){DC(e,a)}while(1);Ap(),uu.current=s,le=i,Me!==null?t=0:(Ge=null,et=0,t=Ue)}if(t!==0){if(t===2&&(i=Ef(e),i!==0&&(r=i,t=Gf(e,i))),t===1)throw n=Xo,Yr(e,0),sr(e,r),Tt(e,Ae()),n;if(t===6)sr(e,r);else{if(i=e.current.alternate,!(r&30)&&!PO(i)&&(t=fu(e,r),t===2&&(s=Ef(e),s!==0&&(r=s,t=Gf(e,s))),t===1))throw n=Xo,Yr(e,0),sr(e,r),Tt(e,Ae()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:jr(e,Et,kn);break;case 3:if(sr(e,r),(r&130023424)===r&&(t=Gp+500-Ae(),10<t)){if(Gl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_f(jr.bind(null,e,Et,kn),t);break}jr(e,Et,kn);break;case 4:if(sr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-sn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LO(r/1960))-r,10<r){e.timeoutHandle=_f(jr.bind(null,e,Et,kn),r);break}jr(e,Et,kn);break;case 5:jr(e,Et,kn);break;default:throw Error(_(329))}}}return Tt(e,Ae()),e.callbackNode===n?$C.bind(null,e):null}function Gf(e,t){var n=lo;return e.current.memoizedState.isDehydrated&&(Yr(e,t).flags|=256),e=fu(e,t),e!==2&&(t=Et,Et=n,t!==null&&Qf(t)),e}function Qf(e){Et===null?Et=e:Et.push.apply(Et,e)}function PO(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ln(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sr(e,t){for(t&=~Kp,t&=~ac,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sn(t),r=1<<n;e[n]=-1,t&=~r}}function Xv(e){if(le&6)throw Error(_(327));Ki();var t=Gl(e,0);if(!(t&1))return Tt(e,Ae()),null;var n=fu(e,t);if(e.tag!==0&&n===2){var r=Ef(e);r!==0&&(t=r,n=Gf(e,r))}if(n===1)throw n=Xo,Yr(e,0),sr(e,t),Tt(e,Ae()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jr(e,Et,kn),Tt(e,Ae()),null}function Qp(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(os=Ae()+500,rc&&Lr())}}function li(e){lr!==null&&lr.tag===0&&!(le&6)&&Ki();var t=le;le|=1;var n=zt.transition,r=fe;try{if(zt.transition=null,fe=1,e)return e()}finally{fe=r,zt.transition=n,le=t,!(le&6)&&Lr()}}function Xp(){_t=Mi.current,Ce(Mi)}function Yr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dO(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Dp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zl();break;case 3:is(),Ce(St),Ce(ft),Bp();break;case 5:Fp(r);break;case 4:is();break;case 13:Ce(Ne);break;case 19:Ce(Ne);break;case 10:Lp(r.type._context);break;case 22:case 23:Xp()}n=n.return}if(Ge=e,Me=e=Er(e.current,null),et=_t=t,Ue=0,Xo=null,Kp=ac=ai=0,Et=lo=null,qr!==null){for(t=0;t<qr.length;t++)if(n=qr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qr=null}return e}function DC(e,t){do{var n=Me;try{if(Ap(),ml.current=lu,au){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}au=!1}if(oi=0,qe=be=Ie=null,oo=!1,Ko=0,qp.current=null,n===null||n.return===null){Ue=1,Xo=t,Me=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=bv(o);if(m!==null){m.flags&=-257,Fv(m,o,a,s,t),m.mode&1&&Mv(s,u,t),t=m,l=u;var y=t.updateQueue;if(y===null){var E=new Set;E.add(l),t.updateQueue=E}else y.add(l);break e}else{if(!(t&1)){Mv(s,u,t),Yp();break e}l=Error(_(426))}}else if(Te&&a.mode&1){var C=bv(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Fv(C,o,a,s,t),Rp(ss(l,a));break e}}s=l=ss(l,a),Ue!==4&&(Ue=2),lo===null?lo=[s]:lo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=hC(s,l,t);$v(s,g);break e;case 1:a=l;var p=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(yr===null||!yr.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=pC(s,a,t);$v(s,S);break e}}s=s.return}while(s!==null)}AC(n)}catch(T){t=T,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(1)}function RC(){var e=uu.current;return uu.current=lu,e===null?lu:e}function Yp(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ge===null||!(ai&268435455)&&!(ac&268435455)||sr(Ge,et)}function fu(e,t){var n=le;le|=2;var r=RC();(Ge!==e||et!==t)&&(kn=null,Yr(e,t));do try{MO();break}catch(i){DC(e,i)}while(1);if(Ap(),le=n,uu.current=r,Me!==null)throw Error(_(261));return Ge=null,et=0,Ue}function MO(){for(;Me!==null;)OC(Me)}function bO(){for(;Me!==null&&!lR();)OC(Me)}function OC(e){var t=PC(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?AC(e):Me=t,qp.current=null}function AC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=DO(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Me=null;return}}else if(n=$O(n,t,_t),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Ue===0&&(Ue=5)}function jr(e,t,n){var r=fe,i=zt.transition;try{zt.transition=null,fe=1,FO(e,t,n,r)}finally{zt.transition=i,fe=r}return null}function FO(e,t,n,r){do Ki();while(lr!==null);if(le&6)throw Error(_(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(yR(e,s),e===Ge&&(Me=Ge=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||el||(el=!0,MC(Kl,function(){return Ki(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zt.transition,zt.transition=null;var o=fe;fe=1;var a=le;le|=4,qp.current=null,OO(e,n),IC(n,e),iO(Nf),Ql=!!kf,Nf=kf=null,e.current=n,AO(n),uR(),le=a,fe=o,zt.transition=s}else e.current=n;if(el&&(el=!1,lr=e,du=i),s=e.pendingLanes,s===0&&(yr=null),fR(n.stateNode),Tt(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cu)throw cu=!1,e=qf,qf=null,e;return du&1&&e.tag!==0&&Ki(),s=e.pendingLanes,s&1?e===Kf?uo++:(uo=0,Kf=e):uo=0,Lr(),null}function Ki(){if(lr!==null){var e=fE(du),t=zt.transition,n=fe;try{if(zt.transition=null,fe=16>e?16:e,lr===null)var r=!1;else{if(e=lr,lr=null,du=0,le&6)throw Error(_(331));var i=le;for(le|=4,A=e.current;A!==null;){var s=A,o=s.child;if(A.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:ao(8,c,s)}var d=c.child;if(d!==null)d.return=c,A=d;else for(;A!==null;){c=A;var f=c.sibling,m=c.return;if(TC(c),c===u){A=null;break}if(f!==null){f.return=m,A=f;break}A=m}}}var y=s.alternate;if(y!==null){var E=y.child;if(E!==null){y.child=null;do{var C=E.sibling;E.sibling=null,E=C}while(E!==null)}}A=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,A=o;else e:for(;A!==null;){if(s=A,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ao(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,A=g;break e}A=s.return}}var p=e.current;for(A=p;A!==null;){o=A;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,A=w;else e:for(o=p;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:oc(9,a)}}catch(T){De(a,a.return,T)}if(a===o){A=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,A=S;break e}A=a.return}}if(le=i,Lr(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Ju,e)}catch{}r=!0}return r}finally{fe=n,zt.transition=t}}return!1}function Yv(e,t,n){t=ss(n,t),t=hC(e,t,1),e=vr(e,t,1),t=gt(),e!==null&&(Ta(e,1,t),Tt(e,t))}function De(e,t,n){if(e.tag===3)Yv(e,e,n);else for(;t!==null;){if(t.tag===3){Yv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){e=ss(n,e),e=pC(t,e,1),t=vr(t,e,1),e=gt(),t!==null&&(Ta(t,1,e),Tt(t,e));break}}t=t.return}}function BO(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(et&n)===n&&(Ue===4||Ue===3&&(et&130023424)===et&&500>Ae()-Gp?Yr(e,0):Kp|=n),Tt(e,t)}function LC(e,t){t===0&&(e.mode&1?(t=Ha,Ha<<=1,!(Ha&130023424)&&(Ha=4194304)):t=1);var n=gt();e=Wn(e,t),e!==null&&(Ta(e,t,n),Tt(e,n))}function UO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),LC(e,n)}function jO(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),LC(e,n)}var PC;PC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)Ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ct=!1,_O(e,t,n);Ct=!!(e.flags&131072)}else Ct=!1,Te&&t.flags&1048576&&FE(t,nu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vl(e,t),e=t.pendingProps;var i=ts(t,ft.current);qi(t,n),i=jp(null,t,r,e,i,n);var s=Vp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(r)?(s=!0,eu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mp(t),i.updater=ic,t.stateNode=i,i._reactInternals=t,Pf(t,r,e,n),t=Ff(null,t,r,!0,s,n)):(t.tag=0,Te&&s&&$p(t),ht(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=zO(r),e=Jt(r,e),i){case 0:t=bf(null,t,r,e,n);break e;case 1:t=jv(null,t,r,e,n);break e;case 11:t=Bv(null,t,r,e,n);break e;case 14:t=Uv(null,t,r,Jt(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),bf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),jv(e,t,r,i,n);case 3:e:{if(yC(t),e===null)throw Error(_(387));r=t.pendingProps,s=t.memoizedState,i=s.element,VE(e,t),su(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ss(Error(_(423)),t),t=Vv(e,t,r,n,i);break e}else if(r!==i){i=ss(Error(_(424)),t),t=Vv(e,t,r,n,i);break e}else for(Dt=gr(t.stateNode.containerInfo.firstChild),Ot=t,Te=!0,en=null,n=qE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ns(),r===i){t=qn(e,t,n);break e}ht(e,t,r,n)}t=t.child}return t;case 5:return KE(t),e===null&&Of(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,If(r,i)?o=null:s!==null&&If(r,s)&&(t.flags|=32),vC(e,t),ht(e,t,o,n),t.child;case 6:return e===null&&Of(t),null;case 13:return wC(e,t,n);case 4:return bp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rs(t,null,r,n):ht(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),Bv(e,t,r,i,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ve(ru,r._currentValue),r._currentValue=o,s!==null)if(ln(s.value,o)){if(s.children===i.children&&!St.current){t=qn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Mn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Af(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(_(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Af(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ht(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,qi(t,n),i=Ht(i),r=r(i),t.flags|=1,ht(e,t,r,n),t.child;case 14:return r=t.type,i=Jt(r,t.pendingProps),i=Jt(r.type,i),Uv(e,t,r,i,n);case 15:return mC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),vl(e,t),t.tag=1,xt(r)?(e=!0,eu(t)):e=!1,qi(t,n),HE(t,r,i),Pf(t,r,i,n),Ff(null,t,r,!0,e,n);case 19:return EC(e,t,n);case 22:return gC(e,t,n)}throw Error(_(156,t.tag))};function MC(e,t){return lE(e,t)}function VO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,n,r){return new VO(e,t,n,r)}function Jp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zO(e){if(typeof e=="function")return Jp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vp)return 11;if(e===yp)return 14}return 2}function Er(e,t){var n=e.alternate;return n===null?(n=Vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function El(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Jp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ni:return Jr(n.children,i,s,t);case gp:o=8,i|=8;break;case sf:return e=Vt(12,n,t,i|2),e.elementType=sf,e.lanes=s,e;case of:return e=Vt(13,n,t,i),e.elementType=of,e.lanes=s,e;case af:return e=Vt(19,n,t,i),e.elementType=af,e.lanes=s,e;case W1:return lc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z1:o=10;break e;case H1:o=9;break e;case vp:o=11;break e;case yp:o=14;break e;case tr:o=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Vt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Jr(e,t,n,r){return e=Vt(7,e,r,t),e.lanes=n,e}function lc(e,t,n,r){return e=Vt(22,e,r,t),e.elementType=W1,e.lanes=n,e.stateNode={isHidden:!1},e}function od(e,t,n){return e=Vt(6,e,null,t),e.lanes=n,e}function ad(e,t,n){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function HO(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jc(0),this.expirationTimes=jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zp(e,t,n,r,i,s,o,a,l){return e=new HO(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Vt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mp(s),e}function WO(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ki,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bC(e){if(!e)return Nr;e=e._reactInternals;e:{if(mi(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(xt(n))return ME(e,n,t)}return t}function FC(e,t,n,r,i,s,o,a,l){return e=Zp(n,r,!0,e,i,s,o,a,l),e.context=bC(null),n=e.current,r=gt(),i=wr(n),s=Mn(r,i),s.callback=t??null,vr(n,s,i),e.current.lanes=i,Ta(e,i,r),Tt(e,r),e}function uc(e,t,n,r){var i=t.current,s=gt(),o=wr(i);return n=bC(n),t.context===null?t.context=n:t.pendingContext=n,t=Mn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vr(i,t,o),e!==null&&(on(e,i,o,s),pl(e,i,o)),o}function hu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function em(e,t){Jv(e,t),(e=e.alternate)&&Jv(e,t)}function qO(){return null}var BC=typeof reportError=="function"?reportError:function(e){console.error(e)};function tm(e){this._internalRoot=e}cc.prototype.render=tm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));uc(e,t,null,null)};cc.prototype.unmount=tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;li(function(){uc(null,e,null,null)}),t[Hn]=null}};function cc(e){this._internalRoot=e}cc.prototype.unstable_scheduleHydration=function(e){if(e){var t=mE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ir.length&&t!==0&&t<ir[n].priority;n++);ir.splice(n,0,e),n===0&&vE(e)}};function nm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zv(){}function KO(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=hu(o);s.call(u)}}var o=FC(t,r,e,0,null,!1,!1,"",Zv);return e._reactRootContainer=o,e[Hn]=o.current,Vo(e.nodeType===8?e.parentNode:e),li(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=hu(l);a.call(u)}}var l=Zp(e,0,!1,null,null,!1,!1,"",Zv);return e._reactRootContainer=l,e[Hn]=l.current,Vo(e.nodeType===8?e.parentNode:e),li(function(){uc(t,l,n,r)}),l}function fc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=hu(o);a.call(l)}}uc(t,o,e,i)}else o=KO(n,t,e,i,r);return hu(o)}hE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qs(t.pendingLanes);n!==0&&(Cp(t,n|1),Tt(t,Ae()),!(le&6)&&(os=Ae()+500,Lr()))}break;case 13:li(function(){var r=Wn(e,1);if(r!==null){var i=gt();on(r,e,1,i)}}),em(e,1)}};Sp=function(e){if(e.tag===13){var t=Wn(e,134217728);if(t!==null){var n=gt();on(t,e,134217728,n)}em(e,134217728)}};pE=function(e){if(e.tag===13){var t=wr(e),n=Wn(e,t);if(n!==null){var r=gt();on(n,e,t,r)}em(e,t)}};mE=function(){return fe};gE=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};vf=function(e,t,n){switch(t){case"input":if(cf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=nc(r);if(!i)throw Error(_(90));K1(r),cf(r,i)}}}break;case"textarea":Q1(e,n);break;case"select":t=n.value,t!=null&&Vi(e,!!n.multiple,t,!1)}};nE=Qp;rE=li;var GO={usingClientEntryPoint:!1,Events:[Na,Di,nc,eE,tE,Qp]},bs={findFiberByHostInstance:Wr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QO={bundleType:bs.bundleType,version:bs.version,rendererPackageName:bs.rendererPackageName,rendererConfig:bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oE(e),e===null?null:e.stateNode},findFiberByHostInstance:bs.findFiberByHostInstance||qO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Ju=tl.inject(QO),gn=tl}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GO;Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nm(t))throw Error(_(200));return WO(e,t,null,n)};Pt.createRoot=function(e,t){if(!nm(e))throw Error(_(299));var n=!1,r="",i=BC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Zp(e,1,!1,null,null,n,!1,r,i),e[Hn]=t.current,Vo(e.nodeType===8?e.parentNode:e),new tm(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=oE(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return li(e)};Pt.hydrate=function(e,t,n){if(!dc(t))throw Error(_(200));return fc(null,e,t,!0,n)};Pt.hydrateRoot=function(e,t,n){if(!nm(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=BC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=FC(t,null,e,1,n??null,i,!1,s,o),e[Hn]=t.current,Vo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new cc(t)};Pt.render=function(e,t,n){if(!dc(t))throw Error(_(200));return fc(null,e,t,!1,n)};Pt.unmountComponentAtNode=function(e){if(!dc(e))throw Error(_(40));return e._reactRootContainer?(li(function(){fc(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};Pt.unstable_batchedUpdates=Qp;Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!dc(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return fc(e,t,n,!1,r)};Pt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Pt})(qD);const bi=ky(zl),ey={disabled:!1},UC=Be.createContext(null);var XO=function(t){return t.scrollTop},Gs="unmounted",rr="exited",tn="entering",_n="entered",Yo="exiting",Xn=function(e){lD(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=rr,s.appearStatus=tn):l=_n:r.unmountOnExit||r.mountOnEnter?l=Gs:l=rr,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Gs?{status:rr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==tn&&o!==_n&&(s=tn):(o===tn||o===_n)&&(s=Yo)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===tn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:bi.findDOMNode(this);o&&XO(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===rr&&this.setState({status:Gs})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[bi.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||ey.disabled){this.safeSetState({status:_n},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:tn},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:_n},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:bi.findDOMNode(this);if(!s||ey.disabled){this.safeSetState({status:rr},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Yo},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:rr},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:bi.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Gs)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=N1(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Be.createElement(UC.Provider,{value:null},typeof o=="function"?o(i,a):Be.cloneElement(Be.Children.only(o),a))},t}(Be.Component);Xn.contextType=UC;Xn.propTypes={};function wi(){}Xn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wi,onEntering:wi,onEntered:wi,onExit:wi,onExiting:wi,onExited:wi};Xn.UNMOUNTED=Gs;Xn.EXITED=rr;Xn.ENTERING=tn;Xn.ENTERED=_n;Xn.EXITING=Yo;const xs=!!(typeof window<"u"&&window.document&&window.document.createElement);var Xf=!1,Yf=!1;try{var ld={get passive(){return Xf=!0},get once(){return Yf=Xf=!0}};xs&&(window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,!0))}catch{}function rm(e,t,n,r){if(r&&typeof r!="boolean"&&!Yf){var i=r.once,s=r.capture,o=n;!Yf&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,Xf?r:s)}e.addEventListener(t,n,r)}function Jf(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function ur(e,t,n,r){return rm(e,t,n,r),function(){Jf(e,t,n,r)}}function YO(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function JO(e){var t=Pn(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function ZO(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||YO(e,"transitionend",!0)},t+n),s=ur(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function jC(e,t,n,r){n==null&&(n=JO(e)||0);var i=ZO(e,n,r),s=ur(e,"transitionend",t);return function(){i(),s()}}function ty(e,t){const n=Pn(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function hc(e,t){const n=ty(e,"transitionDuration"),r=ty(e,"transitionDelay"),i=jC(e,s=>{s.target===e&&(i(),t(s))},n+r)}function Fs(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...i){t.apply(this,i),n.apply(this,i)}},null)}function im(e){e.offsetHeight}function eA(e){return e&&"setState"in e?bi.findDOMNode(e):e??null}const tA=Be.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...u},c)=>{const d=h.useRef(null),f=Sa(d,l),m=x=>{f(eA(x))},y=x=>k=>{x&&d.current&&x(d.current,k)},E=h.useCallback(y(e),[e]),C=h.useCallback(y(t),[t]),g=h.useCallback(y(n),[n]),p=h.useCallback(y(r),[r]),w=h.useCallback(y(i),[i]),S=h.useCallback(y(s),[s]),T=h.useCallback(y(o),[o]);return v(Xn,{ref:c,...u,onEnter:E,onEntered:g,onEntering:C,onExit:p,onExited:S,onExiting:w,addEndListener:T,nodeRef:d,children:typeof a=="function"?(x,k)=>a(x,{...k,ref:m}):Be.cloneElement(a,{ref:m})})}),pc=tA,nA={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function VC(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=t[n],i=nA[e];return r+parseInt(Pn(t,i[0]),10)+parseInt(Pn(t,i[1]),10)}const rA={[rr]:"collapse",[Yo]:"collapsing",[tn]:"collapsing",[_n]:"collapse show"},iA={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:VC},zC=Be.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",getDimensionValue:l=VC,...u},c)=>{const d=typeof a=="function"?a():a,f=h.useMemo(()=>Fs(g=>{g.style[d]="0"},e),[d,e]),m=h.useMemo(()=>Fs(g=>{const p=`scroll${d[0].toUpperCase()}${d.slice(1)}`;g.style[d]=`${g[p]}px`},t),[d,t]),y=h.useMemo(()=>Fs(g=>{g.style[d]=null},n),[d,n]),E=h.useMemo(()=>Fs(g=>{g.style[d]=`${l(d,g)}px`,im(g)},r),[r,l,d]),C=h.useMemo(()=>Fs(g=>{g.style[d]=null},i),[d,i]);return v(pc,{ref:c,addEndListener:hc,...u,"aria-expanded":u.role?u.in:null,onEnter:f,onEntering:m,onEntered:y,onExit:E,onExiting:C,childRef:o.ref,children:(g,p)=>Be.cloneElement(o,{...p,className:z(s,o.props.className,rA[g],d==="width"&&"collapse-horizontal")})})});zC.defaultProps=iA;const sA=zC,HC=h.forwardRef(({children:e,bsPrefix:t,...n},r)=>{t=ee(t,"navbar-collapse");const i=h.useContext(Rr);return v(sA,{in:!!(i&&i.expanded),...n,children:v("div",{ref:r,className:t,children:e})})});HC.displayName="NavbarCollapse";const oA={label:"Toggle navigation"},sm=h.forwardRef(({bsPrefix:e,className:t,children:n,label:r,as:i="button",onClick:s,...o},a)=>{e=ee(e,"navbar-toggler");const{onToggle:l,expanded:u}=h.useContext(Rr)||{},c=Re(d=>{s&&s(d),l&&l()});return i==="button"&&(o.type="button"),v(i,{...o,ref:a,onClick:c,"aria-label":r,className:z(t,e,!u&&"collapsed"),children:n||v("span",{className:`${e}-icon`})})});sm.displayName="NavbarToggle";sm.defaultProps=oA;var Zf=new WeakMap,ny=function(t,n){if(!(!t||!n)){var r=Zf.get(n)||new Map;Zf.set(n,r);var i=r.get(t);return i||(i=n.matchMedia(t),i.refCount=0,r.set(i.media,i)),i}};function aA(e,t){t===void 0&&(t=typeof window>"u"?void 0:window);var n=ny(e,t),r=h.useState(function(){return n?n.matches:!1}),i=r[0],s=r[1];return M1(function(){var o=ny(e,t);if(!o)return s(!1);var a=Zf.get(t),l=function(){s(o.matches)};return o.refCount++,o.addListener(l),l(),function(){o.removeListener(l),o.refCount--,o.refCount<=0&&(a==null||a.delete(o.media)),o=void 0}},[e]),i}function lA(e){var t=Object.keys(e);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return t[Math.min(t.indexOf(a)+1,t.length-1)]}function i(a){var l=r(a),u=e[l];return typeof u=="number"?u=u-.2+"px":u="calc("+u+" - 0.2px)","(max-width: "+u+")"}function s(a){var l=e[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function o(a,l,u){var c;if(typeof a=="object")c=a,u=l,l=!0;else{var d;l=l||!0,c=(d={},d[a]=l,d)}var f=h.useMemo(function(){return Object.entries(c).reduce(function(m,y){var E=y[0],C=y[1];return(C==="up"||C===!0)&&(m=n(m,s(E))),(C==="down"||C===!0)&&(m=n(m,i(E))),m},"")},[JSON.stringify(c)]);return aA(f,u)}return o}var uA=lA({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function ud(e){e===void 0&&(e=xa());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function pu(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function cA(e){var t=h.useRef(e);return t.current=e,t}function om(e){var t=cA(e);h.useEffect(function(){return function(){return t.current()}},[])}function dA(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const ry=Es("modal-open");class am{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return dA(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(Pn(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(ry,""),Pn(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(ry),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const WC=h.createContext(xs?window:void 0);WC.Provider;function lm(){return h.useContext(WC)}const cd=(e,t)=>xs?e==null?(t||xa()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function fA(e,t){const n=lm(),[r,i]=h.useState(()=>cd(e,n==null?void 0:n.document));if(!r){const s=cd(e);s&&i(s)}return h.useEffect(()=>{t&&r&&t(r)},[t,r]),h.useEffect(()=>{const s=cd(e);s!==r&&i(s)},[e,r]),r}const hA=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function pA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let dd;function mA(e){return dd||(dd=new am({ownerDocument:e==null?void 0:e.document})),dd}function gA(e){const t=lm(),n=e||mA(t),r=h.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:h.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:h.useCallback(i=>{r.current.backdrop=i},[])})}const qC=h.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:d,backdropTransition:f,autoFocus:m=!0,enforceFocus:y=!0,restoreFocus:E=!0,restoreFocusOptions:C,renderDialog:g,renderBackdrop:p=ae=>v("div",Object.assign({},ae)),manager:w,container:S,onShow:T,onHide:x=()=>{},onExit:k,onExited:I,onExiting:B,onEnter:R,onEntering:b,onEntered:V}=e,H=pA(e,hA);const ie=fA(S),J=gA(w),te=dp(),ue=P1(n),[D,L]=h.useState(!n),O=h.useRef(null);h.useImperativeHandle(t,()=>J,[J]),xs&&!ue&&n&&(O.current=ud()),!d&&!n&&!D?L(!0):n&&D&&L(!1);const Z=Re(()=>{if(J.add(),ke.current=ur(document,"keydown",K),pe.current=ur(document,"focus",()=>setTimeout(he),!0),T&&T(),m){const ae=ud(document);J.dialog&&ae&&!pu(J.dialog,ae)&&(O.current=ae,J.dialog.focus())}}),Y=Re(()=>{if(J.remove(),ke.current==null||ke.current(),pe.current==null||pe.current(),E){var ae;(ae=O.current)==null||ae.focus==null||ae.focus(C),O.current=null}});h.useEffect(()=>{!n||!ie||Z()},[n,ie,Z]),h.useEffect(()=>{D&&Y()},[D,Y]),om(()=>{Y()});const he=Re(()=>{if(!y||!te()||!J.isTopModal())return;const ae=ud();J.dialog&&ae&&!pu(J.dialog,ae)&&J.dialog.focus()}),Se=Re(ae=>{ae.target===ae.currentTarget&&(u==null||u(ae),a===!0&&x())}),K=Re(ae=>{l&&ae.keyCode===27&&J.isTopModal()&&(c==null||c(ae),ae.defaultPrevented||x())}),pe=h.useRef(),ke=h.useRef(),wt=(...ae)=>{L(!0),I==null||I(...ae)},It=d;if(!ie||!(n||It&&!D))return null;const He=Object.assign({role:r,ref:J.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},H,{style:s,className:i,tabIndex:-1});let $e=g?g(He):v("div",Object.assign({},He,{children:h.cloneElement(o,{role:"document"})}));It&&($e=v(It,{appear:!0,unmountOnExit:!0,in:!!n,onExit:k,onExiting:B,onExited:wt,onEnter:R,onEntering:b,onEntered:V,children:$e}));let bt=null;if(a){const ae=f;bt=p({ref:J.setBackdropRef,onClick:Se}),ae&&(bt=v(ae,{appear:!0,in:!!n,children:bt}))}return v(an,{children:bi.createPortal(M(an,{children:[bt,$e]}),ie)})});qC.displayName="Modal";const KC=Object.assign(qC,{Manager:am}),vA={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},yA={[tn]:"show",[_n]:"show"},um=h.forwardRef(({className:e,children:t,transitionClasses:n={},...r},i)=>{const s=h.useCallback((o,a)=>{im(o),r.onEnter==null||r.onEnter(o,a)},[r]);return v(pc,{ref:i,addEndListener:hc,...r,onEnter:s,childRef:t.ref,children:(o,a)=>h.cloneElement(t,{...a,className:z("fade",e,t.props.className,yA[o],n[o])})})});um.defaultProps=vA;um.displayName="Fade";const cm=um,wA=ze("offcanvas-body"),EA={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},CA={[tn]:"show",[_n]:"show"},dm=h.forwardRef(({bsPrefix:e,className:t,children:n,...r},i)=>(e=ee(e,"offcanvas"),v(pc,{ref:i,addEndListener:hc,...r,childRef:n.ref,children:(s,o)=>h.cloneElement(n,{...o,className:z(t,n.props.className,(s===tn||s===Yo)&&`${e}-toggling`,CA[s])})})));dm.defaultProps=EA;dm.displayName="OffcanvasToggling";const SA=h.createContext({onHide(){}}),fm=SA,xA={"aria-label":rn.string,onClick:rn.func,variant:rn.oneOf(["white"])},TA={"aria-label":"Close"},mc=h.forwardRef(({className:e,variant:t,...n},r)=>v("button",{ref:r,type:"button",className:z("btn-close",t&&`btn-close-${t}`,e),...n}));mc.displayName="CloseButton";mc.propTypes=xA;mc.defaultProps=TA;const kA=mc,NA={closeLabel:"Close",closeButton:!1},GC=h.forwardRef(({closeLabel:e,closeVariant:t,closeButton:n,onHide:r,children:i,...s},o)=>{const a=h.useContext(fm),l=Re(()=>{a==null||a.onHide(),r==null||r()});return M("div",{ref:o,...s,children:[i,n&&v(kA,{"aria-label":e,variant:t,onClick:l})]})});GC.defaultProps=NA;const QC=GC,IA={closeLabel:"Close",closeButton:!1},hm=h.forwardRef(({bsPrefix:e,className:t,...n},r)=>(e=ee(e,"offcanvas-header"),v(QC,{ref:r,...n,className:z(t,e)})));hm.displayName="OffcanvasHeader";hm.defaultProps=IA;const _A=hm,gc=e=>h.forwardRef((t,n)=>v("div",{...t,ref:n,className:z(t.className,e)})),$A=gc("h5"),DA=ze("offcanvas-title",{Component:$A});function RA(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function OA(e,t){e.classList?e.classList.add(t):RA(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function iy(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function AA(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=iy(e.className,t):e.setAttribute("class",iy(e.className&&e.className.baseVal||"",t))}const Ei={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class XC extends am{adjustAndStore(t,n,r){const i=n.style[t];n.dataset[t]=i,Pn(n,{[t]:`${parseFloat(Pn(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],Pn(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(OA(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Nn(n,Ei.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth)),Nn(n,Ei.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-t.scrollBarWidth)),Nn(n,Ei.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();AA(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Nn(n,Ei.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Nn(n,Ei.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Nn(n,Ei.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let fd;function YC(e){return fd||(fd=new XC(e)),fd}const LA=XC,PA={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function MA(e){return v(dm,{...e})}function bA(e){return v(cm,{...e})}const pm=h.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":r,placement:i,responsive:s,show:o,backdrop:a,keyboard:l,scroll:u,onEscapeKeyDown:c,onShow:d,onHide:f,container:m,autoFocus:y,enforceFocus:E,restoreFocus:C,restoreFocusOptions:g,onEntered:p,onExit:w,onExiting:S,onEnter:T,onEntering:x,onExited:k,backdropClassName:I,manager:B,renderStaticNode:R,...b},V)=>{const H=h.useRef();e=ee(e,"offcanvas");const{onToggle:ie}=h.useContext(Rr)||{},[J,te]=h.useState(!1),ue=uA(s||"xs","up");h.useEffect(()=>{te(s?o&&!ue:o)},[o,s,ue]);const D=Re(()=>{ie==null||ie(),f==null||f()}),L=h.useMemo(()=>({onHide:D}),[D]);function O(){return B||(u?(H.current||(H.current=new LA({handleContainerOverflow:!1})),H.current):YC())}const Z=(K,...pe)=>{K&&(K.style.visibility="visible"),T==null||T(K,...pe)},Y=(K,...pe)=>{K&&(K.style.visibility=""),k==null||k(...pe)},he=h.useCallback(K=>v("div",{...K,className:z(`${e}-backdrop`,I)}),[I,e]),Se=K=>v("div",{...K,...b,className:z(t,s?`${e}-${s}`:e,`${e}-${i}`),"aria-labelledby":r,children:n});return M(an,{children:[!J&&(s||R)&&Se({}),v(fm.Provider,{value:L,children:v(KC,{show:J,ref:V,backdrop:a,container:m,keyboard:l,autoFocus:y,enforceFocus:E&&!u,restoreFocus:C,restoreFocusOptions:g,onEscapeKeyDown:c,onShow:d,onHide:D,onEnter:Z,onEntering:x,onEntered:p,onExit:w,onExiting:S,onExited:Y,manager:O(),transition:MA,backdropTransition:bA,renderBackdrop:he,renderDialog:Se})})]})});pm.displayName="Offcanvas";pm.defaultProps=PA;const FA=Object.assign(pm,{Body:wA,Header:_A,Title:DA}),JC=h.forwardRef((e,t)=>{const n=h.useContext(Rr);return v(FA,{ref:t,show:!!(n!=null&&n.expanded),...e,renderStaticNode:!0})});JC.displayName="NavbarOffcanvas";const BA=ze("navbar-text",{Component:"span"}),UA={expand:!0,variant:"light",collapseOnSelect:!1},mm=h.forwardRef((e,t)=>{const{bsPrefix:n,expand:r,variant:i,bg:s,fixed:o,sticky:a,className:l,as:u="nav",expanded:c,onToggle:d,onSelect:f,collapseOnSelect:m,...y}=Qu(e,{expanded:"onToggle"}),E=ee(n,"navbar"),C=h.useCallback((...w)=>{f==null||f(...w),m&&c&&(d==null||d(!1))},[f,m,c,d]);y.role===void 0&&u!=="nav"&&(y.role="navigation");let g=`${E}-expand`;typeof r=="string"&&(g=`${g}-${r}`);const p=h.useMemo(()=>({onToggle:()=>d==null?void 0:d(!c),bsPrefix:E,expanded:!!c,expand:r}),[E,c,r,d]);return v(Rr.Provider,{value:p,children:v(ri.Provider,{value:C,children:v(u,{ref:t,...y,className:z(l,E,r&&g,i&&`${E}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});mm.defaultProps=UA;mm.displayName="Navbar";const Fi=Object.assign(mm,{Brand:b1,Collapse:HC,Offcanvas:JC,Text:BA,Toggle:sm}),vc=h.createContext(null);var sy=Object.prototype.hasOwnProperty;function oy(e,t,n){for(n of e.keys())if(co(n,t))return n}function co(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&co(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=oy(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=oy(t,i),!i)||!co(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(sy.call(e,n)&&++r&&!sy.call(t,n)||!(n in t)||!co(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function jA(e){var t=dp();return[e[0],h.useCallback(function(n){if(t())return e[1](n)},[t,e[1]])]}var kt="top",qt="bottom",Kt="right",Nt="left",gm="auto",_a=[kt,qt,Kt,Nt],as="start",Jo="end",VA="clippingParents",ZC="viewport",Bs="popper",zA="reference",ay=_a.reduce(function(e,t){return e.concat([t+"-"+as,t+"-"+Jo])},[]),eS=[].concat(_a,[gm]).reduce(function(e,t){return e.concat([t,t+"-"+as,t+"-"+Jo])},[]),HA="beforeRead",WA="read",qA="afterRead",KA="beforeMain",GA="main",QA="afterMain",XA="beforeWrite",YA="write",JA="afterWrite",ZA=[HA,WA,qA,KA,GA,QA,XA,YA,JA];function yn(e){return e.split("-")[0]}function Gt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ui(e){var t=Gt(e).Element;return e instanceof t||e instanceof Element}function wn(e){var t=Gt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function vm(e){if(typeof ShadowRoot>"u")return!1;var t=Gt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Zr=Math.max,mu=Math.min,ls=Math.round;function eh(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function tS(){return!/^((?!chrome|android).)*safari/i.test(eh())}function us(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&wn(e)&&(i=e.offsetWidth>0&&ls(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&ls(r.height)/e.offsetHeight||1);var o=ui(e)?Gt(e):window,a=o.visualViewport,l=!tS()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function ym(e){var t=us(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function nS(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&vm(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ir(e){return e?(e.nodeName||"").toLowerCase():null}function Kn(e){return Gt(e).getComputedStyle(e)}function eL(e){return["table","td","th"].indexOf(Ir(e))>=0}function Pr(e){return((ui(e)?e.ownerDocument:e.document)||window.document).documentElement}function yc(e){return Ir(e)==="html"?e:e.assignedSlot||e.parentNode||(vm(e)?e.host:null)||Pr(e)}function ly(e){return!wn(e)||Kn(e).position==="fixed"?null:e.offsetParent}function tL(e){var t=/firefox/i.test(eh()),n=/Trident/i.test(eh());if(n&&wn(e)){var r=Kn(e);if(r.position==="fixed")return null}var i=yc(e);for(vm(i)&&(i=i.host);wn(i)&&["html","body"].indexOf(Ir(i))<0;){var s=Kn(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function $a(e){for(var t=Gt(e),n=ly(e);n&&eL(n)&&Kn(n).position==="static";)n=ly(n);return n&&(Ir(n)==="html"||Ir(n)==="body"&&Kn(n).position==="static")?t:n||tL(e)||t}function wm(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function fo(e,t,n){return Zr(e,mu(t,n))}function nL(e,t,n){var r=fo(e,t,n);return r>n?n:r}function rS(){return{top:0,right:0,bottom:0,left:0}}function iS(e){return Object.assign({},rS(),e)}function sS(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var rL=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,iS(typeof t!="number"?t:sS(t,_a))};function iL(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=yn(n.placement),l=wm(a),u=[Nt,Kt].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=rL(i.padding,n),f=ym(s),m=l==="y"?kt:Nt,y=l==="y"?qt:Kt,E=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],C=o[l]-n.rects.reference[l],g=$a(s),p=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,w=E/2-C/2,S=d[m],T=p-f[c]-d[y],x=p/2-f[c]/2+w,k=fo(S,x,T),I=l;n.modifiersData[r]=(t={},t[I]=k,t.centerOffset=k-x,t)}}function sL(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||nS(t.elements.popper,i)&&(t.elements.arrow=i))}const oL={name:"arrow",enabled:!0,phase:"main",fn:iL,effect:sL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cs(e){return e.split("-")[1]}var aL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lL(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:ls(t*i)/i||0,y:ls(n*i)/i||0}}function uy(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,f=o.x,m=f===void 0?0:f,y=o.y,E=y===void 0?0:y,C=typeof c=="function"?c({x:m,y:E}):{x:m,y:E};m=C.x,E=C.y;var g=o.hasOwnProperty("x"),p=o.hasOwnProperty("y"),w=Nt,S=kt,T=window;if(u){var x=$a(n),k="clientHeight",I="clientWidth";if(x===Gt(n)&&(x=Pr(n),Kn(x).position!=="static"&&a==="absolute"&&(k="scrollHeight",I="scrollWidth")),x=x,i===kt||(i===Nt||i===Kt)&&s===Jo){S=qt;var B=d&&x===T&&T.visualViewport?T.visualViewport.height:x[k];E-=B-r.height,E*=l?1:-1}if(i===Nt||(i===kt||i===qt)&&s===Jo){w=Kt;var R=d&&x===T&&T.visualViewport?T.visualViewport.width:x[I];m-=R-r.width,m*=l?1:-1}}var b=Object.assign({position:a},u&&aL),V=c===!0?lL({x:m,y:E}):{x:m,y:E};if(m=V.x,E=V.y,l){var H;return Object.assign({},b,(H={},H[S]=p?"0":"",H[w]=g?"0":"",H.transform=(T.devicePixelRatio||1)<=1?"translate("+m+"px, "+E+"px)":"translate3d("+m+"px, "+E+"px, 0)",H))}return Object.assign({},b,(t={},t[S]=p?E+"px":"",t[w]=g?m+"px":"",t.transform="",t))}function uL(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:yn(t.placement),variation:cs(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,uy(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,uy(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const cL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uL,data:{}};var nl={passive:!0};function dL(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Gt(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,nl)}),a&&l.addEventListener("resize",n.update,nl),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,nl)}),a&&l.removeEventListener("resize",n.update,nl)}}const fL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dL,data:{}};var hL={left:"right",right:"left",bottom:"top",top:"bottom"};function Cl(e){return e.replace(/left|right|bottom|top/g,function(t){return hL[t]})}var pL={start:"end",end:"start"};function cy(e){return e.replace(/start|end/g,function(t){return pL[t]})}function Em(e){var t=Gt(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Cm(e){return us(Pr(e)).left+Em(e).scrollLeft}function mL(e,t){var n=Gt(e),r=Pr(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=tS();(u||!u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Cm(e),y:l}}function gL(e){var t,n=Pr(e),r=Em(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Zr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Zr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Cm(e),l=-r.scrollTop;return Kn(i||n).direction==="rtl"&&(a+=Zr(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Sm(e){var t=Kn(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function oS(e){return["html","body","#document"].indexOf(Ir(e))>=0?e.ownerDocument.body:wn(e)&&Sm(e)?e:oS(yc(e))}function ho(e,t){var n;t===void 0&&(t=[]);var r=oS(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Gt(r),o=i?[s].concat(s.visualViewport||[],Sm(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(ho(yc(o)))}function th(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function vL(e,t){var n=us(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function dy(e,t,n){return t===ZC?th(mL(e,n)):ui(t)?vL(t,n):th(gL(Pr(e)))}function yL(e){var t=ho(yc(e)),n=["absolute","fixed"].indexOf(Kn(e).position)>=0,r=n&&wn(e)?$a(e):e;return ui(r)?t.filter(function(i){return ui(i)&&nS(i,r)&&Ir(i)!=="body"}):[]}function wL(e,t,n,r){var i=t==="clippingParents"?yL(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=dy(e,u,r);return l.top=Zr(c.top,l.top),l.right=mu(c.right,l.right),l.bottom=mu(c.bottom,l.bottom),l.left=Zr(c.left,l.left),l},dy(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function aS(e){var t=e.reference,n=e.element,r=e.placement,i=r?yn(r):null,s=r?cs(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case kt:l={x:o,y:t.y-n.height};break;case qt:l={x:o,y:t.y+t.height};break;case Kt:l={x:t.x+t.width,y:a};break;case Nt:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=i?wm(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case as:l[u]=l[u]-(t[c]/2-n[c]/2);break;case Jo:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Zo(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?VA:a,u=n.rootBoundary,c=u===void 0?ZC:u,d=n.elementContext,f=d===void 0?Bs:d,m=n.altBoundary,y=m===void 0?!1:m,E=n.padding,C=E===void 0?0:E,g=iS(typeof C!="number"?C:sS(C,_a)),p=f===Bs?zA:Bs,w=e.rects.popper,S=e.elements[y?p:f],T=wL(ui(S)?S:S.contextElement||Pr(e.elements.popper),l,c,o),x=us(e.elements.reference),k=aS({reference:x,element:w,strategy:"absolute",placement:i}),I=th(Object.assign({},w,k)),B=f===Bs?I:x,R={top:T.top-B.top+g.top,bottom:B.bottom-T.bottom+g.bottom,left:T.left-B.left+g.left,right:B.right-T.right+g.right},b=e.modifiersData.offset;if(f===Bs&&b){var V=b[i];Object.keys(R).forEach(function(H){var ie=[Kt,qt].indexOf(H)>=0?1:-1,J=[kt,qt].indexOf(H)>=0?"y":"x";R[H]+=V[J]*ie})}return R}function EL(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?eS:l,c=cs(r),d=c?a?ay:ay.filter(function(y){return cs(y)===c}):_a,f=d.filter(function(y){return u.indexOf(y)>=0});f.length===0&&(f=d);var m=f.reduce(function(y,E){return y[E]=Zo(e,{placement:E,boundary:i,rootBoundary:s,padding:o})[yn(E)],y},{});return Object.keys(m).sort(function(y,E){return m[y]-m[E]})}function CL(e){if(yn(e)===gm)return[];var t=Cl(e);return[cy(e),t,cy(t)]}function SL(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,E=n.allowedAutoPlacements,C=t.options.placement,g=yn(C),p=g===C,w=l||(p||!y?[Cl(C)]:CL(C)),S=[C].concat(w).reduce(function(Se,K){return Se.concat(yn(K)===gm?EL(t,{placement:K,boundary:c,rootBoundary:d,padding:u,flipVariations:y,allowedAutoPlacements:E}):K)},[]),T=t.rects.reference,x=t.rects.popper,k=new Map,I=!0,B=S[0],R=0;R<S.length;R++){var b=S[R],V=yn(b),H=cs(b)===as,ie=[kt,qt].indexOf(V)>=0,J=ie?"width":"height",te=Zo(t,{placement:b,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),ue=ie?H?Kt:Nt:H?qt:kt;T[J]>x[J]&&(ue=Cl(ue));var D=Cl(ue),L=[];if(s&&L.push(te[V]<=0),a&&L.push(te[ue]<=0,te[D]<=0),L.every(function(Se){return Se})){B=b,I=!1;break}k.set(b,L)}if(I)for(var O=y?3:1,Z=function(K){var pe=S.find(function(ke){var wt=k.get(ke);if(wt)return wt.slice(0,K).every(function(It){return It})});if(pe)return B=pe,"break"},Y=O;Y>0;Y--){var he=Z(Y);if(he==="break")break}t.placement!==B&&(t.modifiersData[r]._skip=!0,t.placement=B,t.reset=!0)}}const xL={name:"flip",enabled:!0,phase:"main",fn:SL,requiresIfExists:["offset"],data:{_skip:!1}};function fy(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function hy(e){return[kt,Kt,qt,Nt].some(function(t){return e[t]>=0})}function TL(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=Zo(t,{elementContext:"reference"}),a=Zo(t,{altBoundary:!0}),l=fy(o,r),u=fy(a,i,s),c=hy(l),d=hy(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const kL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:TL};function NL(e,t,n){var r=yn(e),i=[Nt,kt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Nt,Kt].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function IL(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=eS.reduce(function(c,d){return c[d]=NL(d,t.rects,s),c},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}const _L={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:IL};function $L(e){var t=e.state,n=e.name;t.modifiersData[n]=aS({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const DL={name:"popperOffsets",enabled:!0,phase:"read",fn:$L,data:{}};function RL(e){return e==="x"?"y":"x"}function OL(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,m=f===void 0?!0:f,y=n.tetherOffset,E=y===void 0?0:y,C=Zo(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=yn(t.placement),p=cs(t.placement),w=!p,S=wm(g),T=RL(S),x=t.modifiersData.popperOffsets,k=t.rects.reference,I=t.rects.popper,B=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,R=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),b=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(x){if(s){var H,ie=S==="y"?kt:Nt,J=S==="y"?qt:Kt,te=S==="y"?"height":"width",ue=x[S],D=ue+C[ie],L=ue-C[J],O=m?-I[te]/2:0,Z=p===as?k[te]:I[te],Y=p===as?-I[te]:-k[te],he=t.elements.arrow,Se=m&&he?ym(he):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rS(),pe=K[ie],ke=K[J],wt=fo(0,k[te],Se[te]),It=w?k[te]/2-O-wt-pe-R.mainAxis:Z-wt-pe-R.mainAxis,He=w?-k[te]/2+O+wt+ke+R.mainAxis:Y+wt+ke+R.mainAxis,$e=t.elements.arrow&&$a(t.elements.arrow),bt=$e?S==="y"?$e.clientTop||0:$e.clientLeft||0:0,ae=(H=b==null?void 0:b[S])!=null?H:0,Ft=ue+It-ae-bt,Ts=ue+He-ae,gi=fo(m?mu(D,Ft):D,ue,m?Zr(L,Ts):L);x[S]=gi,V[S]=gi-ue}if(a){var vi,ks=S==="x"?kt:Nt,Ns=S==="x"?qt:Kt,Qt=x[T],Yn=T==="y"?"height":"width",Mr=Qt+C[ks],un=Qt-C[Ns],Jn=[kt,Nt].indexOf(g)!==-1,se=(vi=b==null?void 0:b[T])!=null?vi:0,Xt=Jn?Mr:Qt-k[Yn]-I[Yn]-se+R.altAxis,br=Jn?Qt+k[Yn]+I[Yn]-se-R.altAxis:un,Is=m&&Jn?nL(Xt,Qt,br):fo(m?Xt:Mr,Qt,m?br:un);x[T]=Is,V[T]=Is-Qt}t.modifiersData[r]=V}}const AL={name:"preventOverflow",enabled:!0,phase:"main",fn:OL,requiresIfExists:["offset"]};function LL(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function PL(e){return e===Gt(e)||!wn(e)?Em(e):LL(e)}function ML(e){var t=e.getBoundingClientRect(),n=ls(t.width)/e.offsetWidth||1,r=ls(t.height)/e.offsetHeight||1;return n!==1||r!==1}function bL(e,t,n){n===void 0&&(n=!1);var r=wn(t),i=wn(t)&&ML(t),s=Pr(t),o=us(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ir(t)!=="body"||Sm(s))&&(a=PL(t)),wn(t)?(l=us(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Cm(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function FL(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function BL(e){var t=FL(e);return ZA.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function UL(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function jL(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var py={placement:"bottom",modifiers:[],strategy:"absolute"};function my(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function VL(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?py:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},py,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,m={state:c,setOptions:function(g){var p=typeof g=="function"?g(c.options):g;E(),c.options=Object.assign({},s,c.options,p),c.scrollParents={reference:ui(a)?ho(a):a.contextElement?ho(a.contextElement):[],popper:ho(l)};var w=BL(jL([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(S){return S.enabled}),y(),m.update()},forceUpdate:function(){if(!f){var g=c.elements,p=g.reference,w=g.popper;if(my(p,w)){c.rects={reference:bL(p,$a(w),c.options.strategy==="fixed"),popper:ym(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(R){return c.modifiersData[R.name]=Object.assign({},R.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var T=c.orderedModifiers[S],x=T.fn,k=T.options,I=k===void 0?{}:k,B=T.name;typeof x=="function"&&(c=x({state:c,options:I,name:B,instance:m})||c)}}}},update:UL(function(){return new Promise(function(C){m.forceUpdate(),C(c)})}),destroy:function(){E(),f=!0}};if(!my(a,l))return m;m.setOptions(u).then(function(C){!f&&u.onFirstUpdate&&u.onFirstUpdate(C)});function y(){c.orderedModifiers.forEach(function(C){var g=C.name,p=C.options,w=p===void 0?{}:p,S=C.effect;if(typeof S=="function"){var T=S({state:c,name:g,instance:m,options:w}),x=function(){};d.push(T||x)}})}function E(){d.forEach(function(C){return C()}),d=[]}return m}}const zL=VL({defaultModifiers:[kL,DL,cL,fL,_L,xL,AL,oL]}),HL=["enabled","placement","strategy","modifiers"];function WL(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const qL={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},KL={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:n}=e.elements;if("removeAttribute"in t){const r=(t.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?t.setAttribute("aria-describedby",r.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:n,reference:r}=e.elements,i=(t=n.getAttribute("role"))==null?void 0:t.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},GL=[];function QL(e,t,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=GL}=n,a=WL(n,HL);const l=h.useRef(o),u=h.useRef(),c=h.useCallback(()=>{var C;(C=u.current)==null||C.update()},[]),d=h.useCallback(()=>{var C;(C=u.current)==null||C.forceUpdate()},[]),[f,m]=jA(h.useState({placement:i,update:c,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),y=h.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:C})=>{const g={},p={};Object.keys(C.elements).forEach(w=>{g[w]=C.styles[w],p[w]=C.attributes[w]}),m({state:C,styles:g,attributes:p,update:c,forceUpdate:d,placement:C.placement})}}),[c,d,m]),E=h.useMemo(()=>(co(l.current,o)||(l.current=o),l.current),[o]);return h.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:i,strategy:s,modifiers:[...E,y,qL]})},[s,i,y,r,E]),h.useEffect(()=>{if(!(!r||e==null||t==null))return u.current=zL(e,t,Object.assign({},a,{placement:i,strategy:s,modifiers:[...E,KL,y]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,m(C=>Object.assign({},C,{attributes:{},styles:{popper:{}}})))}},[r,e,t]),f}const gy=()=>{};function XL(e){return e.button===0}function YL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const hd=e=>e&&("current"in e?e.current:e),vy={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function JL(e,t=gy,{disabled:n,clickTrigger:r="click"}={}){const i=h.useRef(!1),s=h.useRef(!1),o=h.useCallback(u=>{const c=hd(e);i.current=!c||YL(u)||!XL(u)||!!pu(c,u.target)||s.current,s.current=!1},[e]),a=Re(u=>{const c=hd(e);c&&pu(c,u.target)&&(s.current=!0)}),l=Re(u=>{i.current||t(u)});h.useEffect(()=>{if(n||e==null)return;const u=xa(hd(e));let c=(u.defaultView||window).event,d=null;vy[r]&&(d=ur(u,vy[r],a,!0));const f=ur(u,r,o,!0),m=ur(u,r,E=>{if(E===c){c=void 0;return}l(E)});let y=[];return"ontouchstart"in u.documentElement&&(y=[].slice.call(u.body.children).map(E=>ur(E,"mousemove",gy))),()=>{d==null||d(),f(),m(),y.forEach(E=>E())}},[e,n,r,o,a,l])}function ZL(e){const t={};return Array.isArray(e)?(e==null||e.forEach(n=>{t[n.name]=n}),t):e||t}function eP(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function tP({enabled:e,enableEvents:t,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var u,c,d,f,m;const y=ZL(l.modifiers);return Object.assign({},l,{placement:n,enabled:e,strategy:s?"fixed":l.strategy,modifiers:eP(Object.assign({},y,{eventListeners:{enabled:t,options:(u=y.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},y.preventOverflow,{options:o?Object.assign({padding:o},(c=y.preventOverflow)==null?void 0:c.options):(d=y.preventOverflow)==null?void 0:d.options}),offset:{options:Object.assign({offset:i},(f=y.offset)==null?void 0:f.options)},arrow:Object.assign({},y.arrow,{enabled:!!a,options:Object.assign({},(m=y.arrow)==null?void 0:m.options,{element:a})}),flip:Object.assign({enabled:!!r},y.flip)}))})}const nP=["children"];function rP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const iP=()=>{};function lS(e={}){const t=h.useContext(vc),[n,r]=L1(),i=h.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:l=!1,placement:u,popperConfig:c={},enableEventListeners:d=!0,usePopper:f=!!t}=e,m=(t==null?void 0:t.show)==null?!!e.show:t.show;m&&!i.current&&(i.current=!0);const y=x=>{t==null||t.toggle(!1,x)},{placement:E,setMenu:C,menuElement:g,toggleElement:p}=t||{},w=QL(p,g,tP({placement:u||E||"bottom-start",enabled:f,enableEvents:d??m,offset:o,flip:s,fixed:l,arrowElement:n,popperConfig:c})),S=Object.assign({ref:C||iP,"aria-labelledby":p==null?void 0:p.id},w.attributes.popper,{style:w.styles.popper}),T={show:m,placement:E,hasShown:i.current,toggle:t==null?void 0:t.toggle,popper:f?w:null,arrowProps:f?Object.assign({ref:r},w.attributes.arrow,{style:w.styles.arrow}):{}};return JL(g,y,{clickTrigger:a,disabled:!m}),[S,T]}const sP={usePopper:!0};function xm(e){let{children:t}=e,n=rP(e,nP);const[r,i]=lS(n);return v(an,{children:t(r,i)})}xm.displayName="DropdownMenu";xm.defaultProps=sP;const uS={prefix:String(Math.round(Math.random()*1e10)),current:0},oP=Be.createContext(uS);let aP=Boolean(typeof window<"u"&&window.document&&window.document.createElement);function lP(e){let t=h.useContext(oP);return t===uS&&!aP&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),h.useMemo(()=>e||`react-aria${t.prefix}-${++t.current}`,[e])}const cS=e=>{var t;return((t=e.getAttribute("role"))==null?void 0:t.toLowerCase())==="menu"},yy=()=>{};function dS(){const e=lP(),{show:t=!1,toggle:n=yy,setToggle:r,menuElement:i}=h.useContext(vc)||{},s=h.useCallback(a=>{n(!t,a)},[t,n]),o={id:e,ref:r||yy,onClick:s,"aria-expanded":!!t};return i&&cS(i)&&(o["aria-haspopup"]=!0),[o,{show:t,toggle:n}]}function fS({children:e}){const[t,n]=dS();return v(an,{children:e(t,n)})}fS.displayName="DropdownToggle";const uP=["eventKey","disabled","onClick","active","as"];function cP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function hS({key:e,href:t,active:n,disabled:r,onClick:i}){const s=h.useContext(ri),o=h.useContext(Xu),{activeKey:a}=o||{},l=Oo(e,t),u=n==null&&e!=null?Oo(a)===l:n;return[{onClick:Re(d=>{r||(i==null||i(d),s&&!d.isPropagationStopped()&&s(l,d))}),"aria-disabled":r||void 0,"aria-selected":u,[Es("dropdown-item")]:""},{isActive:u}]}const pS=h.forwardRef((e,t)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=up}=e,a=cP(e,uP);const[l]=hS({key:n,href:a.href,disabled:r,onClick:i,active:s});return v(o,Object.assign({},a,{ref:t},l))});pS.displayName="DropdownItem";function wy(){const e=_1(),t=h.useRef(null),n=h.useCallback(r=>{t.current=r,e()},[e]);return[t,n]}function Da({defaultShow:e,show:t,onSelect:n,onToggle:r,itemSelector:i=`* [${Es("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const l=lm(),[u,c]=I1(t,e,r),[d,f]=wy(),m=d.current,[y,E]=wy(),C=y.current,g=P1(u),p=h.useRef(null),w=h.useRef(!1),S=h.useContext(ri),T=h.useCallback((b,V,H=V==null?void 0:V.type)=>{c(b,{originalEvent:V,source:H})},[c]),x=Re((b,V)=>{n==null||n(b,V),T(!1,V,"select"),V.isPropagationStopped()||S==null||S(b,V)}),k=h.useMemo(()=>({toggle:T,placement:o,show:u,menuElement:m,toggleElement:C,setMenu:f,setToggle:E}),[T,o,u,m,C,f,E]);m&&g&&!u&&(w.current=m.contains(m.ownerDocument.activeElement));const I=Re(()=>{C&&C.focus&&C.focus()}),B=Re(()=>{const b=p.current;let V=s;if(V==null&&(V=d.current&&cS(d.current)?"keyboard":!1),V===!1||V==="keyboard"&&!/^key.+$/.test(b))return;const H=Nn(d.current,i)[0];H&&H.focus&&H.focus()});h.useEffect(()=>{u?B():w.current&&(w.current=!1,I())},[u,w,I,B]),h.useEffect(()=>{p.current=null});const R=(b,V)=>{if(!d.current)return null;const H=Nn(d.current,i);let ie=H.indexOf(b)+V;return ie=Math.max(0,Math.min(ie,H.length)),H[ie]};return ND(h.useCallback(()=>l.document,[l]),"keydown",b=>{var V,H;const{key:ie}=b,J=b.target,te=(V=d.current)==null?void 0:V.contains(J),ue=(H=y.current)==null?void 0:H.contains(J);if(/input|textarea/i.test(J.tagName)&&(ie===" "||ie!=="Escape"&&te||ie==="Escape"&&J.type==="search")||!te&&!ue||ie==="Tab"&&(!d.current||!u))return;p.current=b.type;const L={originalEvent:b,source:b.type};switch(ie){case"ArrowUp":{const O=R(J,-1);O&&O.focus&&O.focus(),b.preventDefault();return}case"ArrowDown":if(b.preventDefault(),!u)c(!0,L);else{const O=R(J,1);O&&O.focus&&O.focus()}return;case"Tab":rm(J.ownerDocument,"keyup",O=>{var Z;(O.key==="Tab"&&!O.target||!((Z=d.current)!=null&&Z.contains(O.target)))&&c(!1,L)},{once:!0});break;case"Escape":ie==="Escape"&&(b.preventDefault(),b.stopPropagation()),c(!1,L);break}}),v(ri.Provider,{value:x,children:v(vc.Provider,{value:k,children:a})})}Da.displayName="Dropdown";Da.Menu=xm;Da.Toggle=fS;Da.Item=pS;const mS=h.createContext({});mS.displayName="DropdownContext";const gS=mS,vS=h.forwardRef(({bsPrefix:e,className:t,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=Ao,...a},l)=>{const u=ee(e,"dropdown-item"),[c,d]=hS({key:n,href:a.href,disabled:r,onClick:i,active:s});return v(o,{...a,...c,ref:l,className:z(t,u,d.isActive&&"active",r&&"disabled")})});vS.displayName="DropdownItem";const dP=vS,yS=h.createContext(null);yS.displayName="InputGroupContext";const wS=yS;function ES(e,t){return e}const fP={flip:!0};function CS(e,t,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",u=n?"left-start":"right-start",c=n?"left-end":"right-end";let d=e?o:s;return t==="up"?d=e?i:r:t==="end"?d=e?c:u:t==="start"?d=e?l:a:t==="down-centered"?d="bottom":t==="up-centered"&&(d="top"),d}const Tm=h.forwardRef(({bsPrefix:e,className:t,align:n,rootCloseEvent:r,flip:i,show:s,renderOnMount:o,as:a="div",popperConfig:l,variant:u,...c},d)=>{let f=!1;const m=h.useContext(Rr),y=ee(e,"dropdown-menu"),{align:E,drop:C,isRTL:g}=h.useContext(gS);n=n||E;const p=h.useContext(wS),w=[];if(n)if(typeof n=="object"){const b=Object.keys(n);if(b.length){const V=b[0],H=n[V];f=H==="start",w.push(`${y}-${V}-${H}`)}}else n==="end"&&(f=!0);const S=CS(f,C,g),[T,{hasShown:x,popper:k,show:I,toggle:B}]=lS({flip:i,rootCloseEvent:r,show:s,usePopper:!m&&w.length===0,offset:[0,2],popperConfig:l,placement:S});if(T.ref=Sa(ES(d),T.ref),M1(()=>{I&&(k==null||k.update())},[I]),!x&&!o&&!p)return null;typeof a!="string"&&(T.show=I,T.close=()=>B==null?void 0:B(!1),T.align=n);let R=c.style;return k!=null&&k.placement&&(R={...c.style,...T.style},c["x-placement"]=k.placement),v(a,{...c,...T,style:R,...(w.length||m)&&{"data-bs-popper":"static"},className:z(t,y,I&&"show",f&&`${y}-end`,u&&`${y}-${u}`,...w)})});Tm.displayName="DropdownMenu";Tm.defaultProps=fP;const hP=Tm,pP={variant:"primary",active:!1,disabled:!1},En=h.forwardRef(({as:e,bsPrefix:t,variant:n,size:r,active:i,className:s,...o},a)=>{const l=ee(t,"btn"),[u,{tagName:c}]=lp({tagName:e,...o});return v(c,{...u,...o,ref:a,className:z(s,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,o.href&&o.disabled&&"disabled")})});En.displayName="Button";En.defaultProps=pP;const SS=h.forwardRef(({bsPrefix:e,split:t,className:n,childBsPrefix:r,as:i=En,...s},o)=>{const a=ee(e,"dropdown-toggle"),l=h.useContext(vc);r!==void 0&&(s.bsPrefix=r);const[u]=dS();return u.ref=Sa(u.ref,ES(o)),v(i,{className:z(n,a,t&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...u,...s})});SS.displayName="DropdownToggle";const mP=SS,gP=ze("dropdown-header",{defaultProps:{role:"heading"}}),vP=ze("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),yP=ze("dropdown-item-text",{Component:"span"}),wP={navbar:!1,align:"start",autoClose:!0,drop:"down"},km=h.forwardRef((e,t)=>{const{bsPrefix:n,drop:r,show:i,className:s,align:o,onSelect:a,onToggle:l,focusFirstItemOnShow:u,as:c="div",navbar:d,autoClose:f,...m}=Qu(e,{show:"onToggle"}),y=h.useContext(wS),E=ee(n,"dropdown"),C=ap(),g=k=>f===!1?k==="click":f==="inside"?k!=="rootClose":f==="outside"?k!=="select":!0,p=Re((k,I)=>{I.originalEvent.currentTarget===document&&(I.source!=="keydown"||I.originalEvent.key==="Escape")&&(I.source="rootClose"),g(I.source)&&(l==null||l(k,I))}),S=CS(o==="end",r,C),T=h.useMemo(()=>({align:o,drop:r,isRTL:C}),[o,r,C]),x={down:E,"down-centered":`${E}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return v(gS.Provider,{value:T,children:v(Da,{placement:S,show:i,onSelect:a,onToggle:p,focusFirstItemOnShow:u,itemSelector:`.${E}-item:not(.disabled):not(:disabled)`,children:y?m.children:v(c,{...m,ref:t,className:z(s,i&&"show",x[r])})})})});km.displayName="Dropdown";km.defaultProps=wP;const Gr=Object.assign(km,{Toggle:mP,Menu:hP,Item:dP,ItemText:yP,Divider:vP,Header:gP}),xS=h.forwardRef(({id:e,title:t,children:n,bsPrefix:r,className:i,rootCloseEvent:s,menuRole:o,disabled:a,active:l,renderMenuOnMount:u,menuVariant:c,...d},f)=>{const m=ee(void 0,"nav-item");return M(Gr,{ref:f,...d,className:z(i,m),children:[v(Gr.Toggle,{id:e,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:Yu,children:t}),v(Gr.Menu,{role:o,renderOnMount:u,rootCloseEvent:s,variant:c,children:n})]})});xS.displayName="NavDropdown";const Ci=Object.assign(xS,{Item:Gr.Item,ItemText:Gr.ItemText,Divider:Gr.Divider,Header:Gr.Header}),EP="/cursoReact/resources/logo.png";function CP(){return v(Fi,{className:"bg",children:v(Gu,{children:v(Fi.Brand,{href:"/",children:v("img",{src:EP,width:"90",height:"90",className:"d-inline-block align-top",alt:"logo"})})})})}var TS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ey=Be.createContext&&Be.createContext(TS),Cr=globalThis&&globalThis.__assign||function(){return Cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Cr.apply(this,arguments)},SP=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function kS(e){return e&&e.map(function(t,n){return Be.createElement(t.tag,Cr({key:n},t.attr),kS(t.child))})}function NS(e){return function(t){return Be.createElement(xP,Cr({attr:Cr({},e.attr)},t),kS(e.child))}}function xP(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,o=SP(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Be.createElement("svg",Cr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Cr(Cr({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Be.createElement("title",null,s),e.children)};return Ey!==void 0?Be.createElement(Ey.Consumer,null,function(n){return t(n)}):t(TS)}function TP(e){return NS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}}]})(e)}function kP(e){return NS({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}}]})(e)}const NP=({cartQuantity:e})=>M("div",{className:"pt-0 d-flex flex-column",children:[e>0&&v("span",{className:"cart",children:e}),v(TP,{className:"fs-2 me-4 link-secondary"})]});function IP({cartQuantity:e}){return v(an,{children:M(Fi,{className:"bg w-100",expand:"lg",children:[v(CP,{}),M(Gu,{className:"m-4",children:[v(er,{to:"/cursoReact/",children:v(Fi.Brand,{className:"text-secondary fw-bold border-bottom",children:"Heladerías Yummy"})}),v(Fi.Toggle,{"aria-controls":"basic-navbar-nav"}),v(Fi.Collapse,{className:"justify-content-end text-end",id:"basic-navbar-nav",children:M(Fa,{children:[M(Ci,{className:"text-secondary fw-bold",title:"Nuestros Productos",id:"basic-nav-dropdown",children:[v(Ci.Item,{children:v(er,{to:"/cursoReact/productos/baldes",children:v("h6",{className:"dropdown-item",children:"Baldes"})})}),v(Ci.Item,{children:v(er,{to:"/cursoReact/productos/postres",children:v("h6",{className:"dropdown-item",children:"Postres"})})}),v(Ci.Item,{children:v(er,{to:"/cursoReact/productos/impulsivos",children:v("h6",{className:"dropdown-item",children:"Impulsivos"})})}),v(Ci.Divider,{}),v(Ci.Item,{children:v(er,{to:"/cursoReact/productos/todos",children:v("h6",{className:"dropdown-item fw-bold",children:"Ver todos"})})})]}),v(Fa.Link,{to:"/locales",className:"link-secondary fw-bold",children:"Nuestros Locales"}),v(Fa.Link,{to:"/nosotros",className:"link-secondary fw-bold",children:"Sobre Nosotros"}),v(Fa.Link,{to:"/contacto",className:"link-secondary fw-bold",children:"Contacto"})]})})]}),v(er,{to:"/cursoReact/carrito",children:v(NP,{cartQuantity:e})})]})})}function _P(e,t){var n=h.useRef(!0);h.useEffect(function(){if(n.current){n.current=!1;return}return e()},t)}var nh=Math.pow(2,31)-1;function IS(e,t,n){var r=n-Date.now();e.current=r<=nh?setTimeout(t,r):setTimeout(function(){return IS(e,t,n)},nh)}function $P(){var e=dp(),t=h.useRef();return om(function(){return clearTimeout(t.current)}),h.useMemo(function(){var n=function(){return clearTimeout(t.current)};function r(i,s){s===void 0&&(s=0),e()&&(n(),s<=nh?t.current=setTimeout(i,s):IS(t,i,Date.now()+s))}return{set:r,clear:n}},[])}const DP=ze("carousel-caption"),_S=h.forwardRef(({as:e="div",bsPrefix:t,className:n,...r},i)=>{const s=z(n,ee(t,"carousel-item"));return v(e,{ref:i,...r,className:s})});_S.displayName="CarouselItem";const RP=_S;function Cy(e,t){let n=0;return h.Children.map(e,r=>h.isValidElement(r)?t(r,n++):r)}function OP(e,t){let n=0;h.Children.forEach(e,r=>{h.isValidElement(r)&&t(r,n++)})}function AP(e,t){return h.Children.toArray(e).some(n=>h.isValidElement(n)&&n.type===t)}const LP=40,PP={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:v("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:v("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};function MP(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;const t=getComputedStyle(e);return t.display!=="none"&&t.visibility!=="hidden"&&getComputedStyle(e.parentNode).display!=="none"}const Nm=h.forwardRef((e,t)=>{const{as:n="div",bsPrefix:r,slide:i,fade:s,controls:o,indicators:a,indicatorLabels:l,activeIndex:u,onSelect:c,onSlide:d,onSlid:f,interval:m,keyboard:y,onKeyDown:E,pause:C,onMouseOver:g,onMouseOut:p,wrap:w,touch:S,onTouchStart:T,onTouchMove:x,onTouchEnd:k,prevIcon:I,prevLabel:B,nextIcon:R,nextLabel:b,variant:V,className:H,children:ie,...J}=Qu(e,{activeIndex:"onSelect"}),te=ee(r,"carousel"),ue=ap(),D=h.useRef(null),[L,O]=h.useState("next"),[Z,Y]=h.useState(!1),[he,Se]=h.useState(!1),[K,pe]=h.useState(u||0);h.useEffect(()=>{!he&&u!==K&&(D.current?O(D.current):O((u||0)>K?"next":"prev"),i&&Se(!0),pe(u||0))},[u,he,K,i]),h.useEffect(()=>{D.current&&(D.current=null)});let ke=0,wt;OP(ie,(G,me)=>{++ke,me===u&&(wt=G.props.interval)});const It=D1(wt),He=h.useCallback(G=>{if(he)return;let me=K-1;if(me<0){if(!w)return;me=ke-1}D.current="prev",c==null||c(me,G)},[he,K,c,w,ke]),$e=Re(G=>{if(he)return;let me=K+1;if(me>=ke){if(!w)return;me=0}D.current="next",c==null||c(me,G)}),bt=h.useRef();h.useImperativeHandle(t,()=>({element:bt.current,prev:He,next:$e}));const ae=Re(()=>{!document.hidden&&MP(bt.current)&&(ue?He():$e())}),Ft=L==="next"?"start":"end";_P(()=>{i||(d==null||d(K,Ft),f==null||f(K,Ft))},[K]);const Ts=`${te}-item-${L}`,gi=`${te}-item-${Ft}`,vi=h.useCallback(G=>{im(G),d==null||d(K,Ft)},[d,K,Ft]),ks=h.useCallback(()=>{Se(!1),f==null||f(K,Ft)},[f,K,Ft]),Ns=h.useCallback(G=>{if(y&&!/input|textarea/i.test(G.target.tagName))switch(G.key){case"ArrowLeft":G.preventDefault(),ue?$e(G):He(G);return;case"ArrowRight":G.preventDefault(),ue?He(G):$e(G);return}E==null||E(G)},[y,E,He,$e,ue]),Qt=h.useCallback(G=>{C==="hover"&&Y(!0),g==null||g(G)},[C,g]),Yn=h.useCallback(G=>{Y(!1),p==null||p(G)},[p]),Mr=h.useRef(0),un=h.useRef(0),Jn=$P(),se=h.useCallback(G=>{Mr.current=G.touches[0].clientX,un.current=0,C==="hover"&&Y(!0),T==null||T(G)},[C,T]),Xt=h.useCallback(G=>{G.touches&&G.touches.length>1?un.current=0:un.current=G.touches[0].clientX-Mr.current,x==null||x(G)},[x]),br=h.useCallback(G=>{if(S){const me=un.current;Math.abs(me)>LP&&(me>0?He(G):$e(G))}C==="hover"&&Jn.set(()=>{Y(!1)},m||void 0),k==null||k(G)},[S,C,He,$e,Jn,m,k]),Is=m!=null&&!Z&&!he,wc=h.useRef();h.useEffect(()=>{var G,me;if(!Is)return;const xn=ue?He:$e;return wc.current=window.setInterval(document.visibilityState?ae:xn,(G=(me=It.current)!=null?me:m)!=null?G:void 0),()=>{wc.current!==null&&clearInterval(wc.current)}},[Is,He,$e,It,m,ae,ue]);const Am=h.useMemo(()=>a&&Array.from({length:ke},(G,me)=>xn=>{c==null||c(me,xn)}),[a,ke,c]);return M(n,{ref:bt,...J,onKeyDown:Ns,onMouseOver:Qt,onMouseOut:Yn,onTouchStart:se,onTouchMove:Xt,onTouchEnd:br,className:z(H,te,i&&"slide",s&&`${te}-fade`,V&&`${te}-${V}`),children:[a&&v("div",{className:`${te}-indicators`,children:Cy(ie,(G,me)=>v("button",{type:"button","data-bs-target":"","aria-label":l!=null&&l.length?l[me]:`Slide ${me+1}`,className:me===K?"active":void 0,onClick:Am?Am[me]:void 0,"aria-current":me===K},me))}),v("div",{className:`${te}-inner`,children:Cy(ie,(G,me)=>{const xn=me===K;return i?v(pc,{in:xn,onEnter:xn?vi:void 0,onEntered:xn?ks:void 0,addEndListener:hc,children:(_s,GS)=>h.cloneElement(G,{...GS,className:z(G.props.className,xn&&_s!=="entered"&&Ts,(_s==="entered"||_s==="exiting")&&"active",(_s==="entering"||_s==="exiting")&&gi)})}):h.cloneElement(G,{className:z(G.props.className,xn&&"active")})})}),o&&M(an,{children:[(w||u!==0)&&M(Ao,{className:`${te}-control-prev`,onClick:He,children:[I,B&&v("span",{className:"visually-hidden",children:B})]}),(w||u!==ke-1)&&M(Ao,{className:`${te}-control-next`,onClick:$e,children:[R,b&&v("span",{className:"visually-hidden",children:b})]})]})]})});Nm.displayName="Carousel";Nm.defaultProps=PP;const rl=Object.assign(Nm,{Caption:DP,Item:RP}),bP="/cursoReact/resources/img13.jpg",FP="/cursoReact/resources/img27.jpg",BP="/cursoReact/resources/img35.jpg";function UP(){return M(rl,{fade:!0,children:[v(rl.Item,{children:v("img",{className:"img-fluid",src:bP,alt:"First slide"})}),v(rl.Item,{children:v("img",{className:"img-fluid",src:FP,alt:"Second slide"})}),v(rl.Item,{children:v("img",{className:"img-fluid",src:BP,alt:"Third slide"})})]})}const $S=h.forwardRef(({bsPrefix:e,variant:t,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{e=ee(e,"spinner");const l=`${e}-${n}`;return v(i,{ref:a,...o,className:z(s,l,r&&`${l}-${r}`,t&&`text-${t}`)})});$S.displayName="Spinner";const DS=h.forwardRef(({bsPrefix:e,className:t,variant:n,as:r="img",...i},s)=>{const o=ee(e,"card-img");return v(r,{ref:s,className:z(n?`${o}-${n}`:o,t),...i})});DS.displayName="CardImg";const jP=DS,RS=h.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=ee(e,"card-header"),o=h.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return v(cp.Provider,{value:o,children:v(n,{ref:i,...r,className:z(t,s)})})});RS.displayName="CardHeader";const VP=RS,zP=gc("h5"),HP=gc("h6"),OS=ze("card-body"),WP=ze("card-title",{Component:zP}),qP=ze("card-subtitle",{Component:HP}),KP=ze("card-link",{Component:"a"}),GP=ze("card-text",{Component:"p"}),QP=ze("card-footer"),XP=ze("card-img-overlay"),YP={body:!1},Im=h.forwardRef(({bsPrefix:e,className:t,bg:n,text:r,border:i,body:s,children:o,as:a="div",...l},u)=>{const c=ee(e,"card");return v(a,{ref:u,...l,className:z(t,c,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?v(OS,{children:o}):o})});Im.displayName="Card";Im.defaultProps=YP;const Je=Object.assign(Im,{Img:jP,Title:WP,Subtitle:qP,Body:OS,Link:KP,Text:GP,Header:VP,Footer:QP,ImgOverlay:XP});function JP({as:e,bsPrefix:t,className:n,...r}){t=ee(t,"col");const i=T1(),s=k1(),o=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,d,f;typeof u=="object"&&u!=null?{span:c,offset:d,order:f}=u:c=u;const m=l!==s?`-${l}`:"";c&&o.push(c===!0?`${t}${m}`:`${t}${m}-${c}`),f!=null&&a.push(`order${m}-${f}`),d!=null&&a.push(`offset${m}-${d}`)}),[{...r,className:z(n,...o,...a)},{as:e,bsPrefix:t,spans:o}]}const fn=h.forwardRef((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=JP(e);return v(i,{...r,ref:t,className:z(n,!o.length&&s)})});fn.displayName="Col";const ZP={type:rn.string,tooltip:rn.bool,as:rn.elementType},_m=h.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:r=!1,...i},s)=>v(e,{...i,ref:s,className:z(t,`${n}-${r?"tooltip":"feedback"}`)}));_m.displayName="Feedback";_m.propTypes=ZP;const AS=_m,eM=h.createContext({}),Gn=eM,LS=h.forwardRef(({id:e,bsPrefix:t,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:u}=h.useContext(Gn);return t=ee(t,"form-check-input"),v(o,{...a,ref:l,type:r,id:e||u,className:z(n,t,i&&"is-valid",s&&"is-invalid")})});LS.displayName="FormCheckInput";const PS=LS,MS=h.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...r},i)=>{const{controlId:s}=h.useContext(Gn);return e=ee(e,"form-check-label"),v("label",{...r,ref:i,htmlFor:n||s,className:z(t,e)})});MS.displayName="FormCheckLabel";const rh=MS,bS=h.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:d,style:f,title:m="",type:y="checkbox",label:E,children:C,as:g="input",...p},w)=>{t=ee(t,"form-check"),n=ee(n,"form-switch");const{controlId:S}=h.useContext(Gn),T=h.useMemo(()=>({controlId:e||S}),[S,e]),x=!C&&E!=null&&E!==!1||AP(C,rh),k=v(PS,{...p,type:y==="switch"?"checkbox":y,ref:w,isValid:o,isInvalid:a,disabled:s,as:g});return v(Gn.Provider,{value:T,children:v("div",{style:f,className:z(d,x&&t,r&&`${t}-inline`,i&&`${t}-reverse`,y==="switch"&&n),children:C||M(an,{children:[k,x&&v(rh,{title:m,children:E}),u&&v(AS,{type:c,tooltip:l,children:u})]})})})});bS.displayName="FormCheck";const gu=Object.assign(bS,{Input:PS,Label:rh}),FS=h.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...d},f)=>{const{controlId:m}=h.useContext(Gn);e=ee(e,"form-control");let y;return l?y={[`${e}-plaintext`]:!0}:y={[e]:!0,[`${e}-${n}`]:n},v(c,{...d,type:t,size:r,ref:f,readOnly:u,id:i||m,className:z(s,y,o&&"is-valid",a&&"is-invalid",t==="color"&&`${e}-color`)})});FS.displayName="FormControl";const tM=Object.assign(FS,{Feedback:AS}),nM=ze("form-floating"),BS=h.forwardRef(({controlId:e,as:t="div",...n},r)=>{const i=h.useMemo(()=>({controlId:e}),[e]);return v(Gn.Provider,{value:i,children:v(t,{...n,ref:r})})});BS.displayName="FormGroup";const US=BS,rM={column:!1,visuallyHidden:!1},$m=h.forwardRef(({as:e="label",bsPrefix:t,column:n,visuallyHidden:r,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=h.useContext(Gn);t=ee(t,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=z(i,t,r&&"visually-hidden",n&&u);return s=s||l,n?v(fn,{ref:a,as:"label",className:c,htmlFor:s,...o}):v(e,{ref:a,className:c,htmlFor:s,...o})});$m.displayName="FormLabel";$m.defaultProps=rM;const iM=$m,jS=h.forwardRef(({bsPrefix:e,className:t,id:n,...r},i)=>{const{controlId:s}=h.useContext(Gn);return e=ee(e,"form-range"),v("input",{...r,type:"range",ref:i,className:z(t,e),id:n||s})});jS.displayName="FormRange";const sM=jS,VS=h.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:u}=h.useContext(Gn);return e=ee(e,"form-select"),v("select",{...a,size:n,ref:l,className:z(r,e,t&&`${e}-${t}`,i&&"is-valid",s&&"is-invalid"),id:o||u})});VS.displayName="FormSelect";const oM=VS,zS=h.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:r,...i},s)=>(e=ee(e,"form-text"),v(n,{...i,ref:s,className:z(t,e,r&&"text-muted")})));zS.displayName="FormText";const aM=zS,HS=h.forwardRef((e,t)=>v(gu,{...e,ref:t,type:"switch"}));HS.displayName="Switch";const lM=Object.assign(HS,{Input:gu.Input,Label:gu.Label}),WS=h.forwardRef(({bsPrefix:e,className:t,children:n,controlId:r,label:i,...s},o)=>(e=ee(e,"form-floating"),M(US,{ref:o,className:z(t,e),controlId:r,...s,children:[n,v("label",{htmlFor:r,children:i})]})));WS.displayName="FloatingLabel";const uM=WS,cM={_ref:rn.any,validated:rn.bool,as:rn.elementType},Dm=h.forwardRef(({className:e,validated:t,as:n="form",...r},i)=>v(n,{...r,ref:i,className:z(e,t&&"was-validated")}));Dm.displayName="Form";Dm.propTypes=cM;const ge=Object.assign(Dm,{Group:US,Control:tM,Floating:nM,Check:gu,Switch:lM,Label:iM,Text:aM,Range:sM,Select:oM,FloatingLabel:uM});var il;function Sy(e){if((!il&&il!==0||e)&&xs){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),il=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return il}const dM=ze("modal-body"),qS=h.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},u)=>{e=ee(e,"modal");const c=`${e}-dialog`,d=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return v("div",{...l,ref:u,className:z(c,t,i&&`${e}-${i}`,r&&`${c}-centered`,a&&`${c}-scrollable`,s&&d),children:v("div",{className:z(`${e}-content`,n),children:o})})});qS.displayName="ModalDialog";const KS=qS,fM=ze("modal-footer"),hM={closeLabel:"Close",closeButton:!1},Rm=h.forwardRef(({bsPrefix:e,className:t,...n},r)=>(e=ee(e,"modal-header"),v(QC,{ref:r,...n,className:z(t,e)})));Rm.displayName="ModalHeader";Rm.defaultProps=hM;const pM=Rm,mM=gc("h4"),gM=ze("modal-title",{Component:mM}),vM={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:KS};function yM(e){return v(cm,{...e,timeout:null})}function wM(e){return v(cm,{...e,timeout:null})}const Om=h.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o,"aria-labelledby":a,"aria-describedby":l,"aria-label":u,show:c,animation:d,backdrop:f,keyboard:m,onEscapeKeyDown:y,onShow:E,onHide:C,container:g,autoFocus:p,enforceFocus:w,restoreFocus:S,restoreFocusOptions:T,onEntered:x,onExit:k,onExiting:I,onEnter:B,onEntering:R,onExited:b,backdropClassName:V,manager:H,...ie},J)=>{const[te,ue]=h.useState({}),[D,L]=h.useState(!1),O=h.useRef(!1),Z=h.useRef(!1),Y=h.useRef(null),[he,Se]=L1(),K=Sa(J,Se),pe=Re(C),ke=ap();e=ee(e,"modal");const wt=h.useMemo(()=>({onHide:pe}),[pe]);function It(){return H||YC({isRTL:ke})}function He(se){if(!xs)return;const Xt=It().getScrollbarWidth()>0,br=se.scrollHeight>xa(se).documentElement.clientHeight;ue({paddingRight:Xt&&!br?Sy():void 0,paddingLeft:!Xt&&br?Sy():void 0})}const $e=Re(()=>{he&&He(he.dialog)});om(()=>{Jf(window,"resize",$e),Y.current==null||Y.current()});const bt=()=>{O.current=!0},ae=se=>{O.current&&he&&se.target===he.dialog&&(Z.current=!0),O.current=!1},Ft=()=>{L(!0),Y.current=jC(he.dialog,()=>{L(!1)})},Ts=se=>{se.target===se.currentTarget&&Ft()},gi=se=>{if(f==="static"){Ts(se);return}if(Z.current||se.target!==se.currentTarget){Z.current=!1;return}C==null||C()},vi=se=>{m?y==null||y(se):(se.preventDefault(),f==="static"&&Ft())},ks=(se,Xt)=>{se&&He(se),B==null||B(se,Xt)},Ns=se=>{Y.current==null||Y.current(),k==null||k(se)},Qt=(se,Xt)=>{R==null||R(se,Xt),rm(window,"resize",$e)},Yn=se=>{se&&(se.style.display=""),b==null||b(se),Jf(window,"resize",$e)},Mr=h.useCallback(se=>v("div",{...se,className:z(`${e}-backdrop`,V,!d&&"show")}),[d,V,e]),un={...n,...te};un.display="block";const Jn=se=>v("div",{role:"dialog",...se,style:un,className:z(t,e,D&&`${e}-static`,!d&&"show"),onClick:f?gi:void 0,onMouseUp:ae,"aria-label":u,"aria-labelledby":a,"aria-describedby":l,children:v(o,{...ie,onMouseDown:bt,className:r,contentClassName:i,children:s})});return v(fm.Provider,{value:wt,children:v(KC,{show:c,ref:K,backdrop:f,container:g,keyboard:!0,autoFocus:p,enforceFocus:w,restoreFocus:S,restoreFocusOptions:T,onEscapeKeyDown:vi,onShow:E,onHide:C,onEnter:ks,onEntering:Qt,onEntered:x,onExit:Ns,onExiting:I,onExited:Yn,manager:It(),transition:d?yM:void 0,backdropTransition:d?wM:void 0,renderBackdrop:Mr,renderDialog:Jn})})});Om.displayName="Modal";Om.defaultProps=vM;const $n=Object.assign(Om,{Body:dM,Header:pM,Title:gM,Footer:fM,Dialog:KS,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Tn=h.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=ee(e,"row"),o=T1(),a=k1(),l=`${s}-cols`,u=[];return o.forEach(c=>{const d=r[c];delete r[c];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const m=c!==a?`-${c}`:"";f!=null&&u.push(`${l}${m}-${f}`)}),v(n,{ref:i,...r,className:z(t,s,...u)})});Tn.displayName="Row";const EM=h.forwardRef(({bsPrefix:e,className:t,striped:n,bordered:r,borderless:i,hover:s,size:o,variant:a,responsive:l,...u},c)=>{const d=ee(e,"table"),f=z(t,d,a&&`${d}-${a}`,o&&`${d}-${o}`,n&&`${d}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${d}-bordered`,i&&`${d}-borderless`,s&&`${d}-hover`),m=v("table",{...u,className:f,ref:c});if(l){let y=`${d}-responsive`;return typeof l=="string"&&(y=`${y}-${l}`),v("div",{className:y,children:m})}return m}),CM=EM,xy=({product:e,carts:t,getCartList:n,updateCartQuantity:r})=>{const i=u=>{const c=document.querySelectorAll(".qty");for(const d of c)if(d.id===u)return d.value;return!1},[s,o]=h.useState(!1),a=()=>{o(!0)},l=async(u,c)=>{if(c.find(f=>f.product===u.id))console.log("El producto ya existe en el carrito"),console.log("product.id: "+u.id),console.log("product.title: "+u.title),console.log("product.price: "+u.price),console.log("product.quantity: "+i(u.id)),(await Yd(U$(Do(Ln,"carts"),j$("product","==",u.id)))).forEach(m=>{const y=Ea(Ln,"carts",m.id),E={quantity:parseInt(m.data().quantity)+parseInt(i(u.id))};G$(y,E)});else{console.log("No existe el producto en el carrito");const f=Do(Ln,"carts"),m={product:u.id,title:u.title,price:u.price,quantity:i(u.id)};await x1(f,m),console.log("product.id: "+u.id),console.log("product.title: "+u.title),console.log("product.price: "+u.price),console.log("product.quantity: "+i(u.id))}a(),n(),r(c)};return M(an,{children:[M(Je,{className:"m-2",children:[M(Je.Body,{children:[v(Je.Img,{className:"img-fluid",variant:"top",src:e.image}),v(Je.Title,{className:"fs-5 text-secondary",children:e.title}),M(Je.Title,{className:"p-1 fs-4 fw-bold text-secondary",children:["$ ",e.price]}),v(er,{to:`${e.id}`,children:v(En,{className:"mx-1 w-75 btn",variant:"success",children:"Ver más"})},e.id)]}),M(Je.Footer,{className:"d-flex px-1",children:[M(ge.Select,{className:"mx-1 w-50 qty",id:e.id,onChange:()=>i(e.id),children:[v("option",{value:"1",children:"1"}),v("option",{value:"2",children:"2"}),v("option",{value:"3",children:"3"}),v("option",{value:"4",children:"4"}),v("option",{value:"5",children:"5"}),v("option",{value:"6",children:"6"})]}),v(En,{className:"mx-1 w-75 btn",variant:"success",id:e.id,onClick:()=>l(e,t),children:"Agregar al carrito"})]})]}),M($n,{size:"sm",show:s,onHide:()=>o(!1),"aria-labelledby":"example-modal-sizes-title-sm",children:[v($n.Header,{closeButton:!0,children:v($n.Title,{id:"example-modal-sizes-title-sm",children:"Muchas gracias!"})}),v($n.Body,{className:"text-center",children:"El producto a sido agregado al carrito!"})]})]})},SM=({products:e,category:t,carts:n,getCartList:r,updateCartQuantity:i})=>{const s=na().pathname.split("/")[3];if(console.log(s),s=="todos"){const o=e.sort((a,l)=>a.category<l.category?-1:a.category>l.category?1:0);return v("div",{className:"d-flex justify-content-center flex-wrap p-4",children:o.map(a=>v(xy,{product:a,carts:n,getCartList:r,updateCartQuantity:i},a.id))})}else return v("div",{className:"d-flex justify-content-center flex-wrap p-4",children:e.filter(o=>o.category===t).map(o=>v(xy,{product:o,carts:n,getCartList:r,updateCartQuantity:i},o.id))})};function xM({products:e,carts:t,getCartList:n,updateCartQuantity:r}){const{category:i}=vd();return v(SM,{products:e,category:i,carts:t,getCartList:n,updateCartQuantity:r})}const TM="_container_147rw_1",kM={container:TM},NM=({getProduct:e,product:t,id:n})=>(h.useEffect(()=>{e(n)},[]),M("div",{className:kM.container,children:[v("img",{className:"img-fluid",src:t.image}),v("h4",{children:t.title}),v("p",{children:t.description}),M("h5",{children:["$ ",t.price]}),v("a",{href:"javascript:history.go(-1)",children:v("button",{className:"m-1 btn btn-success",children:"Volver"})})]})),IM=()=>{const{category:e}=vd(),{id:t}=vd(),[n,r]=h.useState({});return v("div",{children:v(NM,{category:e,getProduct:async s=>{const o=Ea(Ln,"products",s),a=await K$(o);if(a.exists())r(a.data());else return null},product:n,id:t})})},_M=({cart:e,getCartList:t,productTotal:n})=>{const r=async i=>{const s=Ea(Ln,"carts",i);await S1(s),t()};return v("div",{className:"w-100 d-flex justify-content-center align-items-center",children:v(Je,{className:"w-75 m-1",children:M(Je.Body,{className:"p-1 d-flex justify-content-center align-items-center",children:[v(Je.Text,{className:"fs-5 my-0 px-2 w-50 text-start",children:e.title}),M(Je.Text,{className:"fs-5 my-0 w-25",children:["$ ",e.price]}),v(Je.Text,{className:"fs-5 my-0 w-25",children:e.quantity}),M(Je.Text,{className:"fs-5 my-0 w-25 fw-bold",children:["$ ",n()]}),v(Je.Text,{className:"fs-5 my-0 w-25",children:v(kP,{onClick:()=>r(e.id)})})]})})})};function $M({carts:e,getCartList:t,emptyCart:n}){h.useEffect(()=>{t()},[]);const r=e.reduce((s,o)=>s+parseInt(o.quantity),0),i=e.reduce((s,o)=>s+parseInt(o.quantity)*parseFloat(o.price),0).toFixed(2);return e.length===0?v("h2",{className:"m-4",children:"Ooopss... el carrito esta vacío"}):M("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[v("h2",{className:"mt-4 mb-5",children:"Carrito de compra"}),e.map(s=>v(_M,{cart:s,getCartList:t,productTotal:()=>(parseInt(s.quantity)*parseFloat(s.price)).toFixed(2)},s.id)),v(Je,{className:"w-75",children:M(Je.Footer,{className:"text-end",children:[M(Je.Text,{className:"fs-5 fw-bold my-0",children:["Cantidad: ",r," items"]}),M(Je.Text,{className:"fs-3 fw-bold my-0",children:["Valor total: $ ",i]})]})}),M("div",{className:"m-5 d-flex flex-row justify-content-center",children:[v(En,{className:"mx-1 btn",variant:"success",onClick:()=>n(),children:"Vaciar carrito"}),v(er,{to:"/cursoReact/purchase",children:v(En,{className:"mx-1 btn",variant:"success",children:"Continuar pedido"})})]})]})}const DM="/cursoReact/assets/footer_img-fb247f21.png",RM="/cursoReact/assets/ubicacion-3e5b64e4.png",OM="/cursoReact/assets/telefono-e3e355ce.png",AM=()=>v("footer",{className:"bg",children:v("div",{className:"container-fluid",children:M("div",{className:"row",children:[v("div",{className:"col",children:v("img",{className:"img-fluid",src:DM,width:"80%"})}),M("div",{className:"col d-flex flex-column justify-content-center",children:[M("div",{className:"row d-flex flex-column",children:[M("div",{className:"col",children:[v("img",{className:"img-fluid",src:RM,width:"7%",alt:"ubicación"}),v("span",{className:"text-secondary text-wrap fs-5 fw-bold",children:" Av. San Martín 1251 - Laprida, Buenos Aires."})]}),M("div",{className:"col",children:[v("img",{className:"img-fluid",src:OM,width:"7%",alt:"ubicación"}),v("span",{className:"text-secondary text-wrap fs-5 fw-bold",children:" 2284 304109"})]})]}),v("div",{className:"row d-flex flex-column",children:v("div",{className:"col",children:v("span",{className:"text-secondary text-wrap fs-4 fw-bold",children:"@yummy.helados"})})})]})]})})}),LM=({carts:e,cartQuantity:t,emptyCart:n})=>{const[r,i]=h.useState(!1),[s,o]=h.useState(""),[a,l]=h.useState(""),[u,c]=h.useState(""),[d,f]=h.useState(""),[m,y]=h.useState(""),[E,C]=h.useState(""),[g,p]=h.useState(""),w=e.reduce((x,k)=>x+parseInt(k.quantity)*parseFloat(k.price),0).toFixed(2),S=x=>{x.preventDefault(),i(!0)},T=async x=>{if(x){const k={a_Usuario:["Nombre: "+s,"Apellido: "+a,"E-mail: "+u,"Dirección: "+d,"Ciudad: "+m,"Provincia: "+E],b_Pago:g,c_Cart:e,d_Items:t,e_Total:w},I=Do(Ln,"orders");await x1(I,k),console.log("Compra realizada con éxito"),n(),o(""),l(""),c(""),f(""),y(""),C(""),i(!1)}else i(!1)};return M(an,{children:[v("div",{className:"w-100",children:v("h2",{className:"mt-4 mb-5",children:"Finaliza tu compra"})}),M("div",{className:"row d-flex",children:[M("div",{className:"col-7 ms-5 text-start",children:[v("h5",{className:"mb-5",children:"Para finalizar el pedido completa tus datos personales:"}),M(ge,{className:"d-flex flex-column",onSubmit:S,children:[M(ge.Group,{as:Tn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"Nombre: "}),v(fn,{sm:8,children:v(ge.Control,{type:"text",value:s,onChange:x=>o(x.target.value),required:!0})})]}),M(ge.Group,{as:Tn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"Apellido: "}),v(fn,{sm:8,children:v(ge.Control,{type:"text",value:a,onChange:x=>l(x.target.value),required:!0})})]}),M(ge.Group,{as:Tn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"E-mail: "}),v(fn,{sm:8,children:v(ge.Control,{type:"email",value:u,onChange:x=>c(x.target.value),required:!0})})]}),M(ge.Group,{as:Tn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"Dirección: "}),v(fn,{sm:8,children:v(ge.Control,{type:"text",min:"1",value:d,onChange:x=>f(x.target.value),required:!0})})]}),M(ge.Group,{as:Tn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"Ciudad: "}),v(fn,{sm:8,children:v(ge.Control,{type:"text",min:"1",value:m,onChange:x=>y(x.target.value),required:!0})})]}),M(ge.Group,{as:Tn,className:"mb-3",children:[v(ge.Label,{className:"text-start",column:!0,sm:2,children:"Provincia: "}),v(fn,{sm:8,children:v(ge.Control,{type:"text",min:"1",value:E,onChange:x=>C(x.target.value),required:!0})})]}),M(ge.Group,{as:Tn,className:"mb-3 align-items-center",children:[v(ge.Label,{className:"text-start",column:!0,sm:5,children:"Selecciona un método de pago: "}),["radio"].map(x=>v(fn,{sm:5,children:M("div",{className:"d-flex flex-column align-items-start",children:[v(ge.Check,{inline:!0,label:"Transferencia bancaria",name:"group1",type:x,id:`inline-${x}-1`,value:"Transferencia bancaria",onChange:k=>p(k.target.value)}),v(ge.Check,{inline:!0,label:"Tarjeta de crédito",name:"group1",type:x,id:`inline-${x}-1`,value:"Tarjeta de crédito",onChange:k=>p(k.target.value)}),v(ge.Check,{inline:!0,label:"Efectivo al momento de la entrega",name:"group1",type:x,id:`inline-${x}-1`,value:"Efectivo al momento de la entrega",onChange:k=>p(k.target.value)})]},`inline-${x}`)}))]}),v(ge.Group,{as:Tn,className:"my-4",children:v(fn,{sm:10,className:"d-flex justify-content-end",children:v(En,{className:"btn btn-success",type:"submit",onClick:S,children:"Finalizar pedido"})})})]})]}),M("div",{className:"col-4 me-5 text-start",children:[v("h5",{className:"mb-5",children:"Resumen de tu pedido:"}),M(CM,{children:[v("thead",{children:M("tr",{children:[v("th",{className:"w-50 text-start",children:"Items"}),v("th",{className:"w-25 text-center",children:"Unidades"}),v("th",{className:"w-25 text-end",children:"Subtotal"})]})}),e.map(x=>{const k=()=>(parseInt(x.quantity)*parseFloat(x.price)).toFixed(2);return v("tbody",{children:M("tr",{children:[v("td",{className:"w-50 text-start",children:x.title}),v("td",{className:"w-25 text-center",children:x.quantity}),M("td",{className:"w-25 text-end",children:["$ ",k()]})]})})}),v("tbody",{children:M("tr",{children:[v("th",{className:"w-50 text-start",children:"TOTAL"}),v("th",{className:"w-25 text-center",children:t}),M("th",{className:"w-25 text-end",children:["$ ",w]})]})})]})]})]}),v("div",{className:"modal show",style:{display:"block",position:"initial"},children:M($n,{show:r,onHide:()=>i(!1),children:[v($n.Header,{closeButton:!0,children:v($n.Title,{children:"Muchas gracias por realizar tu pedido!"})}),v($n.Body,{children:v("p",{children:"En breves nos pondremos en contacto para finalizar la compra."})}),M($n.Footer,{children:[v(En,{variant:"success",onClick:()=>T(!0),children:"Realizar pedido"}),v(En,{variant:"secondary",onClick:()=>T(!1),children:"Cancelar"})]})]})})]})};function PM(){const[e,t]=h.useState([]),n=Do(Ln,"products"),r=async()=>{const E=(await Yd(n)).docs.map(C=>({...C.data(),id:C.id}));t(E),m(!1)},[i,s]=h.useState(0),o=y=>{const E=y.reduce((C,g)=>C+parseInt(g.quantity),0);s(E),console.log(i)},[a,l]=h.useState([]),u=Do(Ln,"carts"),c=async()=>{const E=(await Yd(u)).docs.map(C=>({...C.data(),id:C.id}));l(E),o(E),console.log(a)},d=()=>{a.forEach(y=>{const E=Ea(Ln,"carts",y.id);S1(E)}),c()};h.useEffect(()=>{r(),c()},[]);const[f,m]=h.useState(!0);return f?M(an,{children:[v($S,{animation:"border",role:"status",children:v("span",{className:"visually-hidden",children:"Loading..."})}),v("h2",{className:"m-4",children:"Cargando..."})]}):M("div",{className:"App",children:[v(IP,{cartQuantity:i}),M(mT,{children:[v(Fr,{path:"/cursoReact/",element:v(UP,{})}),v(Fr,{path:"/cursoReact/productos/:category",element:v(xM,{products:e,carts:a,getCartList:c,updateCartQuantity:o})}),v(Fr,{path:"/cursoReact/productos/:category/:id",element:v(IM,{})}),v(Fr,{path:"/cursoReact/carrito",element:v($M,{carts:a,setCarts:l,getCartList:c,emptyCart:d})}),v(Fr,{path:"/cursoReact/purchase",element:v(LM,{carts:a,cartQuantity:i,emptyCart:d})}),v(Fr,{path:"*",element:v("h4",{className:"m-4",children:"404 Oops..."})})]}),v(AM,{})]})}var ih={},Ty=zl;ih.createRoot=Ty.createRoot,ih.hydrateRoot=Ty.hydrateRoot;ih.createRoot(document.getElementById("root")).render(v(Be.StrictMode,{children:v(ET,{children:v(PM,{})})}));
